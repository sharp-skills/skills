{"d": [{"url": "https://api.github.com/repos/jquense/yup/issues/1912", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1912/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1912/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1912/events", "html_url": "https://github.com/jquense/yup/issues/1912", "id": 1579876495, "node_id": "I_kwDOAXOMiM5eKwCP", "number": 1912, "title": "TypeScript complains when chaining .when() calls in v1", "user": {"login": "Basaingeal", "id": 36519219, "node_id": "MDQ6VXNlcjM2NTE5MjE5", "avatar_url": "https://avatars.githubusercontent.com/u/36519219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Basaingeal", "html_url": "https://github.com/Basaingeal", "followers_url": "https://api.github.com/users/Basaingeal/followers", "following_url": "https://api.github.com/users/Basaingeal/following{/other_user}", "gists_url": "https://api.github.com/users/Basaingeal/gists{/gist_id}", "starred_url": "https://api.github.com/users/Basaingeal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Basaingeal/subscriptions", "organizations_url": "https://api.github.com/users/Basaingeal/orgs", "repos_url": "https://api.github.com/users/Basaingeal/repos", "events_url": "https://api.github.com/users/Basaingeal/events{/privacy}", "received_events_url": "https://api.github.com/users/Basaingeal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 24, "created_at": "2023-02-10T15:22:31Z", "updated_at": "2024-06-11T08:17:28Z", "closed_at": "2023-02-25T18:52:40Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\nWhen you call `when()` a 2nd time in a schema, TypeScript complains with an arcane type error\r\n\r\n**To Reproduce**\r\n\r\nThis is an example schema that used to work before v1.\r\n\r\n```typescript\r\n{\r\n    appointmentStatus: mixed<AppointmentStatus>()\r\n      .oneOf(Object.values(AppointmentStatus))\r\n      .required()\r\n      .label(\"Appointment Status\"),\r\n    firstComeFirstServe: boolean()\r\n      .when([\"appointmentStatus\"], {\r\n        is: AppointmentStatus.Scheduled,\r\n        then: (schema) => schema.required(),\r\n      })\r\n      .label(\"First Come First Serve\"),\r\n    timeEarly: string()\r\n      .label(\"Time\")\r\n      .when([\"appointmentStatus\"], {\r\n        is: AppointmentStatus.Scheduled,\r\n        then: (schema) => schema.required(),\r\n      })\r\n      .when([\"firstComeFirstServe\"], {\r\n        is: true,\r\n        then: (schema) =>\r\n          schema.label(\r\n            \"Time Early\"\r\n          ),\r\n      }),\r\n  };\r\n```\r\n\r\nTypeScript gives this error, concerning the 2nd `when` call for the `timeEarly` field.\r\n```\r\nThis expression is not callable.    \r\n  Each member of the union type '{ <U extends ISchema<any, any, any, any> = StringSchema<string | undefined, AnyObject, undefined, \"\">>(builder: ConditionBuilder<StringSchema<string | undefined, AnyObject, undefined, \"\">, U>): U; <U extends ISchema<...> = StringSchema<...>>(keys: string | string[], builder: ConditionBuilder<...>): U; <UThen extends...' has signatures, but none of those signatures are compatible with each other.\r\n```\r\n\r\n**Expected behavior**\r\nThis worked fine with no type errors in `v0.x`\r\n\r\n\r\n**Platform (please complete the following information):**\r\nTypeScript v4.9.5\r\nyup v1.0.0\r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1912/reactions", "total_count": 8, "+1": 8, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1912/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1183", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1183/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1183/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1183/events", "html_url": "https://github.com/jquense/yup/issues/1183", "id": 767590260, "node_id": "MDU6SXNzdWU3Njc1OTAyNjA=", "number": 1183, "title": "Incorrect types using SchemaOf with DateSchema", "user": {"login": "Kaldy14", "id": 45780698, "node_id": "MDQ6VXNlcjQ1NzgwNjk4", "avatar_url": "https://avatars.githubusercontent.com/u/45780698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kaldy14", "html_url": "https://github.com/Kaldy14", "followers_url": "https://api.github.com/users/Kaldy14/followers", "following_url": "https://api.github.com/users/Kaldy14/following{/other_user}", "gists_url": "https://api.github.com/users/Kaldy14/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kaldy14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kaldy14/subscriptions", "organizations_url": "https://api.github.com/users/Kaldy14/orgs", "repos_url": "https://api.github.com/users/Kaldy14/repos", "events_url": "https://api.github.com/users/Kaldy14/events{/privacy}", "received_events_url": "https://api.github.com/users/Kaldy14/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2565100072, "node_id": "MDU6TGFiZWwyNTY1MTAwMDcy", "url": "https://api.github.com/repos/jquense/yup/labels/typescript", "name": "typescript", "color": "d617bf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 19, "created_at": "2020-12-15T13:26:35Z", "updated_at": "2024-03-17T12:48:11Z", "closed_at": "2024-03-17T12:48:11Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\nIncorrect types using SchemaOf with DateSchema\r\n\r\n**To Reproduce**\r\nSee example https://codesandbox.io/s/kaldy-dgj5g?file=/src/index.ts\r\n\r\n**Expected behavior**\r\nTypes will match\r\n\r\n**Platform (please complete the following information):**\r\n- Version 0.32.8\r\n- Version of @types/yup 0.29.10\r\n", "closed_by": {"login": "Kaldy14", "id": 45780698, "node_id": "MDQ6VXNlcjQ1NzgwNjk4", "avatar_url": "https://avatars.githubusercontent.com/u/45780698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kaldy14", "html_url": "https://github.com/Kaldy14", "followers_url": "https://api.github.com/users/Kaldy14/followers", "following_url": "https://api.github.com/users/Kaldy14/following{/other_user}", "gists_url": "https://api.github.com/users/Kaldy14/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kaldy14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kaldy14/subscriptions", "organizations_url": "https://api.github.com/users/Kaldy14/orgs", "repos_url": "https://api.github.com/users/Kaldy14/repos", "events_url": "https://api.github.com/users/Kaldy14/events{/privacy}", "received_events_url": "https://api.github.com/users/Kaldy14/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1183/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1183/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/322", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/322/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/322/events", "html_url": "https://github.com/jquense/yup/issues/322", "id": 364182972, "node_id": "MDU6SXNzdWUzNjQxODI5NzI=", "number": 322, "title": "0 is not a positive number", "user": {"login": "elijahcarrel", "id": 6487982, "node_id": "MDQ6VXNlcjY0ODc5ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/6487982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elijahcarrel", "html_url": "https://github.com/elijahcarrel", "followers_url": "https://api.github.com/users/elijahcarrel/followers", "following_url": "https://api.github.com/users/elijahcarrel/following{/other_user}", "gists_url": "https://api.github.com/users/elijahcarrel/gists{/gist_id}", "starred_url": "https://api.github.com/users/elijahcarrel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elijahcarrel/subscriptions", "organizations_url": "https://api.github.com/users/elijahcarrel/orgs", "repos_url": "https://api.github.com/users/elijahcarrel/repos", "events_url": "https://api.github.com/users/elijahcarrel/events{/privacy}", "received_events_url": "https://api.github.com/users/elijahcarrel/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 16, "created_at": "2018-09-26T19:49:42Z", "updated_at": "2023-03-16T11:11:01Z", "closed_at": "2019-01-09T17:53:23Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "`.positive()` accepts 0, but shouldn't 0 not be considered a positive number?", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/322/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1179", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1179/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1179/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1179/events", "html_url": "https://github.com/jquense/yup/issues/1179", "id": 765507076, "node_id": "MDU6SXNzdWU3NjU1MDcwNzY=", "number": 1179, "title": "[bug] yup.Asserts and yup.TypeOf seems not working", "user": {"login": "onichandame", "id": 23728505, "node_id": "MDQ6VXNlcjIzNzI4NTA1", "avatar_url": "https://avatars.githubusercontent.com/u/23728505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onichandame", "html_url": "https://github.com/onichandame", "followers_url": "https://api.github.com/users/onichandame/followers", "following_url": "https://api.github.com/users/onichandame/following{/other_user}", "gists_url": "https://api.github.com/users/onichandame/gists{/gist_id}", "starred_url": "https://api.github.com/users/onichandame/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onichandame/subscriptions", "organizations_url": "https://api.github.com/users/onichandame/orgs", "repos_url": "https://api.github.com/users/onichandame/repos", "events_url": "https://api.github.com/users/onichandame/events{/privacy}", "received_events_url": "https://api.github.com/users/onichandame/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2565100072, "node_id": "MDU6TGFiZWwyNTY1MTAwMDcy", "url": "https://api.github.com/repos/jquense/yup/labels/typescript", "name": "typescript", "color": "d617bf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-12-13T16:22:41Z", "updated_at": "2023-04-14T13:33:27Z", "closed_at": "2023-04-14T13:33:27Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\nThe inferred type is incorrect somehow.\r\n\r\n**To Reproduce**\r\n\r\n##### Problem 1\r\n\r\n```typescript\r\n  import * as yup from 'yup'\r\n  const schema = yup\r\n    .object()\r\n    .required()\r\n    .shape({ a: yup.string().required() })\r\n\r\n  type Schema = yup.Asserts<typeof schema>\r\n  ;(async () => {\r\n  const t: Schema = { a: `hi` }\r\n    console.log(t)\r\n  })()\r\n```\r\n\r\nthrows error at line ` const t: Schema = { a: 'hi' }`:\r\n\r\n```text\r\nType '{ a: string; }' is not assignable to type\r\n'AssertsShape<Assign<Record<string, AnySchema<any, any, any> |\r\nReference<unknown> | Lazy<any, any>>, { a: RequiredStringSchema<string |\r\nundefined, Record<string, any>>; }>>'.\r\n  Property 'a' is incompatible with index signature.\r\n     Type 'string' is not assignable to type 'never'.\r\n```\r\n\r\nSame behaviour with `yup.TypeOf`.\r\n\r\n*workaround*: [see here](https://github.com/jquense/yup/issues/1179#issuecomment-744048252)\r\n\r\n##### Problem 2\r\n\r\n```typescript\r\nimport * as yup from 'yup';\r\n\r\nconst schema = yup\r\n  .object()\r\n  .shape({\r\n    ids: yup\r\n      .array()\r\n      .required()\r\n      .of(yup.string().required())\r\n      .min(1),\r\n  })\r\n  .required();\r\n\r\ntype Schema = yup.Asserts<typeof schema>;\r\n\r\nconst obj: Schema = { ids: undefined };\r\nconsole.log(schema.validateSync(obj));\r\n```\r\n\r\nThe `ids` should not be undefined, but the type check does not throws error in this example. Running the script indeed throws as expected.\r\n\r\n**Expected behavior**\r\nThe inferred type is consistent with the schema.\r\n\r\n**Platform (please complete the following information):**\r\n - Node v14.5.0\r\n - yup v0.32.8\r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1179/reactions", "total_count": 17, "+1": 15, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1179/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/552", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/552/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/552/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/552/events", "html_url": "https://github.com/jquense/yup/issues/552", "id": 456705941, "node_id": "MDU6SXNzdWU0NTY3MDU5NDE=", "number": 552, "title": "oneOf, notOneOf swallowing multiple errors", "user": {"login": "akmjenkins", "id": 689409, "node_id": "MDQ6VXNlcjY4OTQwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/689409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akmjenkins", "html_url": "https://github.com/akmjenkins", "followers_url": "https://api.github.com/users/akmjenkins/followers", "following_url": "https://api.github.com/users/akmjenkins/following{/other_user}", "gists_url": "https://api.github.com/users/akmjenkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/akmjenkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akmjenkins/subscriptions", "organizations_url": "https://api.github.com/users/akmjenkins/orgs", "repos_url": "https://api.github.com/users/akmjenkins/repos", "events_url": "https://api.github.com/users/akmjenkins/events{/privacy}", "received_events_url": "https://api.github.com/users/akmjenkins/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-06-17T01:30:26Z", "updated_at": "2023-11-17T09:49:07Z", "closed_at": "2020-01-31T14:44:17Z", "assignee": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "The following gives me a ValidatorError with three errors:\r\n\r\n```\r\n        yup\r\n          .string()\r\n          .length('10')\r\n          .min('10')\r\n          .required()\r\n          .validateSync('', { abortEarly: false });\r\n```\r\n\r\nThe following gives me a ValidationError with only one error:\r\n\r\n```\r\n        yup\r\n          .string()\r\n          .oneOf(['1234'])\r\n          .length('10')\r\n          .min('10')\r\n          .required()\r\n          .validateSync('', { abortEarly: false });\r\n```\r\n\r\nSeems counterintuitive.", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/552/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/725", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/725/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/725/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/725/events", "html_url": "https://github.com/jquense/yup/issues/725", "id": 538029986, "node_id": "MDU6SXNzdWU1MzgwMjk5ODY=", "number": 725, "title": "yup's array validation is broken", "user": {"login": "janhesters", "id": 31096420, "node_id": "MDQ6VXNlcjMxMDk2NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/31096420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janhesters", "html_url": "https://github.com/janhesters", "followers_url": "https://api.github.com/users/janhesters/followers", "following_url": "https://api.github.com/users/janhesters/following{/other_user}", "gists_url": "https://api.github.com/users/janhesters/gists{/gist_id}", "starred_url": "https://api.github.com/users/janhesters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janhesters/subscriptions", "organizations_url": "https://api.github.com/users/janhesters/orgs", "repos_url": "https://api.github.com/users/janhesters/repos", "events_url": "https://api.github.com/users/janhesters/events{/privacy}", "received_events_url": "https://api.github.com/users/janhesters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-12-15T10:15:55Z", "updated_at": "2020-01-03T10:15:22Z", "closed_at": "2020-01-03T10:15:22Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\nWhen using yup with an array and pass it a shape, there are no errors returned, even if the object is invalid.\r\n\r\n**To Reproduce**\r\n\r\n```js\r\nconst invalidObj = {\r\n  message: 'hello',\r\n  numbers: ['hello'],\r\n  tokens: [{ name: 1, id: true }]\r\n};\r\n\r\nconst yupObject = yup.object().shape({\r\n  message: yup.string().required(),\r\n  numbers: yup\r\n    .array()\r\n    .of(yup.number().required())\r\n    .required(),\r\n  tokens: yup\r\n    .array()\r\n    .of(\r\n      yup.object().shape({\r\n        name: yup.string().strict().required(),\r\n        id: yup.string().strict().required()\r\n      })\r\n    )\r\n    .required()\r\n});\r\nconst res = await yupObject\r\n  .validate(invalidObj, { abortEarly: false })\r\n  .catch(({ errors }) => errors);\r\nconsole.log('res', res);\r\n```\r\n\r\nLogs out:\r\n\r\n```\r\nres [\r\n      'numbers[0] must be a `number` type, but the final value was: `NaN` (cast from the value `\"hello\"`).'\r\n    ]\r\n```\r\n\r\nEven though it should catch that `name` and `id` aren't the correct type.\r\n\r\n**Expected behavior**\r\nYup should see the invalid types and log out errors that name and id must be strings. \r\n\r\n**Platform (please complete the following information):**\r\n - Browser: chrome\r\n - Version: 0.27", "closed_by": {"login": "janhesters", "id": 31096420, "node_id": "MDQ6VXNlcjMxMDk2NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/31096420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janhesters", "html_url": "https://github.com/janhesters", "followers_url": "https://api.github.com/users/janhesters/followers", "following_url": "https://api.github.com/users/janhesters/following{/other_user}", "gists_url": "https://api.github.com/users/janhesters/gists{/gist_id}", "starred_url": "https://api.github.com/users/janhesters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janhesters/subscriptions", "organizations_url": "https://api.github.com/users/janhesters/orgs", "repos_url": "https://api.github.com/users/janhesters/repos", "events_url": "https://api.github.com/users/janhesters/events{/privacy}", "received_events_url": "https://api.github.com/users/janhesters/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/725/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/541", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/541/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/541/events", "html_url": "https://github.com/jquense/yup/issues/541", "id": 449187991, "node_id": "MDU6SXNzdWU0NDkxODc5OTE=", "number": 541, "title": "[feature request] throw error on invalid schema", "user": {"login": "jonathanSimonney", "id": 25199372, "node_id": "MDQ6VXNlcjI1MTk5Mzcy", "avatar_url": "https://avatars.githubusercontent.com/u/25199372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanSimonney", "html_url": "https://github.com/jonathanSimonney", "followers_url": "https://api.github.com/users/jonathanSimonney/followers", "following_url": "https://api.github.com/users/jonathanSimonney/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanSimonney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanSimonney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanSimonney/subscriptions", "organizations_url": "https://api.github.com/users/jonathanSimonney/orgs", "repos_url": "https://api.github.com/users/jonathanSimonney/repos", "events_url": "https://api.github.com/users/jonathanSimonney/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanSimonney/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-28T10:23:30Z", "updated_at": "2023-04-20T09:38:24Z", "closed_at": "2023-04-19T13:18:47Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I just had a problem because I had introduced a bug without noticing (shame on me for not using integration test...)\r\n\r\nDespite the fact that my mistake would have been caught by integration test, I think it would be enjoyable that Yup throws an error when it is given an invalid schema to create. \r\n\r\nMy error was that as I created a validationSchema with the following properties : \r\n```javascript\r\nmethodDescription: Yup.object().when(\"usedMethod\", {\r\n    is: usedMethod => hasSubPartActivated(usedMethod),\r\n    then: Yup.object().required(),\r\n    otherwise: Yup.object().nullable(),\r\n  }),\r\n```\r\n\r\nI realised I needed to validate with string instead of object, and I therefore changed the following snippet to this.\r\n\r\n```javascript\r\nmethodDescription: Yup.object().when(\"usedMethod\", {\r\n    is: usedMethod => hasSubPartActivated(usedMethod),\r\n    then: Yup.string().required(),\r\n    otherwise: Yup.string().nullable(),\r\n  }),\r\n```\r\n\r\nas you may realise, I forgot to change the first line as well to Yup.string(). This caused the entire schema to stop validating, as I only realised after a lengthy debug process.\r\n\r\nIMHO, it would be better that the second snippet throw an error because the schema doesn't make sense than it fails silently, as is currently the case. \r\n\r\nThank you very much for your work.", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/541/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/541/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1059", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1059/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1059/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1059/events", "html_url": "https://github.com/jquense/yup/issues/1059", "id": 715079486, "node_id": "MDU6SXNzdWU3MTUwNzk0ODY=", "number": 1059, "title": "Defined schemas validate and cast values as null", "user": {"login": "Bartmr", "id": 13721983, "node_id": "MDQ6VXNlcjEzNzIxOTgz", "avatar_url": "https://avatars.githubusercontent.com/u/13721983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bartmr", "html_url": "https://github.com/Bartmr", "followers_url": "https://api.github.com/users/Bartmr/followers", "following_url": "https://api.github.com/users/Bartmr/following{/other_user}", "gists_url": "https://api.github.com/users/Bartmr/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bartmr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bartmr/subscriptions", "organizations_url": "https://api.github.com/users/Bartmr/orgs", "repos_url": "https://api.github.com/users/Bartmr/repos", "events_url": "https://api.github.com/users/Bartmr/events{/privacy}", "received_events_url": "https://api.github.com/users/Bartmr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-10-05T18:51:33Z", "updated_at": "2022-08-20T18:39:41Z", "closed_at": "2022-08-20T18:39:41Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\nVersion: yup `0.29.3`\r\n\r\n* A defined array schema returns `null` after calling `validateSync` with `{}` as value, instead of throwing a `ValidationError`.\r\n* A defined object schema returns `null` after calling `validateSync` with `[]` as value, instead of throwing a `ValidationError`.\r\n\r\n**To Reproduce**\r\n\r\nhttps://codesandbox.io/s/delicate-violet-fkmgo?file=/src/index.test.js\r\n\r\n\r\n**Expected behavior**\r\nBoth these use-cases should throw a ValidationError, since the values do not match the schema defined. This is specially important for backend validation, in order to avoid broken values to get throught the controllers.\r\n\r\n**Platform:**\r\n- NodeJS 12.18.3\r\n- Chrome for Linux Version 84.0.4147.105 (Official Build) (64-bit)\r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1059/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/234", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/234/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/234/events", "html_url": "https://github.com/jquense/yup/issues/234", "id": 333770777, "node_id": "MDU6SXNzdWUzMzM3NzA3Nzc=", "number": 234, "title": "Date 1970-01-01T00:00:00Z is not validating.", "user": {"login": "moltar", "id": 491247, "node_id": "MDQ6VXNlcjQ5MTI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/491247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moltar", "html_url": "https://github.com/moltar", "followers_url": "https://api.github.com/users/moltar/followers", "following_url": "https://api.github.com/users/moltar/following{/other_user}", "gists_url": "https://api.github.com/users/moltar/gists{/gist_id}", "starred_url": "https://api.github.com/users/moltar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moltar/subscriptions", "organizations_url": "https://api.github.com/users/moltar/orgs", "repos_url": "https://api.github.com/users/moltar/repos", "events_url": "https://api.github.com/users/moltar/events{/privacy}", "received_events_url": "https://api.github.com/users/moltar/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-06-19T17:37:30Z", "updated_at": "2019-10-16T13:04:53Z", "closed_at": "2019-10-16T13:04:53Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "It looks like a valid date, and standard JS Date object can parse it.\r\n\r\n```js\r\nnew Date('1970-01-01T00:00:00Z')\r\n```\r\n\r\nHowever, `yup` validator fails:\r\n\r\nhttps://runkit.com/moltar/5b293e490d95e300127736f4\r\n\r\n\r\n> TypeError: The value of createdOn could not be cast to a value that satisfies the schema type: \"date\". \r\n> \r\n> attempted value: \"1970-01-01T00:00:00Z\" \r\n> result of cast: null\r\n\r\nThanks!", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/234/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1160", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1160/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1160/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1160/events", "html_url": "https://github.com/jquense/yup/issues/1160", "id": 760027089, "node_id": "MDU6SXNzdWU3NjAwMjcwODk=", "number": 1160, "title": "baseSchema.concat(otherSchema) overwrites baseSchema properties when otherSchema properties are undefined", "user": {"login": "cemalettin-work", "id": 69463668, "node_id": "MDQ6VXNlcjY5NDYzNjY4", "avatar_url": "https://avatars.githubusercontent.com/u/69463668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cemalettin-work", "html_url": "https://github.com/cemalettin-work", "followers_url": "https://api.github.com/users/cemalettin-work/followers", "following_url": "https://api.github.com/users/cemalettin-work/following{/other_user}", "gists_url": "https://api.github.com/users/cemalettin-work/gists{/gist_id}", "starred_url": "https://api.github.com/users/cemalettin-work/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cemalettin-work/subscriptions", "organizations_url": "https://api.github.com/users/cemalettin-work/orgs", "repos_url": "https://api.github.com/users/cemalettin-work/repos", "events_url": "https://api.github.com/users/cemalettin-work/events{/privacy}", "received_events_url": "https://api.github.com/users/cemalettin-work/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-09T05:59:08Z", "updated_at": "2020-12-13T19:43:11Z", "closed_at": "2020-12-13T19:43:11Z", "assignee": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\nLast_Edit: It is because of this code https://github.com/jquense/yup/blob/master/src/schema.ts#L231-L233 , `combined.spec` has every property `undefined`, it would work if `combined.spec` properties were non-existent instead of `undefined`:\r\n\r\n`const mergedSpec = { ...base.spec, ...combined.spec };`\r\n\r\nFirst_Edit: Looking a bit deeper, i am now not sure if it is caused by mixed.label(), but since the only thing we change is the yup version and this unexpected behavior occurs, i will keep this issue as is, hopefully someone experienced in yup can investigate or realize the reason why this happens.\r\n\r\nCalling mixed.label(\"Custom label\") does work on version 0.31.0 but not on 0.32.5+.\r\nExample screenshots from v.0.31.0 and v.0.32.5+\r\nv.0.31.0:\r\n\r\n![before_update](https://user-images.githubusercontent.com/69463668/101590988-7a388b80-39fc-11eb-9f1d-ecd3609fd3e6.png)\r\n\r\nv.0.32.5+:\r\n\r\n![after_update](https://user-images.githubusercontent.com/69463668/101591037-963c2d00-39fc-11eb-99bd-64dcd6e01e37.png)\r\n\r\n\r\n**To Reproduce**\r\nQuite complex form logic react and formik, will try to extract the logic and edit here.\r\n\r\n**Expected behavior**\r\nI would expect the previous behavior of setting a label to work on error messages.\r\n\r\n**Platform (please complete the following information):**\r\n - Browser [chrome]\r\n - Version [86]\r\n\r\n\r\n**Additional context**\r\nUsing with react + formik \r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1160/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1260", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1260/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1260/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1260/events", "html_url": "https://github.com/jquense/yup/issues/1260", "id": 807397837, "node_id": "MDU6SXNzdWU4MDczOTc4Mzc=", "number": 1260, "title": "transform() not being executed after v0.31.1", "user": {"login": "lcdss", "id": 6903590, "node_id": "MDQ6VXNlcjY5MDM1OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/6903590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcdss", "html_url": "https://github.com/lcdss", "followers_url": "https://api.github.com/users/lcdss/followers", "following_url": "https://api.github.com/users/lcdss/following{/other_user}", "gists_url": "https://api.github.com/users/lcdss/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcdss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcdss/subscriptions", "organizations_url": "https://api.github.com/users/lcdss/orgs", "repos_url": "https://api.github.com/users/lcdss/repos", "events_url": "https://api.github.com/users/lcdss/events{/privacy}", "received_events_url": "https://api.github.com/users/lcdss/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-12T17:10:41Z", "updated_at": "2021-10-11T14:35:41Z", "closed_at": "2021-10-11T14:35:41Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I don't know if it's a feature or a bug, but since the version 0.32 the `transform` method is not executed anymore if combined with the `when` method. So now it's necessary call the `transform` method in both when cases (`true` and `false`) to get the same result as earlier versions.\r\n\r\n```js\r\nconst schema = object({\r\n  type: number().required(),\r\n  number: string()\r\n    .transform((value) => value.replace(/\\D/g, \"\"))\r\n    .when(\"type\", {\r\n      is: 1, // CPF type\r\n      then: string().required().cpf(),\r\n      otherwise: string().required().cnpj()\r\n    })\r\n});\r\n\r\n// Before v0.32\r\n// { type: 1, number: \"11111111111\" }\r\nschema.cast({ type: 1, number: \"111.111.111-11\" });\r\n\r\n// After v0.31.1 (>= 0.32)\r\n// { type: 1, number: \"111.111.111-11\" }\r\nschema.cast({ type: 1, number: \"111.111.111-11\" });\r\n```\r\n\r\nI create an example on [codesandbox](https://codesandbox.io/s/dank-brook-udtku?file=/src/index.js) to demonstrate this issue I had.\r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1260/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1260/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/343", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/343/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/343/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/343/events", "html_url": "https://github.com/jquense/yup/issues/343", "id": 370798657, "node_id": "MDU6SXNzdWUzNzA3OTg2NTc=", "number": 343, "title": "array().ensure() not casting single element", "user": {"login": "fionawhim", "id": 260837, "node_id": "MDQ6VXNlcjI2MDgzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/260837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fionawhim", "html_url": "https://github.com/fionawhim", "followers_url": "https://api.github.com/users/fionawhim/followers", "following_url": "https://api.github.com/users/fionawhim/following{/other_user}", "gists_url": "https://api.github.com/users/fionawhim/gists{/gist_id}", "starred_url": "https://api.github.com/users/fionawhim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fionawhim/subscriptions", "organizations_url": "https://api.github.com/users/fionawhim/orgs", "repos_url": "https://api.github.com/users/fionawhim/repos", "events_url": "https://api.github.com/users/fionawhim/events{/privacy}", "received_events_url": "https://api.github.com/users/fionawhim/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-16T21:03:14Z", "updated_at": "2020-03-06T15:14:42Z", "closed_at": "2020-03-06T15:14:42Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "The docs for `array.ensure` say that it will cast a non-array into a single element array:\r\n\r\n```\r\narray()\r\n  .ensure()\r\n  .cast(1); // -> [1]\r\n```\r\n\r\nHowever in 0.26.6 on Node, the above returns `[]`. It looks like the `transform` call in the array constructor (run with `withMutation`) runs first and sets the value to `null` when it sees it\u2019s not an array. Therefore the `transform` method in `ensure` sees `null` rather than the original value.\r\n\r\nI\u2019m happy to make a PR if I could understand what the right solution is for the fix. Are the `transform`s not being called in the right order?", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/343/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/343/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/106", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/106/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/106/events", "html_url": "https://github.com/jquense/yup/issues/106", "id": 244882255, "node_id": "MDU6SXNzdWUyNDQ4ODIyNTU=", "number": 106, "title": "Proposal: different behavior of / additional method akin to describe()", "user": {"login": "dhardtke", "id": 1360135, "node_id": "MDQ6VXNlcjEzNjAxMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1360135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhardtke", "html_url": "https://github.com/dhardtke", "followers_url": "https://api.github.com/users/dhardtke/followers", "following_url": "https://api.github.com/users/dhardtke/following{/other_user}", "gists_url": "https://api.github.com/users/dhardtke/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhardtke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhardtke/subscriptions", "organizations_url": "https://api.github.com/users/dhardtke/orgs", "repos_url": "https://api.github.com/users/dhardtke/repos", "events_url": "https://api.github.com/users/dhardtke/events{/privacy}", "received_events_url": "https://api.github.com/users/dhardtke/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-23T01:33:51Z", "updated_at": "2018-05-15T21:43:27Z", "closed_at": "2018-05-15T21:43:27Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hey,\r\n\r\nfirst of all: yup is a great library, it's nice that I'm not the only one unhappy about the \"bloat\" that joi is.\r\n\r\nI have a proposal to make:\r\n\r\nIn our application we would like to build a (small and simple) form solely based on the Schema the programmer has defined. Right now this does not really seem possible - I could of course somehow traverse the raw Schema, but that's ugly.\r\n\r\nYup's `describe()` method doesn't do what I expected it to do, but after reading the docs I realized it is only useful for metadata and maybe labels (and custom tests one adds), but that's it :(\r\n\r\nJoi has `describe()` (undocumented, but available and quite useful in my case): https://gist.github.com/myndzi/8ec496e429fd2f4ff783\r\n\r\nWhat do you guys think?\r\n\r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/106/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/106/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1423", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1423/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1423/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1423/events", "html_url": "https://github.com/jquense/yup/issues/1423", "id": 947115350, "node_id": "MDU6SXNzdWU5NDcxMTUzNTA=", "number": 1423, "title": "Cyclic dependency error when using concat", "user": {"login": "yuansimon", "id": 1346464, "node_id": "MDQ6VXNlcjEzNDY0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1346464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuansimon", "html_url": "https://github.com/yuansimon", "followers_url": "https://api.github.com/users/yuansimon/followers", "following_url": "https://api.github.com/users/yuansimon/following{/other_user}", "gists_url": "https://api.github.com/users/yuansimon/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuansimon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuansimon/subscriptions", "organizations_url": "https://api.github.com/users/yuansimon/orgs", "repos_url": "https://api.github.com/users/yuansimon/repos", "events_url": "https://api.github.com/users/yuansimon/events{/privacy}", "received_events_url": "https://api.github.com/users/yuansimon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-18T20:53:04Z", "updated_at": "2023-04-03T18:16:13Z", "closed_at": "2021-10-11T14:35:42Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "When using concat on an object schema with the exclude list set it seems to be ignored unless it is concatenated as the last schema\r\n\r\n```\r\nconst a = Yup.object().shape({\r\n    a1: Yup.string().when(\"a2\", {\r\n      is: undefined,\r\n      then: Yup.string().required()\r\n    }),\r\n    a2: Yup.string().when(\"a1\", {\r\n      is: undefined,\r\n      then: Yup.string().required()\r\n    }),\r\n  }, [[\"a1\", \"a2\"]]);\r\n  \r\nconst b = Yup.object().shape({\r\n    b1: Yup.string().required(),\r\n    b2: Yup.string().required(),\r\n})\r\n\r\n// works\r\nconst cba = Yup.object().shape({\r\n    c1: Yup.string().required(),\r\n    c2: Yup.string().required(),\r\n    }).concat(b).concat(a)\r\n\r\n// doesn't work\r\nconst cab = Yup.object().shape({\r\n  c1: Yup.string().required(),\r\n  c2: Yup.string().required(),\r\n  }).concat(a).concat(b)\r\n```\r\n\r\nSandbox link: https://codesandbox.io/s/yup-concat-order-pemfy?file=/src/index.js\r\n\r\n**Platform**\r\n - Chrome\r\n - Version 0.32.9 (bug exists since 0.32.0)", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1423/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1002", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1002/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1002/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1002/events", "html_url": "https://github.com/jquense/yup/issues/1002", "id": 673959511, "node_id": "MDU6SXNzdWU2NzM5NTk1MTE=", "number": 1002, "title": "`notRequired()` does not work inside a `when()` clause.", "user": {"login": "Sleepful", "id": 7144046, "node_id": "MDQ6VXNlcjcxNDQwNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/7144046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sleepful", "html_url": "https://github.com/Sleepful", "followers_url": "https://api.github.com/users/Sleepful/followers", "following_url": "https://api.github.com/users/Sleepful/following{/other_user}", "gists_url": "https://api.github.com/users/Sleepful/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sleepful/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sleepful/subscriptions", "organizations_url": "https://api.github.com/users/Sleepful/orgs", "repos_url": "https://api.github.com/users/Sleepful/repos", "events_url": "https://api.github.com/users/Sleepful/events{/privacy}", "received_events_url": "https://api.github.com/users/Sleepful/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-06T02:06:08Z", "updated_at": "2020-08-10T12:45:53Z", "closed_at": "2020-08-10T12:45:48Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\n`notRequired()` does not work inside a `when()` clause.\r\n```js\r\nyup.mixed().required().notRequired()\r\n```\r\nthe above works fine, however, this does not:\r\n```js\r\nconst obj = {\r\n  is: true,\r\n  then: yup.mixed().notRequired(),\r\n  otherwise: yup.mixed().notRequired()\r\n}\r\nyup.mixed().required().when(somefield, obj)\r\n```\r\n**To Reproduce**\r\n\r\nhttps://codesandbox.io/s/goofy-bose-hpmw4?file=/src/index.test.js\r\n\r\n**Expected behavior**\r\nI expected the `notRequired()` method to override the `required()` one\r\n\r\n**Platform (please complete the following information):**\r\n - Browser chrome\r\n - \"yup\": \"^0.29.1\"\r\n\r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1002/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/857", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/857/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/857/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/857/events", "html_url": "https://github.com/jquense/yup/issues/857", "id": 606818321, "node_id": "MDU6SXNzdWU2MDY4MTgzMjE=", "number": 857, "title": "Can't use strict in nested objects.", "user": {"login": "netochaves", "id": 19830660, "node_id": "MDQ6VXNlcjE5ODMwNjYw", "avatar_url": "https://avatars.githubusercontent.com/u/19830660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/netochaves", "html_url": "https://github.com/netochaves", "followers_url": "https://api.github.com/users/netochaves/followers", "following_url": "https://api.github.com/users/netochaves/following{/other_user}", "gists_url": "https://api.github.com/users/netochaves/gists{/gist_id}", "starred_url": "https://api.github.com/users/netochaves/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/netochaves/subscriptions", "organizations_url": "https://api.github.com/users/netochaves/orgs", "repos_url": "https://api.github.com/users/netochaves/repos", "events_url": "https://api.github.com/users/netochaves/events{/privacy}", "received_events_url": "https://api.github.com/users/netochaves/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-25T17:34:23Z", "updated_at": "2020-05-03T18:59:57Z", "closed_at": "2020-05-03T18:59:57Z", "assignee": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\nWhen I try to use strict in a nested object nothing happens, e.g\r\n\r\n```js\r\nconst schema = yup.object({\r\n    obj: yup.object({\r\n      name: yup.string().strict()\r\n    })\r\n  });\r\n```\r\n\r\n`name: 131231` and `name: {}` will return as a valid schema.\r\n\r\n\r\n**To Reproduce**\r\n\r\nhttps://codesandbox.io/s/wonderful-night-ci7cu?file=/src/index.test.js\r\n\r\nThe first test is passing but should fail.\r\n\r\n**Expected behavior**\r\nShould return false\r\n\r\n**Platform (please complete the following information):**\r\n - Version 0.28.4", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/857/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/76", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/76/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/76/events", "html_url": "https://github.com/jquense/yup/issues/76", "id": 199543149, "node_id": "MDU6SXNzdWUxOTk1NDMxNDk=", "number": 76, "title": "strip() not working in when()", "user": {"login": "komachi", "id": 1848785, "node_id": "MDQ6VXNlcjE4NDg3ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1848785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/komachi", "html_url": "https://github.com/komachi", "followers_url": "https://api.github.com/users/komachi/followers", "following_url": "https://api.github.com/users/komachi/following{/other_user}", "gists_url": "https://api.github.com/users/komachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/komachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/komachi/subscriptions", "organizations_url": "https://api.github.com/users/komachi/orgs", "repos_url": "https://api.github.com/users/komachi/repos", "events_url": "https://api.github.com/users/komachi/events{/privacy}", "received_events_url": "https://api.github.com/users/komachi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-09T12:41:07Z", "updated_at": "2017-12-17T14:41:06Z", "closed_at": "2017-12-17T14:40:59Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I have polymorphic API and it requires different fields for different types. I try to use this code:\r\n```\r\nyup.object({\r\n  test: yup.mixed().when('$a', {\r\n    is: 'test',\r\n    then: yup.mixed().strip(),\r\n    otherwise: yup.number().min(2).required()\r\n  })\r\n}).validate(\r\n  {test: 1},\r\n  {\r\n    context: {\r\n      a: 'test'\r\n    }\r\n  }\r\n).then(console.log);\r\n```\r\nBut this code still outputs `{ test: 1 }`. If I change context to something other, it works as expected, so seems like problem persist only with strip().", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/76/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/76/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/40", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/40/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/40/events", "html_url": "https://github.com/jquense/yup/issues/40", "id": 147155253, "node_id": "MDU6SXNzdWUxNDcxNTUyNTM=", "number": 40, "title": "date.min with ref not working", "user": {"login": "alexanderchr", "id": 2178877, "node_id": "MDQ6VXNlcjIxNzg4Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/2178877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexanderchr", "html_url": "https://github.com/alexanderchr", "followers_url": "https://api.github.com/users/alexanderchr/followers", "following_url": "https://api.github.com/users/alexanderchr/following{/other_user}", "gists_url": "https://api.github.com/users/alexanderchr/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexanderchr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexanderchr/subscriptions", "organizations_url": "https://api.github.com/users/alexanderchr/orgs", "repos_url": "https://api.github.com/users/alexanderchr/repos", "events_url": "https://api.github.com/users/alexanderchr/events{/privacy}", "received_events_url": "https://api.github.com/users/alexanderchr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-09T19:20:09Z", "updated_at": "2016-04-09T20:40:35Z", "closed_at": "2016-04-09T20:12:59Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Throwing here: https://github.com/jquense/yup/blob/master/src/date.js#L38\n\nDon't know what would be the best way to resolve it - from what i can see none of the other `min` functions are typechecking.\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/40/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/1823", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/1823/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/1823/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/1823/events", "html_url": "https://github.com/jquense/yup/issues/1823", "id": 1436255146, "node_id": "I_kwDOAXOMiM5Vm4Oq", "number": 1823, "title": "TypeScript (4.8) error if \"strict\" is true", "user": {"login": "denisw", "id": 1032624, "node_id": "MDQ6VXNlcjEwMzI2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1032624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denisw", "html_url": "https://github.com/denisw", "followers_url": "https://api.github.com/users/denisw/followers", "following_url": "https://api.github.com/users/denisw/following{/other_user}", "gists_url": "https://api.github.com/users/denisw/gists{/gist_id}", "starred_url": "https://api.github.com/users/denisw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denisw/subscriptions", "organizations_url": "https://api.github.com/users/denisw/orgs", "repos_url": "https://api.github.com/users/denisw/repos", "events_url": "https://api.github.com/users/denisw/events{/privacy}", "received_events_url": "https://api.github.com/users/denisw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2565100072, "node_id": "MDU6TGFiZWwyNTY1MTAwMDcy", "url": "https://api.github.com/repos/jquense/yup/labels/typescript", "name": "typescript", "color": "d617bf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-04T15:24:17Z", "updated_at": "2022-11-10T14:34:19Z", "closed_at": "2022-11-10T14:34:19Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\n\r\nWhen using `yup` 1.0.0-beta.7 in a TypeScript 4.8 codebase with the `\"strict\": true` in `tsconfig.json`, I get the following type errors when running `tsc --noEmit`:\r\n\r\n```\r\nnode_modules/yup/index.d.ts(246,37): error TS2344: Type 'this' does not satisfy the constraint 'AnySchema<any, AnyObject, any, Flags>'.\r\n  Type 'Schema<TType, TContext, TDefault, TFlags>' is not assignable to type 'Schema<any, AnyObject, any, Flags>'.\r\n    Type 'TContext' is not assignable to type 'AnyObject'.\r\nnode_modules/yup/index.d.ts(264,35): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\n  Type 'Schema<TType, TContext, TDefault, TFlags>' is not assignable to type 'ISchema<any, AnyObject, any, any>'.\r\n    Types of property '__context' are incompatible.\r\n      Type 'TContext' is not assignable to type 'AnyObject'.\r\nnode_modules/yup/index.d.ts(265,35): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\nnode_modules/yup/index.d.ts(266,39): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\nnode_modules/yup/index.d.ts(266,79): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\nnode_modules/yup/index.d.ts(266,110): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\n  Type 'Schema<TType, TContext, TDefault, TFlags>' is not assignable to type 'ISchema<any, AnyObject, any, any>'.\r\n    Types of property '__context' are incompatible.\r\n      Type 'TContext' is not assignable to type 'AnyObject'.\r\nnode_modules/yup/index.d.ts(267,39): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\nnode_modules/yup/index.d.ts(267,79): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\nnode_modules/yup/index.d.ts(267,135): error TS2344: Type 'this' does not satisfy the constraint 'ISchema<any, AnyObject, any, any>'.\r\nnode_modules/yup/index.d.ts(706,64): error TS2344: Type 'IIn' does not satisfy the constraint 'Maybe<AnyObject>'.\r\n  Type 'IIn' is not assignable to type 'AnyObject'.\r\nnode_modules/yup/index.d.ts(706,119): error TS2344: Type 'IIn' does not satisfy the constraint 'Maybe<AnyObject>'.\r\nnode_modules/yup/index.d.ts(706,193): error TS2344: Type 'TDefault' does not satisfy the constraint 'Maybe<AnyObject>'.\r\n  Type 'TDefault' is not assignable to type 'AnyObject'.\r\n```\r\n\r\n**To Reproduce**\r\n\r\nCreate a new project with the following files:\r\n\r\n_package.json_\r\n```json\r\n{\r\n  \"name\": \"example\",\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"yup\": \"1.0.0-beta.7\",\r\n    \"typescript\": \"4.8.4\"\r\n  }\r\n}\r\n```\r\n\r\n_tsconfig.json_\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2020\",\r\n    \"module\": \"CommonJS\",\r\n    \"lib\": [\"ES2020\"],\r\n    \"isolatedModules\": true\r\n  },\r\n  \"include\": [\"src\"],\r\n  \"exclude\": [\"node_modules\"]\r\n}\r\n```\r\n\r\n_src/index.ts_\r\n```ts\r\nimport { object } from 'yup';\r\n\r\nexport const schema = object({});\r\n```\r\n\r\nThen run:\r\n\r\n```\r\nnpx tsc --noEmit\r\n```\r\n\r\n**Expected behavior**\r\nThe TypeScript compiler should not yield any errors.\r\n\r\n**Additional context**\r\nIf `\"strict\": true` is removed, the problem disappears.\r\n", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/1823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/1823/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/jquense/yup/issues/837", "repository_url": "https://api.github.com/repos/jquense/yup", "labels_url": "https://api.github.com/repos/jquense/yup/issues/837/labels{/name}", "comments_url": "https://api.github.com/repos/jquense/yup/issues/837/comments", "events_url": "https://api.github.com/repos/jquense/yup/issues/837/events", "html_url": "https://github.com/jquense/yup/issues/837", "id": 599163545, "node_id": "MDU6SXNzdWU1OTkxNjM1NDU=", "number": 837, "title": "stripUnknown incorrectly removes non-extra property when extra property is found", "user": {"login": "AnyhowStep", "id": 5655961, "node_id": "MDQ6VXNlcjU2NTU5NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/5655961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnyhowStep", "html_url": "https://github.com/AnyhowStep", "followers_url": "https://api.github.com/users/AnyhowStep/followers", "following_url": "https://api.github.com/users/AnyhowStep/following{/other_user}", "gists_url": "https://api.github.com/users/AnyhowStep/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnyhowStep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnyhowStep/subscriptions", "organizations_url": "https://api.github.com/users/AnyhowStep/orgs", "repos_url": "https://api.github.com/users/AnyhowStep/repos", "events_url": "https://api.github.com/users/AnyhowStep/events{/privacy}", "received_events_url": "https://api.github.com/users/AnyhowStep/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 131694595, "node_id": "MDU6TGFiZWwxMzE2OTQ1OTU=", "url": "https://api.github.com/repos/jquense/yup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-13T22:04:43Z", "updated_at": "2022-08-20T18:38:50Z", "closed_at": "2022-08-20T18:38:50Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the bug**\r\n\r\nVersion: `yup 0.28.3`\r\n\r\n`stripUnknown : true` causes properties with value `undefined` to be stripped, when extra properties are found.\r\n\r\n**To Reproduce**\r\n\r\nhttps://codesandbox.io/s/red-moon-y9hvw\r\n\r\n```js\r\nvar yup = require(\"yup\")\r\n\r\nconst schema = yup.object({\r\n  x : yup.string()\r\n});\r\n\r\nconst o1 = schema.validateSync({ x:undefined  }, { stripUnknown : true })\r\nconsole.log(\"o1\", o1)\r\nconsole.log(Object.keys(o1))\r\n\r\nconst o2 = schema.validateSync({ x:undefined, extra:\"\"  }, { stripUnknown : true })\r\nconsole.log(\"o2\", o2)\r\nconsole.log(Object.keys(o2))\r\n```\r\n\r\n**Expected behavior**\r\n\r\nExpected: Both `o1` and `o2` should be `{ x : undefined }`\r\nActual:\r\n+ `o1` is `{ x : undefined }`\r\n+ `o2` is `{}`\r\n\r\n**Additional context**\r\nThe presence and absence of properties matters to me, and is causing tests to fail.\r\n\r\nParticularly, jest's `toStrictEqual()`\r\n\r\nA property that exists with value `undefined` is different from a property that doesn't exist at all.", "closed_by": {"login": "jquense", "id": 339286, "node_id": "MDQ6VXNlcjMzOTI4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/339286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jquense", "html_url": "https://github.com/jquense", "followers_url": "https://api.github.com/users/jquense/followers", "following_url": "https://api.github.com/users/jquense/following{/other_user}", "gists_url": "https://api.github.com/users/jquense/gists{/gist_id}", "starred_url": "https://api.github.com/users/jquense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jquense/subscriptions", "organizations_url": "https://api.github.com/users/jquense/orgs", "repos_url": "https://api.github.com/users/jquense/repos", "events_url": "https://api.github.com/users/jquense/events{/privacy}", "received_events_url": "https://api.github.com/users/jquense/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/jquense/yup/issues/837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/jquense/yup/issues/837/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}