{"d": [{"url": "https://api.github.com/repos/winstonjs/winston/issues/1338", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/1338/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/1338/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/1338/events", "html_url": "https://github.com/winstonjs/winston/issues/1338", "id": 327172108, "node_id": "MDU6SXNzdWUzMjcxNzIxMDg=", "number": 1338, "title": "[3.0.0] Error object is not parsed or printed", "user": {"login": "chriswiggins", "id": 2830609, "node_id": "MDQ6VXNlcjI4MzA2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2830609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chriswiggins", "html_url": "https://github.com/chriswiggins", "followers_url": "https://api.github.com/users/chriswiggins/followers", "following_url": "https://api.github.com/users/chriswiggins/following{/other_user}", "gists_url": "https://api.github.com/users/chriswiggins/gists{/gist_id}", "starred_url": "https://api.github.com/users/chriswiggins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chriswiggins/subscriptions", "organizations_url": "https://api.github.com/users/chriswiggins/orgs", "repos_url": "https://api.github.com/users/chriswiggins/repos", "events_url": "https://api.github.com/users/chriswiggins/events{/privacy}", "received_events_url": "https://api.github.com/users/chriswiggins/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}, {"id": 144607129, "node_id": "MDU6TGFiZWwxNDQ2MDcxMjk=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Important", "name": "Important", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 77, "created_at": "2018-05-29T05:13:03Z", "updated_at": "2024-06-18T20:29:32Z", "closed_at": "2019-01-26T17:28:36Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "<!--\r\n  \u270b\ud83d\udcd3\u2753 **NOTE:** for support questions, please use StackOverflow. This\r\n  repository's issues are reserved for feature requests and bug reports.\r\n-->\r\n\r\n### Please tell us about your environment:\r\n  \r\n- _`winston` version?_\r\n   - [-] `winston@3.0.0-rc5` \r\n- _`node -v` outputs:_ v8.11.1\r\n- _Operating System?_ (Windows, macOS, or Linux) macOS\r\n- _Language?_ (all | TypeScript X.X | ES6/7 | ES5 | Dart) All\r\n\r\n### What is the problem? \r\n\r\nLogging a node `Error` object results in an empty message:\r\n\r\nExample:\r\n```javascript\r\nconst winston = require('winston');\r\nconst { createLogger, format, transports } = winston;\r\n\r\nconst logger = createLogger({\r\n  transports: [\r\n    new transports.Console()\r\n  ]\r\n});\r\n\r\nlet err = new Error('this is a test');\r\nlogger.log({level: 'error', message: err});\r\n```\r\n\r\nResulting output:\r\n```\r\n% node test.js\r\n{\"level\":\"error\",\"message\":{}}\r\n```\r\n\r\n\r\nAlso:\r\n```javascript\r\nlogger.error(new Error('hello'))\r\n```\r\n\r\nResults in:\r\n```\r\n{\"level\":\"error\"}\r\n```\r\n### What do you expect to happen instead?\r\n<!--\r\n  Please explain how you would expect your code to function. \r\n-->\r\n\r\nI Expect the message key to have at least the error message included in it. If I try a custom formatter, `info` also doesn't have the error object in it so it must be stripped out somewhere?\r\n\r\n\r\n### Other information\r\n\r\nLet me know how I can help - happy to flick a PR but I don't know my way around `winston@3.0.0` enough yet to find it\r\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/1338/reactions", "total_count": 99, "+1": 97, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/1338/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/280", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/280/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/280/events", "html_url": "https://github.com/winstonjs/winston/issues/280", "id": 16856524, "node_id": "MDU6SXNzdWUxNjg1NjUyNA==", "number": 280, "title": "Error objects are discarded during logging", "user": {"login": "lobodpav", "id": 1579300, "node_id": "MDQ6VXNlcjE1NzkzMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1579300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lobodpav", "html_url": "https://github.com/lobodpav", "followers_url": "https://api.github.com/users/lobodpav/followers", "following_url": "https://api.github.com/users/lobodpav/following{/other_user}", "gists_url": "https://api.github.com/users/lobodpav/gists{/gist_id}", "starred_url": "https://api.github.com/users/lobodpav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lobodpav/subscriptions", "organizations_url": "https://api.github.com/users/lobodpav/orgs", "repos_url": "https://api.github.com/users/lobodpav/repos", "events_url": "https://api.github.com/users/lobodpav/events{/privacy}", "received_events_url": "https://api.github.com/users/lobodpav/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": true, "assignees": [], "milestone": null, "comments": 52, "created_at": "2013-07-17T09:59:39Z", "updated_at": "2015-05-28T14:30:27Z", "closed_at": "2014-12-30T18:34:28Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Trying to call logger this way in a callback:\n\n``` javascript\nfunction(err) {\n    // err object was created by new Error('Connection to the DB failed')\n    winston.info('An error happened:', err);\n}\n```\n\ndoes not print out the `Error` object.\nBy walking through the `common.js` code I found this section in `exports.log` which shall print out the `err.stack`:\n\n``` javascript\nif (meta && meta instanceof Error && meta.stack) {\n    meta = meta.stack;\n}\n```\n\nHowever, this does not work because there is this line:\n\n``` javascript\nmeta = options.meta !== undefined || options.meta !== null ? exports.clone(cycle.decycle(options.meta)) : null\n```\n\nI.e. calling the `exports.clone(......` causes to return back an empty object instead of the `options.meta`.\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/280/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/1544", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/1544/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/1544/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/1544/events", "html_url": "https://github.com/winstonjs/winston/issues/1544", "id": 388119788, "node_id": "MDU6SXNzdWUzODgxMTk3ODg=", "number": 1544, "title": "Console transport does not write to debug console", "user": {"login": "sirockin", "id": 7776773, "node_id": "MDQ6VXNlcjc3NzY3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/7776773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sirockin", "html_url": "https://github.com/sirockin", "followers_url": "https://api.github.com/users/sirockin/followers", "following_url": "https://api.github.com/users/sirockin/following{/other_user}", "gists_url": "https://api.github.com/users/sirockin/gists{/gist_id}", "starred_url": "https://api.github.com/users/sirockin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sirockin/subscriptions", "organizations_url": "https://api.github.com/users/sirockin/orgs", "repos_url": "https://api.github.com/users/sirockin/repos", "events_url": "https://api.github.com/users/sirockin/events{/privacy}", "received_events_url": "https://api.github.com/users/sirockin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}, {"id": 144607129, "node_id": "MDU6TGFiZWwxNDQ2MDcxMjk=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Important", "name": "Important", "color": "e11d21", "default": false, "description": ""}, {"id": 907478444, "node_id": "MDU6TGFiZWw5MDc0Nzg0NDQ=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Help%20Wanted", "name": "Help Wanted", "color": "74E7BA", "default": false, "description": "Additional help desired from the community"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 27, "created_at": "2018-12-06T09:12:45Z", "updated_at": "2025-09-10T14:33:31Z", "closed_at": "2024-08-08T03:15:43Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### Please tell us about your environment:\r\n  \r\n- _`winston` version?_\r\n   - [ ] `winston@2`\r\n   - [x] `winston@3` \r\n- _`node -v` outputs: v10.1.0\r\n- _Operating System?_ Windows\r\n- _Language?_ TypeScript\r\n\r\n### What is the problem? \r\nWhen I use the built in Console transport, it will write to console when running normally (eg `node ./dist/index.js` ) but not to the debug console when I debug from Visual Studio Code. Standard calls to console.log()/warn()/error() do write to the debug console.\r\n\r\n### What do you expect to happen instead?\r\nI expect all messages to write to the debug console as they would to the standard console when running normally.\r\n\r\n### Other information\r\nThe problem seems to be the use of _stderr.write() and _stdout.write() in the log() method of the transport implementation. If I replace the condition in the if statements at 49, 62 and 77 with `false` so that the standard console.log()/warn()/error() functions get called, the output does reach the console output. Obviously an undesirable side-effect is that the custom eol gets ignored.\r\n", "closed_by": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/1544/reactions", "total_count": 22, "+1": 22, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/1544/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/1334", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/1334/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/1334/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/1334/events", "html_url": "https://github.com/winstonjs/winston/issues/1334", "id": 326724195, "node_id": "MDU6SXNzdWUzMjY3MjQxOTU=", "number": 1334, "title": "Got MaxListenersExceededWarning while using winston.", "user": {"login": "LvChengbin", "id": 963223, "node_id": "MDQ6VXNlcjk2MzIyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/963223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LvChengbin", "html_url": "https://github.com/LvChengbin", "followers_url": "https://api.github.com/users/LvChengbin/followers", "following_url": "https://api.github.com/users/LvChengbin/following{/other_user}", "gists_url": "https://api.github.com/users/LvChengbin/gists{/gist_id}", "starred_url": "https://api.github.com/users/LvChengbin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LvChengbin/subscriptions", "organizations_url": "https://api.github.com/users/LvChengbin/orgs", "repos_url": "https://api.github.com/users/LvChengbin/repos", "events_url": "https://api.github.com/users/LvChengbin/events{/privacy}", "received_events_url": "https://api.github.com/users/LvChengbin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 25, "created_at": "2018-05-26T09:23:34Z", "updated_at": "2024-10-17T22:00:15Z", "closed_at": "2018-05-31T21:18:27Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I got a warning message while using `winston@3.0.0-rc5` after calling the `createLogger` function multiple times in my test cases.\r\n\r\n```\r\n(node:28754) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 end listeners added. Use emitter.setMaxListeners() to increase limit\r\n    at _addListener (events.js:280:19)\r\n    at DerivedLogger.addListener (events.js:297:10)\r\n    at DerivedLogger.Readable.on (_stream_readable.js:772:35)\r\n    at DerivedLogger.once (events.js:341:8)\r\n    at DerivedLogger.Readable.pipe (_stream_readable.js:580:9)\r\n    at DerivedLogger.add (/Users/NS/yk/node_modules/winston/lib/winston/logger.js:299:8)\r\n    at DerivedLogger.<anonymous> (/Users/NS/yk/node_modules/winston/lib/winston/logger.js:82:12)\r\n    at Array.forEach (<anonymous>)\r\n    at DerivedLogger.Logger.configure (/Users/NS/yk/node_modules/winston/lib/winston/logger.js:81:24)\r\n    at DerivedLogger.Logger (/Users/NS/yk/node_modules/winston/lib/winston/logger.js:22:8)\r\n    at new DerivedLogger (/Users/NS/yk/node_modules/winston/lib/winston/create-logger.js:24:44)\r\n    at Object.module.exports [as createLogger] (/Users/NS/yk/node_modules/winston/lib/winston/create-logger.js:58:10)\r\n```", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/1334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/1334/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/2100", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/2100/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/2100/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/2100/events", "html_url": "https://github.com/winstonjs/winston/issues/2100", "id": 1185354354, "node_id": "I_kwDOABJpEs5GpxJy", "number": 2100, "title": "[Bug]: FileDescriptors not properly released on file rotate", "user": {"login": "kpalumbokitu", "id": 102624650, "node_id": "U_kgDOBh3tig", "avatar_url": "https://avatars.githubusercontent.com/u/102624650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kpalumbokitu", "html_url": "https://github.com/kpalumbokitu", "followers_url": "https://api.github.com/users/kpalumbokitu/followers", "following_url": "https://api.github.com/users/kpalumbokitu/following{/other_user}", "gists_url": "https://api.github.com/users/kpalumbokitu/gists{/gist_id}", "starred_url": "https://api.github.com/users/kpalumbokitu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kpalumbokitu/subscriptions", "organizations_url": "https://api.github.com/users/kpalumbokitu/orgs", "repos_url": "https://api.github.com/users/kpalumbokitu/repos", "events_url": "https://api.github.com/users/kpalumbokitu/events{/privacy}", "received_events_url": "https://api.github.com/users/kpalumbokitu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189158, "node_id": "MDU6TGFiZWwxODkxNTg=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "74E7BA", "default": false, "description": ""}, {"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 23, "created_at": "2022-03-29T20:05:34Z", "updated_at": "2025-10-23T12:20:07Z", "closed_at": "2024-01-08T01:49:45Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### \ud83d\udd0e Search Terms\n\nfile, disk usage\n\n### The problem\n\nEnvironment: Ubuntu 18.04 LTS\r\n\r\nOn running the winston file transport, we found that with the tailable option is set to true, on rotation of logs, files are renamed up to max files, but old file descriptors remain open by the node process. \r\n\r\nThe result is that if you calculate file space usage using a tool like \"du\" the deleted files no longer show up, but the disk space is still \"used\" and will be reported as used by tool like \"df\". If the node application using the winston file transport in this way is left running long enough, eventually all file descriptors on the partition will be in use by the node process, which will result in the failure to create any new files due to no file descriptor availability.\n\n### What version of Winston presents the issue?\n\nv3.2.1 and v3.6.0\n\n### What version of Node are you using?\n\nv14.19.0\n\n### If this worked in a previous version of Winston, which was it?\n\nunknown (but works in Node v12 and Node v10)\n\n### Minimum Working Example\n\nThis example will set up the file rotation such that you will quickly see the issue. You can play with the MAX_SIZE, MAX_FILES, and TIMEOUT_MS if the issue is happening too fast.\r\n\r\n```javascript\r\n'use strict';\r\n\r\nconst MAX_SIZE = 2000;\r\nconst MAX_FILES = 10;\r\nconst TIMEOUT_MS = 1000;\r\n\r\nconst winston = require('winston');\r\nconst {format} = require('logform');\r\nconst path = require('path');\r\nconst {combine, timestamp, json} = format;\r\n\r\n// Set up file transport - I assume logs folder exists\r\nconst logsDir = path.resolve(process.cwd(), './logs');\r\nconst filePath = path.join(logsDir, 'example.log');\r\nconst fileTransport = {\r\n  tailable: true,\r\n  maxsize: MAX_SIZE,\r\n  maxFiles: MAX_FILES,\r\n  filename: filePath,\r\n  handleExceptions: true,\r\n  level: 'debug',\r\n};\r\nfileTransport.format = combine(\r\n  timestamp({format: 'YYYY-MM-DD HH:mm:ss.SSS'}),\r\n  json(),\r\n);\r\n\r\n// Create logger with file transport\r\nconst logger = winston.createLogger({\r\n  transports: [new winston.transports.File(fileTransport)],\r\n  exitOnError: false,\r\n});\r\nlogger.log('info', 'Created file logger');\r\n\r\n// Add periodic logs so that files are rotated\r\nlet i = 0;\r\nsetTimeout(timeoutLogger, TIMEOUT_MS);\r\nfunction timeoutLogger() {\r\n  i++;\r\n  logger.log('info', 'another log message ' + i);\r\n  logger.log('error', 'error message ' + i);\r\n  logger.log('http', 'http log message ' + i);\r\n  logger.log('verbose', 'verbose log message ' + i);\r\n  logger.log('debug', 'debug log message ' + i);\r\n  setTimeout(timeoutLogger, TIMEOUT_MS);\r\n}\r\n```\r\n\r\nWhile running this example, use a terminal to check the file descriptor status using:\r\n* `lsof | grep example | grep deleted`\r\n* `ps aux | grep node` (to find the node PID) and then `ls -al /proc/${PID}/fd`\r\n\r\nYou'll see \"deleted\" files associated with open file descriptors.\n\n### Additional information\n\nAs I mentioned above, this problem is occurring in Node 14 and we did NOT see it in Node 12 or Node 10. A check through the Node 14 documentation showed a change to the fd garbage collection that may be what is triggering this issue now:\r\n[https://github.com/nodejs/node/pull/28396](https://github.com/nodejs/node/pull/28396)\r\n\r\nI poked around the winston file transport code, and the problem seems to be tied to calling the `_rotateFile()` function multiple times (multiple logs triggering the logic that the max file size has been reached and the file needs to be rotated). That function then calls the `_incFile()` function multiple times. The asynchronous handling of the multiple calls seems to cause the file descriptor cruft.\r\n\r\nJust to gain some proof, I modified the line lib/winston/transports/file.js:172 as follows, and that does fix the problem.\r\n```javascript\r\n// Original line:\r\nthis._endStream(() => this._rotateFile());\r\n\r\n// My change:\r\nthis._endStream(() => {\r\n  if (this._rotate === true) {\r\n    this._rotate = false;\r\n    this._rotateFile();\r\n  }\r\n});\r\n```\r\nI don't suppose that is a good and robust fix, but maybe it points to a potential solution. I'm happy to try out potential solutions if the experts have thoughts on that. Please let me know if you need any other information or if there is anything I can do to help resolve this.\r\n\r\n\r\n", "closed_by": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/2100/reactions", "total_count": 5, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 3}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/2100/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/1577", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/1577/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/1577/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/1577/events", "html_url": "https://github.com/winstonjs/winston/issues/1577", "id": 403735821, "node_id": "MDU6SXNzdWU0MDM3MzU4MjE=", "number": 1577, "title": "`this._addDefaultMeta` is not a function", "user": {"login": "errietta", "id": 134585, "node_id": "MDQ6VXNlcjEzNDU4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/134585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/errietta", "html_url": "https://github.com/errietta", "followers_url": "https://api.github.com/users/errietta/followers", "following_url": "https://api.github.com/users/errietta/following{/other_user}", "gists_url": "https://api.github.com/users/errietta/gists{/gist_id}", "starred_url": "https://api.github.com/users/errietta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/errietta/subscriptions", "organizations_url": "https://api.github.com/users/errietta/orgs", "repos_url": "https://api.github.com/users/errietta/repos", "events_url": "https://api.github.com/users/errietta/events{/privacy}", "received_events_url": "https://api.github.com/users/errietta/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}, {"id": 144607129, "node_id": "MDU6TGFiZWwxNDQ2MDcxMjk=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Important", "name": "Important", "color": "e11d21", "default": false, "description": ""}, {"id": 907478444, "node_id": "MDU6TGFiZWw5MDc0Nzg0NDQ=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Help%20Wanted", "name": "Help Wanted", "color": "74E7BA", "default": false, "description": "Additional help desired from the community"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 22, "created_at": "2019-01-28T10:09:22Z", "updated_at": "2019-01-30T15:29:09Z", "closed_at": "2019-01-29T18:31:35Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### Please tell us about your environment:\r\n  \r\n- _`winston` version?_\r\n   - [ ] `winston@2`\r\n   - [x] `winston@3` \r\n- _`node -v` outputs:_ 8.9.3\r\n- _Operating System? Linux & Mac\r\n- _Language?_ Es6\r\n\r\n### What is the problem? \r\n\r\nSince the 3.2.0 release we are getting the following:\r\n\r\n```\r\nerror: this._addDefaultMeta is not a function {\"stack\":\"TypeError: this._addDefaultMeta is not a function\\n    at APIClient.(anonymous function) [as logger] (/Users/erriettakostala/prototype1/server/node_modules/winston/lib/winston/create-logger.js:55:16)\\n  \r\n```\r\n\r\nWe're just calling `log` the same way as before.\r\n\r\n```\r\n  const logger = winston.createLogger({\r\n    level: process.env.LOG_LEVEL || 'debug',\r\n    format: process.env.NODE_ENV === 'production' ? winston.format.json() : winston.format.simple(),\r\n    transports: [ new winston.transports.Console() ]\r\n  })\r\n\r\nlogger.log({\r\n  level: 'info',\r\n  message: ''\r\n});\r\n```\r\n\r\n### What do you expect to happen instead?\r\nThe code to not crash :-)\r\n\r\n\r\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/1577/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/1577/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/2585", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/2585/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/2585/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/2585/events", "html_url": "https://github.com/winstonjs/winston/issues/2585", "id": 3467913430, "node_id": "I_kwDOABJpEs7OtCjW", "number": 2585, "title": "[Bug]: Encountering colorspace error dependency issue after recent update to 3.18.1", "user": {"login": "mlgamboa", "id": 91079819, "node_id": "MDQ6VXNlcjkxMDc5ODE5", "avatar_url": "https://avatars.githubusercontent.com/u/91079819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mlgamboa", "html_url": "https://github.com/mlgamboa", "followers_url": "https://api.github.com/users/mlgamboa/followers", "following_url": "https://api.github.com/users/mlgamboa/following{/other_user}", "gists_url": "https://api.github.com/users/mlgamboa/gists{/gist_id}", "starred_url": "https://api.github.com/users/mlgamboa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mlgamboa/subscriptions", "organizations_url": "https://api.github.com/users/mlgamboa/orgs", "repos_url": "https://api.github.com/users/mlgamboa/repos", "events_url": "https://api.github.com/users/mlgamboa/events{/privacy}", "received_events_url": "https://api.github.com/users/mlgamboa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189158, "node_id": "MDU6TGFiZWwxODkxNTg=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "74E7BA", "default": false, "description": ""}, {"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 17, "created_at": "2025-09-30T07:13:15Z", "updated_at": "2025-09-30T15:57:25Z", "closed_at": "2025-09-30T14:38:33Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### \ud83d\udd0e Search Terms\n\ncolorspace\n\n### The problem\n\nimport color from 'color';\n    ^^^^^^\n\n    SyntaxError: Cannot use import statement outside a module\n\n      1 | require('dotenv').config();\n    > 2 | const winston = require('winston');\n        |                 ^\n      3 |\n      4 | const enumerateErrorFormat = winston.format((info) => {\n      5 |   if (info instanceof Error) {\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1505:14)\n      at Object.require (node_modules/fix-esm/index.js:48:18)\n      at Object.<anonymous> (node_modules/@dabh/diagnostics/modifiers/namespace-ansi.js:2:25)\n      at Object.<anonymous> (node_modules/@dabh/diagnostics/node/development.js:29:20)\n      at Object.<anonymous> (node_modules/@dabh/diagnostics/node/index.js:7:20)\n      at Object.<anonymous> (node_modules/winston/lib/winston/exception-handler.js:12:15)\n      at Object.<anonymous> (node_modules/winston/lib/winston/logger.js:14:26)\n      at Object.<anonymous> (node_modules/winston/lib/winston/create-logger.js:12:16)\n      at Object.<anonymous> (node_modules/winston/lib/winston.js:42:24)\n\n### What version of Winston presents the issue?\n\nv3.18.1\n\n### What version of Node are you using?\n\nv24.3\n\n### If this worked in a previous version of Winston, which was it?\n\n_No response_\n\n### Minimum Working Example\n\n_No response_\n\n### Additional information\n\n_No response_", "closed_by": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/2585/reactions", "total_count": 16, "+1": 12, "-1": 0, "laugh": 0, "hooray": 0, "confused": 4, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/2585/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/1596", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/1596/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/1596/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/1596/events", "html_url": "https://github.com/winstonjs/winston/issues/1596", "id": 410385208, "node_id": "MDU6SXNzdWU0MTAzODUyMDg=", "number": 1596, "title": "Log / info methods don't respect metadata overrides", "user": {"login": "kbirger", "id": 165643, "node_id": "MDQ6VXNlcjE2NTY0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/165643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kbirger", "html_url": "https://github.com/kbirger", "followers_url": "https://api.github.com/users/kbirger/followers", "following_url": "https://api.github.com/users/kbirger/following{/other_user}", "gists_url": "https://api.github.com/users/kbirger/gists{/gist_id}", "starred_url": "https://api.github.com/users/kbirger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kbirger/subscriptions", "organizations_url": "https://api.github.com/users/kbirger/orgs", "repos_url": "https://api.github.com/users/kbirger/repos", "events_url": "https://api.github.com/users/kbirger/events{/privacy}", "received_events_url": "https://api.github.com/users/kbirger/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}, {"id": 131923713, "node_id": "MDU6TGFiZWwxMzE5MjM3MTM=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Duplicate", "name": "Duplicate", "color": "EDEDED", "default": false, "description": ""}, {"id": 144607129, "node_id": "MDU6TGFiZWwxNDQ2MDcxMjk=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Important", "name": "Important", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 16, "created_at": "2019-02-14T16:30:47Z", "updated_at": "2024-04-06T15:15:12Z", "closed_at": "2022-01-14T19:35:05Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### Please tell us about your environment:\r\n  \r\n- _`winston` version?_\r\n   - [ ] `winston@2`\r\n   - [x] `winston@3` \r\n- _`node -v` outputs:_ v10.14.2\r\n- _Operating System?_ (Windows, macOS, or Linux) Windows and Linux\r\n- _Language?_ all\r\n\r\n### What is the problem? \r\nIf I create a root logger with some default metadata property and a format string containing metadata, then create a child logger, calling `child.info('test')` ignores the metadata set on the child. \r\nIf I call `child.log({ level: 'info, message: 'test' })` the metadata is honored.\r\n\r\nI also noticed that this behavior is broken even on the root logger. If you use defaultMeta, it will overwrite data in your info object.\r\n\r\n### What do you expect to happen instead?\r\nI expect the child behave consistently when calling `.log` and `.info`\r\n### Other information\r\nThere seem to be a few problems here.\r\n\r\n**First Problem:**\r\nWhen you create a logger with default metadata, it is stored as `defaultMeta`. When you call `log(info)`, the default metaData is applied onto `info`, effectively overwriting whatever you passed.\r\n\r\n```javascript\r\nlogger.log({ level: 'debug', message: 'root log', component: 'ROOT2' });\r\n// => [debug][ROOT]: root log\r\n```\r\n\r\n\r\n```javascript\r\n_addDefaultMeta(msg) {\r\n    if (this.defaultMeta) {\r\n      Object.assign(msg, this.defaultMeta); // msg gets overwritten with defaultMeta\r\n    }\r\n  }\r\n}\r\n```\r\nthis function should probably assign in reverse order to a blank object and return the value..\r\n\r\n**Second Problem:**\r\nWhen calling `.info()`, the same happens:\r\n\r\n```javascript\r\n  logger.info({ message: 'root info', component: 'ROOT2' });\r\n // => [info][ROOT]: root info\r\n```\r\n\r\n**Third Problem:**\r\nWhen creating a child logger which overrides **component**, if you call `.info` on the child, the metadata from the root is used instead. This is because the `child()` method only overrides  `write()`\r\n\r\nPlease let me know if you need a full reproduction. I can try to provide one.", "closed_by": {"login": "maverick1872", "id": 10217028, "node_id": "MDQ6VXNlcjEwMjE3MDI4", "avatar_url": "https://avatars.githubusercontent.com/u/10217028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maverick1872", "html_url": "https://github.com/maverick1872", "followers_url": "https://api.github.com/users/maverick1872/followers", "following_url": "https://api.github.com/users/maverick1872/following{/other_user}", "gists_url": "https://api.github.com/users/maverick1872/gists{/gist_id}", "starred_url": "https://api.github.com/users/maverick1872/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maverick1872/subscriptions", "organizations_url": "https://api.github.com/users/maverick1872/orgs", "repos_url": "https://api.github.com/users/maverick1872/repos", "events_url": "https://api.github.com/users/maverick1872/events{/privacy}", "received_events_url": "https://api.github.com/users/maverick1872/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/1596/reactions", "total_count": 8, "+1": 8, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/1596/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/1144", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/1144/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/1144/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/1144/events", "html_url": "https://github.com/winstonjs/winston/issues/1144", "id": 273953368, "node_id": "MDU6SXNzdWUyNzM5NTMzNjg=", "number": 1144, "title": "Winston v3.0.0 rc1 hangs under stress when using file transport ", "user": {"login": "juanda99", "id": 2182923, "node_id": "MDQ6VXNlcjIxODI5MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/2182923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juanda99", "html_url": "https://github.com/juanda99", "followers_url": "https://api.github.com/users/juanda99/followers", "following_url": "https://api.github.com/users/juanda99/following{/other_user}", "gists_url": "https://api.github.com/users/juanda99/gists{/gist_id}", "starred_url": "https://api.github.com/users/juanda99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juanda99/subscriptions", "organizations_url": "https://api.github.com/users/juanda99/orgs", "repos_url": "https://api.github.com/users/juanda99/repos", "events_url": "https://api.github.com/users/juanda99/events{/privacy}", "received_events_url": "https://api.github.com/users/juanda99/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}, {"id": 144607129, "node_id": "MDU6TGFiZWwxNDQ2MDcxMjk=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Important", "name": "Important", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-11-14T21:42:35Z", "updated_at": "2018-05-24T08:02:30Z", "closed_at": "2018-05-24T08:02:30Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I'm using a watcher that fires an event per directory found in *./materials* folder.\r\nI create some directories for debug:\r\n```\r\ncd materials\r\nfor i in `seq 1 10000`; do mkdir $i; done\r\n```\r\n\r\nWhen I ran my script It hangs except if I remove file transport and use just the console.\r\n\r\n```\r\n// load dependencies\r\nvar chokidar = require('chokidar')\r\nvar fs = require('fs-extra')\r\nvar path = require('path')\r\n\r\nconst { createLogger, format, transports } = require('winston')\r\nconst { combine, timestamp, label, printf, colorize } = format\r\n\r\nconst MATERIALS = './materials'\r\nconst NODE_ENV = process.env.NODE_ENV || 'development'\r\n\r\n\r\n\r\n// log configuration\r\nconst myFormat = printf(info => {\r\n  return `${info.timestamp} ${info.level}: ${info.message}`\r\n})\r\n\r\n\r\nconst logger = createLogger({\r\n  format: combine(\r\n    colorize(),\r\n    timestamp(),\r\n    myFormat\r\n  ),\r\n  transports: [\r\n    new transports.File({\r\n      filename: 'combined.log'\r\n    })\r\n  ]\r\n})\r\n\r\n\r\n//\r\n// If we're not in production then log to the `console` with the format:\r\n// `${info.level}: ${info.message} JSON.stringify({ ...rest }) `\r\n// \r\nif (process.env.NODE_ENV !== 'production') {\r\n  logger.add(new transports.Console({\r\n    level: 'debug'\r\n  }))\r\n}\r\n\r\n// Initialize watcher.\r\nvar watcher = chokidar.watch(MATERIALS)\r\n\r\n// Add event listeners.\r\nwatcher\r\n  .on('addDir', (dir) => {\r\n    logger.info(`ADDED DIRECTORY: ${path.resolve(MATERIALS, dir)}`)\r\n  })\r\n  .on('error', error => logger.error(`WATCHER ERROR: ${error}`))\r\n  .on('ready', () => logger.info('Initial scan complete, waiting for changes'))\r\n```", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/1144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/1144/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/2583", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/2583/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/2583/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/2583/events", "html_url": "https://github.com/winstonjs/winston/issues/2583", "id": 3467644486, "node_id": "I_kwDOABJpEs7OsA5G", "number": 2583, "title": "[Bug]: ERR_REQUIRE_ESM with winston@3.18.0", "user": {"login": "ddolcimascolo", "id": 5468291, "node_id": "MDQ6VXNlcjU0NjgyOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5468291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddolcimascolo", "html_url": "https://github.com/ddolcimascolo", "followers_url": "https://api.github.com/users/ddolcimascolo/followers", "following_url": "https://api.github.com/users/ddolcimascolo/following{/other_user}", "gists_url": "https://api.github.com/users/ddolcimascolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddolcimascolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddolcimascolo/subscriptions", "organizations_url": "https://api.github.com/users/ddolcimascolo/orgs", "repos_url": "https://api.github.com/users/ddolcimascolo/repos", "events_url": "https://api.github.com/users/ddolcimascolo/events{/privacy}", "received_events_url": "https://api.github.com/users/ddolcimascolo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189158, "node_id": "MDU6TGFiZWwxODkxNTg=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "74E7BA", "default": false, "description": ""}, {"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 15, "created_at": "2025-09-30T05:34:18Z", "updated_at": "2025-09-30T23:28:54Z", "closed_at": "2025-09-30T20:07:52Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### \ud83d\udd0e Search Terms\n\nrequire esm breaking change \n\n### The problem\n\nHello,\n\nI suppose this breaking change wasn't intended and is a consequence of the bump of the diagnostics package...\n\nCheers,\nDavid \n\n### What version of Winston presents the issue?\n\nv3.18.0\n\n### What version of Node are you using?\n\nv22.11.0\n\n### If this worked in a previous version of Winston, which was it?\n\nv3.17.x\n\n### Minimum Working Example\n\nJust require('winston') in a commonjs module. \n\n### Additional information\n\nException during run: Error [ERR_REQUIRE_ESM]: require() of ES Module /builds/stordata/spoolx/node_modules/@so-ric/colorspace/index.js from /builds/stordata/spoolx/node_modules/@dabh/diagnostics/modifiers/namespace-ansi.js not supported.\nInstead change the require of index.js in /builds/stordata/spoolx/node_modules/@dabh/diagnostics/modifiers/namespace-ansi.js to a dynamic import() which is available in all CommonJS modules.", "closed_by": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/2583/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/2583/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/288", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/288/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/288/events", "html_url": "https://github.com/winstonjs/winston/issues/288", "id": 17375404, "node_id": "MDU6SXNzdWUxNzM3NTQwNA==", "number": 288, "title": "High concurrency writes leads to data loss", "user": {"login": "linbo", "id": 1374391, "node_id": "MDQ6VXNlcjEzNzQzOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1374391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linbo", "html_url": "https://github.com/linbo", "followers_url": "https://api.github.com/users/linbo/followers", "following_url": "https://api.github.com/users/linbo/following{/other_user}", "gists_url": "https://api.github.com/users/linbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/linbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linbo/subscriptions", "organizations_url": "https://api.github.com/users/linbo/orgs", "repos_url": "https://api.github.com/users/linbo/repos", "events_url": "https://api.github.com/users/linbo/events{/privacy}", "received_events_url": "https://api.github.com/users/linbo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": true, "assignees": [], "milestone": null, "comments": 14, "created_at": "2013-07-30T03:10:28Z", "updated_at": "2018-06-01T17:38:22Z", "closed_at": "2018-06-01T08:49:29Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": "resolved", "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**testing script**\n\n``` javascript\n$ cat winston.js \nvar winston = require('winston');\n\nvar logger = new (winston.Logger)({\n        transports: [\n          new (winston.transports.Console)(),\n          new (winston.transports.File)({ filename: 'win.log' })\n        ]\n      });\n\nvar http=require('http');\n\nvar server = http.createServer(function(request, response){\n    response.writeHead(200, {'Content-Type': 'text/plain'});\n    var rd = Math.random() * 50;\n    logger.info(\"hello \" + rd);\n    response.write('hello ');\n    if (Math.floor(rd) == 30){\n        process.exit(1);\n    }\n    response.end();\n}).listen(4444);\n```\n\n**ab testing command**\n\n``` bash\nab -c 10 -n 100 localhost:4444/ \n```\n\n**console log result all request**\n\n``` bash\n$ node winston.js \ninfo: hello 40.635715366806835\ninfo: hello 47.55378740373999\ninfo: hello 3.97098318208009\ninfo: hello 21.402712271083146\ninfo: hello 13.45938507001847\ninfo: hello 34.73868641303852\ninfo: hello 35.19469986204058\ninfo: hello 17.50683527207002\ninfo: hello 46.6102683218196\ninfo: hello 16.208414710126817\ninfo: hello 18.39921014616266\ninfo: hello 23.423498892225325\ninfo: hello 44.21681684907526\ninfo: hello 35.54235898191109\ninfo: hello 9.904313215520233\ninfo: hello 27.047289244364947\ninfo: hello 32.58601982379332\ninfo: hello 36.48257440654561\ninfo: hello 42.66765915090218\ninfo: hello 9.47293157223612\ninfo: hello 38.31890656147152\ninfo: hello 40.63100240891799\ninfo: hello 26.544194167945534\ninfo: hello 17.846915975678712\ninfo: hello 43.33941290387884\ninfo: hello 26.012209930922836\ninfo: hello 30.679881805554032\n```\n\n**But file log only has 3 result:**\n\n``` bash\n$ cat win.log \n{\"level\":\"info\",\"message\":\"hello 40.635715366806835\",\"timestamp\":\"2013-07-30T03:03:43.441Z\"}\n{\"level\":\"info\",\"message\":\"hello 47.55378740373999\",\"timestamp\":\"2013-07-30T03:03:43.446Z\"}\n{\"level\":\"info\",\"message\":\"hello 3.97098318208009\",\"timestamp\":\"2013-07-30T03:03:43.446Z\"}\n```\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/288/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/288/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/2327", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/2327/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/2327/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/2327/events", "html_url": "https://github.com/winstonjs/winston/issues/2327", "id": 1806569983, "node_id": "I_kwDOABJpEs5rrhH_", "number": 2327, "title": "[Bug]: Winston failed to execute caused by TypeError", "user": {"login": "adampweb", "id": 19713237, "node_id": "MDQ6VXNlcjE5NzEzMjM3", "avatar_url": "https://avatars.githubusercontent.com/u/19713237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adampweb", "html_url": "https://github.com/adampweb", "followers_url": "https://api.github.com/users/adampweb/followers", "following_url": "https://api.github.com/users/adampweb/following{/other_user}", "gists_url": "https://api.github.com/users/adampweb/gists{/gist_id}", "starred_url": "https://api.github.com/users/adampweb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adampweb/subscriptions", "organizations_url": "https://api.github.com/users/adampweb/orgs", "repos_url": "https://api.github.com/users/adampweb/repos", "events_url": "https://api.github.com/users/adampweb/events{/privacy}", "received_events_url": "https://api.github.com/users/adampweb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189158, "node_id": "MDU6TGFiZWwxODkxNTg=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "74E7BA", "default": false, "description": ""}, {"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2023-07-16T12:48:40Z", "updated_at": "2023-12-13T20:25:43Z", "closed_at": "2023-10-07T19:45:54Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### \ud83d\udd0e Search Terms\r\n\r\nwinston colors, winston docker container fails,\r\n\r\n### The problem\r\n\r\n**Winston version:** _^3.10.0_\r\n**NodeJS version:** _v18.16.1_\r\n**NPM version:** _9.5.1_\r\n**NextJS version:** _13.4.10_\r\n\r\n\r\nWinston brakes the app (NextJS 13) because of an unhandled Exception in peer dependency ([@colors/colors](https://github.com/DABH/colors.js/tree/master)):\r\nThe error message reflects a TypeError in [https://github.com/DABH/colors.js/blob/master/lib/system/has-flag.js](https://github.com/DABH/colors.js/blob/master/lib/system/has-flag.js) file. Not checks the argv variable is not undefined.\r\n```\r\n- error Error [TypeError]: Cannot read properties of undefined (reading 'indexOf')\r\n2023-07-16T11:08:15.194016114Z     at <unknown> (webpack-internal:///(middleware)/./node_modules/@colors/colors/lib/system/has-flag.js:26)\r\n2023-07-16T11:08:15.194019984Z     at module.exports (webpack-internal:///(middleware)/./node_modules/@colors/colors/lib/system/has-flag.js:26:30)\r\n2023-07-16T11:08:15.194023256Z     at eval (webpack-internal:///(middleware)/./node_modules/@colors/colors/lib/system/supports-colors.js:29:5)\r\n2023-07-16T11:08:15.194026264Z     at (middleware)/./node_modules/@colors/colors/lib/system/supports-colors.js (file:///app/_next/server/src/middleware.js:219:1)\r\n2023-07-16T11:08:15.194029419Z     at __webpack_require__ (file:///app/_next/server/edge-runtime-webpack.js:37:33)\r\n2023-07-16T11:08:15.194032354Z     at fn (file:///app/_next/server/edge-runtime-webpack.js:268:21)\r\n2023-07-16T11:08:15.194035257Z     at eval (webpack-internal:///(middleware)/./node_modules/@colors/colors/lib/colors.js:36:25)\r\n2023-07-16T11:08:15.194038400Z     at (middleware)/./node_modules/@colors/colors/lib/colors.js (file:///app/_next/server/src/middleware.js:127:1)\r\n2023-07-16T11:08:15.194041466Z     at __webpack_require__ (file:///app/_next/server/edge-runtime-webpack.js:37:33)\r\n2023-07-16T11:08:15.194044377Z     at fn (file:///app/_next/server/edge-runtime-webpack.js:268:21)\r\n2023-07-16T11:08:15.194047214Z     at eval (webpack-internal:///(middleware)/./node_modules/@colors/colors/safe.js:9:14) {\r\n2023-07-16T11:08:15.194050136Z   digest: undefined\r\n2023-07-16T11:08:15.194052928Z }\r\n```\r\n\r\n\r\n\r\n### What version of Winston presents the issue?\r\n\r\n3.10.0\r\n\r\n### What version of Node are you using?\r\n\r\nv18.16.11\r\n\r\n### If this worked in a previous version of Winston, which was it?\r\n\r\n_No response_\r\n\r\n### Minimum Working Example\r\n\r\n**1. Fresh install NextJS with Tailwind CSS**\r\n```bash\r\nnpx create-next-app winston\r\nNeed to install the following packages:\r\n  create-next-app@13.4.10\r\nOk to proceed? (y) y\r\n\u2714 Would you like to use TypeScript? \u2026  Yes\r\n\u2714 Would you like to use ESLint? \u2026 No\r\n\u2714 Would you like to use Tailwind CSS? \u2026 Yes\r\n\u2714 Would you like to use `src/` directory? \u2026 Yes\r\n\u2714 Would you like to use App Router? (recommended) \u2026 Yes\r\n\u2714 Would you like to customize the default import alias? \u2026 No\r\n```\r\n\r\n**2. Install the latest version of Winston**\r\n```bash\r\nnpm install winston\r\n```\r\n**3. Make a logger instance in `src/services/logger.ts` file**\r\n```ts\r\nimport winston from 'winston';\r\n\r\nconst logger = winston.createLogger({\r\n  level: 'debug',\r\n  transports: [new winston.transports.Console()],\r\n  format: winston.format.json(),\r\n});\r\nexport default logger;\r\n```\r\n**4. Create NextJS middleware in `src/middleware.ts` file**\r\n```ts\r\nimport { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\n\r\nimport logger from '@/services/logger';\r\n\r\nexport const config = {\r\n  matcher: '/',\r\n}\r\n\r\nexport function middleware(request: NextRequest) {\r\n\r\n  if(request === undefined){\r\n    return NextResponse.json({\r\n      message: \"Bad request\"\r\n    }, {\r\n      status: 400,\r\n    })\r\n  }\r\n\r\n  const testHeader = 'script-src \\'self\\';';\r\n\r\n  if(testHeader.includes('default-src') === false){\r\n    logger.error(\"Header values mismatch!\")\r\n  }\r\n\r\n  const response = NextResponse.next();\r\n  response.headers.set('Content-Security-Policy', testHeader);\r\n  return response;\r\n}\r\n```\r\n**5. Start the app**\r\n```bash\r\nnpm run dev\r\n```\r\n**After that the error (which is detailed above) has appeared in the console and the browser.**\r\n\r\n# Additional configs\r\n\r\n## package.json\r\n```json\r\n{\r\n  \"name\": \"winston\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"next dev\",\r\n    \"build\": \"next build\",\r\n    \"start\": \"next start\",\r\n    \"lint\": \"next lint\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@types/node\": \"20.4.2\",\r\n    \"@types/react\": \"18.2.15\",\r\n    \"@types/react-dom\": \"18.2.7\",\r\n    \"autoprefixer\": \"10.4.14\",\r\n    \"next\": \"13.4.10\",\r\n    \"postcss\": \"8.4.26\",\r\n    \"react\": \"18.2.0\",\r\n    \"react-dom\": \"18.2.0\",\r\n    \"tailwindcss\": \"3.3.3\",\r\n    \"typescript\": \"5.1.6\",\r\n    \"winston\": \"^3.10.0\"\r\n  }\r\n}\r\n```\r\n## tsconfig.json\r\n**Not modified manually, generated by `npx create-next-app`**\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es5\",\r\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\r\n    \"allowJs\": true,\r\n    \"skipLibCheck\": true,\r\n    \"strict\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"noEmit\": true,\r\n    \"esModuleInterop\": true,\r\n    \"module\": \"esnext\",\r\n    \"moduleResolution\": \"node\",\r\n    \"resolveJsonModule\": true,\r\n    \"isolatedModules\": true,\r\n    \"jsx\": \"preserve\",\r\n    \"incremental\": true,\r\n    \"plugins\": [\r\n      {\r\n        \"name\": \"next\"\r\n      }\r\n    ],\r\n    \"paths\": {\r\n      \"@/*\": [\"./src/*\"]\r\n    }\r\n  },\r\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\r\n  \"exclude\": [\"node_modules\"]\r\n}\r\n```\r\n## next.config.js\r\n**Not modified manually, generated by `npx create-next-app`**\r\n```js\r\n/** @type {import('next').NextConfig} */\r\nconst nextConfig = {}\r\n\r\nmodule.exports = nextConfig\r\n```\r\n\r\n## Directory structure and permissions\r\n```bash\r\ndrwxrwxr-x   7 adam adam 4,0K j\u00fal   16 14:16 .\r\ndrwxr-xr-x   8 adam adam 4,0K j\u00fal   16 14:12 ..\r\ndrwxrwxr-x   8 adam adam 4,0K j\u00fal   16 14:13 .git\r\n-rw-rw-r--   1 adam adam  368 j\u00fal   16 14:11 .gitignore\r\ndrwxrwxr-x   6 adam adam 4,0K j\u00fal   16 14:47 .next\r\n-rw-rw-r--   1 adam adam   92 j\u00fal   16 14:11 next.config.js\r\n-rw-rw-r--   1 adam adam  201 j\u00fal   16 14:11 next-env.d.ts\r\ndrwxrwxr-x 133 adam adam 4,0K j\u00fal   16 14:17 node_modules\r\n-rw-rw-r--   1 adam adam  514 j\u00fal   16 14:17 package.json\r\n-rw-rw-r--   1 adam adam  63K j\u00fal   16 14:17 package-lock.json\r\n-rw-rw-r--   1 adam adam   82 j\u00fal   16 14:11 postcss.config.js\r\ndrwxrwxr-x   2 adam adam 4,0K j\u00fal   16 14:12 public\r\n-rw-rw-r--   1 adam adam 1,4K j\u00fal   16 14:11 README.md\r\ndrwxrwxr-x   4 adam adam 4,0K j\u00fal   16 14:24 src\r\n-rw-rw-r--   1 adam adam  480 j\u00fal   16 14:12 tailwind.config.js\r\n-rw-rw-r--   1 adam adam  642 j\u00fal   16 14:12 tsconfig.json\r\n```\r\n\r\n### Additional information\r\n\r\n_No response_", "closed_by": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/2327/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/2327/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/2288", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/2288/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/2288/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/2288/events", "html_url": "https://github.com/winstonjs/winston/issues/2288", "id": 1615061979, "node_id": "I_kwDOABJpEs5gQ-Pb", "number": 2288, "title": "[Bug]: _winston.transports.File is not a constructor", "user": {"login": "agracia-foticos", "id": 77386602, "node_id": "MDQ6VXNlcjc3Mzg2NjAy", "avatar_url": "https://avatars.githubusercontent.com/u/77386602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agracia-foticos", "html_url": "https://github.com/agracia-foticos", "followers_url": "https://api.github.com/users/agracia-foticos/followers", "following_url": "https://api.github.com/users/agracia-foticos/following{/other_user}", "gists_url": "https://api.github.com/users/agracia-foticos/gists{/gist_id}", "starred_url": "https://api.github.com/users/agracia-foticos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agracia-foticos/subscriptions", "organizations_url": "https://api.github.com/users/agracia-foticos/orgs", "repos_url": "https://api.github.com/users/agracia-foticos/repos", "events_url": "https://api.github.com/users/agracia-foticos/events{/privacy}", "received_events_url": "https://api.github.com/users/agracia-foticos/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189158, "node_id": "MDU6TGFiZWwxODkxNTg=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "74E7BA", "default": false, "description": ""}, {"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2023-03-08T10:47:47Z", "updated_at": "2023-09-06T09:45:30Z", "closed_at": "2023-06-15T12:51:16Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### \ud83d\udd0e Search Terms\n\nnuxt 3\n\n### The problem\n\nWe are implementing winston with nuxt 3 but throws an error\r\n\r\n```\r\nCannot start nuxt:  _winston.transports.File is not a constructor\r\n\r\n  at setup (src/modules/winston.ts:32:7)\r\n  at normalizedModule (node_modules/@nuxt/kit/dist/index.mjs:167:29)\r\n  at async installModule (node_modules/@nuxt/kit/dist/index.mjs:435:15)\r\n  at async initNuxt (node_modules/nuxt/dist/index.mjs:2254:7)\r\n  at async load (node_modules/nuxi/dist/chunks/dev.mjs:6810:9)\r\n  at async Object.invoke (node_modules/nuxi/dist/chunks/dev.mjs:6871:5)\r\n  at async _main (node_modules/nuxi/dist/cli.mjs:50:20)\r\n```\r\n\r\nhttps://stackblitz.com/edit/nuxt-starter-h1fvok\r\n\n\n### What version of Winston presents the issue?\n\n3.8.2\n\n### What version of Node are you using?\n\n18.14.0\n\n### If this worked in a previous version of Winston, which was it?\n\n_No response_\n\n### Minimum Working Example\n\nWe are implementing winston with nuxt 3 but throws an error\r\n\r\n```\r\nCannot start nuxt:  _winston.transports.File is not a constructor\r\n\r\n  at setup (src/modules/winston.ts:32:7)\r\n  at normalizedModule (node_modules/@nuxt/kit/dist/index.mjs:167:29)\r\n  at async installModule (node_modules/@nuxt/kit/dist/index.mjs:435:15)\r\n  at async initNuxt (node_modules/nuxt/dist/index.mjs:2254:7)\r\n  at async load (node_modules/nuxi/dist/chunks/dev.mjs:6810:9)\r\n  at async Object.invoke (node_modules/nuxi/dist/chunks/dev.mjs:6871:5)\r\n  at async _main (node_modules/nuxi/dist/cli.mjs:50:20)\r\n```\r\n\r\nhttps://stackblitz.com/edit/nuxt-starter-h1fvok\r\n\n\n### Additional information\n\n_No response_", "closed_by": {"login": "agracia-foticos", "id": 77386602, "node_id": "MDQ6VXNlcjc3Mzg2NjAy", "avatar_url": "https://avatars.githubusercontent.com/u/77386602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agracia-foticos", "html_url": "https://github.com/agracia-foticos", "followers_url": "https://api.github.com/users/agracia-foticos/followers", "following_url": "https://api.github.com/users/agracia-foticos/following{/other_user}", "gists_url": "https://api.github.com/users/agracia-foticos/gists{/gist_id}", "starred_url": "https://api.github.com/users/agracia-foticos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agracia-foticos/subscriptions", "organizations_url": "https://api.github.com/users/agracia-foticos/orgs", "repos_url": "https://api.github.com/users/agracia-foticos/repos", "events_url": "https://api.github.com/users/agracia-foticos/events{/privacy}", "received_events_url": "https://api.github.com/users/agracia-foticos/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/2288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/2288/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/745", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/745/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/745/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/745/events", "html_url": "https://github.com/winstonjs/winston/issues/745", "id": 115143994, "node_id": "MDU6SXNzdWUxMTUxNDM5OTQ=", "number": 745, "title": "JSON String interpolation not working as expected.", "user": {"login": "Nepoxx", "id": 1477090, "node_id": "MDQ6VXNlcjE0NzcwOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1477090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nepoxx", "html_url": "https://github.com/Nepoxx", "followers_url": "https://api.github.com/users/Nepoxx/followers", "following_url": "https://api.github.com/users/Nepoxx/following{/other_user}", "gists_url": "https://api.github.com/users/Nepoxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nepoxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nepoxx/subscriptions", "organizations_url": "https://api.github.com/users/Nepoxx/orgs", "repos_url": "https://api.github.com/users/Nepoxx/repos", "events_url": "https://api.github.com/users/Nepoxx/events{/privacy}", "received_events_url": "https://api.github.com/users/Nepoxx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-11-04T20:48:00Z", "updated_at": "2016-07-22T23:44:40Z", "closed_at": "2016-07-22T23:44:40Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "The following code:\n\n``` javascript\nlet logger = require('winston')\n\nlogger.log('info', 'test %j', {a: 5, b: 10})\nlogger.info('test %j', {a: 5, b: 10})\n```\n\nResults in:\n\n```\ninfo: test %j a=5, b=10\ninfo: test %j a=5, b=10\n```\n\nThis is not as expected and described [here](https://github.com/winstonjs/winston#string-interpolation).\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/745/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/2502", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/2502/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/2502/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/2502/events", "html_url": "https://github.com/winstonjs/winston/issues/2502", "id": 2462446305, "node_id": "I_kwDOABJpEs6SxfLh", "number": 2502, "title": "[Bug]: User reports breakage with 3.14.1", "user": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189158, "node_id": "MDU6TGFiZWwxODkxNTg=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "74E7BA", "default": false, "description": ""}, {"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-08-13T05:54:30Z", "updated_at": "2024-08-14T17:18:30Z", "closed_at": "2024-08-14T00:19:04Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### \ud83d\udd0e Search Terms\n\n3.14.1\n\n### The problem\n\nA user has reported a breaking change in updating from 3.14.0 to 3.14.1.  This change was reported privately; the core detail is\r\n\r\n```\r\n  _consoleLog = console.log.bind(console);\r\n              ^\r\n\r\nSyntaxError: Unexpected token =\r\n```\r\n\r\nwhich is a line introduced in #2498 .  Raising this as a GitHub Issue for public visibility; actively working on investigating (will just revert and push 3.14.2 if needed) but putting out several fires, hopefully will have this issue resolved in <24hr.\n\n### What version of Winston presents the issue?\n\nv3.14.1\n\n### What version of Node are you using?\n\nNot reported\n\n### If this worked in a previous version of Winston, which was it?\n\nv3.14.0\n\n### Minimum Working Example\n\n_No response_\n\n### Additional information\n\n_No response_", "closed_by": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/2502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/2502/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/299", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/299/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/299/events", "html_url": "https://github.com/winstonjs/winston/pull/299", "id": 18345566, "node_id": "MDExOlB1bGxSZXF1ZXN0Nzc1MzE0OQ==", "number": 299, "title": "Allow using logstash option with the File transport", "user": {"login": "gmajoulet", "id": 1492044, "node_id": "MDQ6VXNlcjE0OTIwNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1492044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmajoulet", "html_url": "https://github.com/gmajoulet", "followers_url": "https://api.github.com/users/gmajoulet/followers", "following_url": "https://api.github.com/users/gmajoulet/following{/other_user}", "gists_url": "https://api.github.com/users/gmajoulet/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmajoulet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmajoulet/subscriptions", "organizations_url": "https://api.github.com/users/gmajoulet/orgs", "repos_url": "https://api.github.com/users/gmajoulet/repos", "events_url": "https://api.github.com/users/gmajoulet/events{/privacy}", "received_events_url": "https://api.github.com/users/gmajoulet/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 9, "created_at": "2013-08-21T10:06:17Z", "updated_at": "2014-10-06T19:55:08Z", "closed_at": "2014-10-06T19:55:08Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/winstonjs/winston/pulls/299", "html_url": "https://github.com/winstonjs/winston/pull/299", "diff_url": "https://github.com/winstonjs/winston/pull/299.diff", "patch_url": "https://github.com/winstonjs/winston/pull/299.patch", "merged_at": null}, "body": "Hello,\n\nI noticed a nice logstash format option by browsing your code, and after reading some PRs I saw you're only using it with another library.\nLogging in a file using the logstash format is useful if you use a centralized logstash installation, as we do.\n\nThis PR only allows people to add a logstash parameter to format the output, and take advantage of the already written code.\n\nI'm not sure it's useful for the other transports though, so I only added that for the File transport.\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/299/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/1289", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/1289/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/1289/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/1289/events", "html_url": "https://github.com/winstonjs/winston/issues/1289", "id": 316777308, "node_id": "MDU6SXNzdWUzMTY3NzczMDg=", "number": 1289, "title": "ExceptionHandler silences printing of console errors?", "user": {"login": "kramer65", "id": 596581, "node_id": "MDQ6VXNlcjU5NjU4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kramer65", "html_url": "https://github.com/kramer65", "followers_url": "https://api.github.com/users/kramer65/followers", "following_url": "https://api.github.com/users/kramer65/following{/other_user}", "gists_url": "https://api.github.com/users/kramer65/gists{/gist_id}", "starred_url": "https://api.github.com/users/kramer65/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kramer65/subscriptions", "organizations_url": "https://api.github.com/users/kramer65/orgs", "repos_url": "https://api.github.com/users/kramer65/repos", "events_url": "https://api.github.com/users/kramer65/events{/privacy}", "received_events_url": "https://api.github.com/users/kramer65/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}, {"id": 144607129, "node_id": "MDU6TGFiZWwxNDQ2MDcxMjk=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Important", "name": "Important", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-23T11:49:05Z", "updated_at": "2019-05-28T07:43:58Z", "closed_at": "2018-12-26T20:26:59Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "In my Winston logger I use an exceptionHandler so that the node exceptions/errors also reach my logs. I now have a problem though. When I run the script from the command line using `node index.js` (instead of pm2) the script ends silently when it has an error.\r\n\r\nHave a look at my Winston implementation below. I added three `console.log()`s which try to log an undefined variable. When I run the script using `node index.js` it gives me a `ReferenceError` for the first wrong `console.log(undefinedVariable)` as expected. When I now remove that first and/or the second `console.log`, the script ends silently.\r\n\r\n``` js\r\n\"use strict\";\r\n\r\nlet winston = require('winston');\r\nconst path = require('path');\r\n\r\nconst PRODUCTION = false;\r\n\r\n// LOGGING\r\nconst myFormat = winston.format.printf(info => {\r\n    return `${info.timestamp} ${info.level}: ${info.message}`;\r\n});\r\n\r\nconsole.log(undefinedVariable);  // THIS GIVES A REFERENCE ERROR\r\n\r\nconst logger = winston.createLogger({\r\n    level: 'debug',\r\n    format: winston.format.combine(winston.format.timestamp(), myFormat),  // winston.format.json(),\r\n    transports: [\r\n        new winston.transports.File({filename: 'logs/error.log', level: 'error'}),\r\n        new winston.transports.File({filename: 'logs/combined.log'}),\r\n    ],\r\n    exceptionHandlers: [\r\n        new winston.transports.File({ filename: 'logs/exceptions.log' }),\r\n        new winston.transports.File({ filename: 'logs/combined.log' })\r\n    ]\r\n});\r\n\r\nconsole.log(undefinedVariable);  // THIS DOES NOT GIVE A REFERENCE ERROR, BUT ENDS THE SCRIPT SILENTLY\r\n\r\nif (!PRODUCTION) {\r\n    // If we're not in production then also log to the `console`\r\n    logger.add(new winston.transports.Console(\r\n        {format: winston.format.combine(winston.format.timestamp(), myFormat), level: 'debug'}\r\n    ));\r\n}\r\n\r\nconsole.log(undefinedVariable);  // THIS ALSO DOES NOT GIVE A REFERENCE ERROR, BUT ENDS THE SCRIPT SILENTLY\r\n\r\nfunction log(message, level='debug'){\r\n    // Levels: error, warn, info, verbose, debug, silly\r\n    const e = new Error();\r\n    const regex = /\\((.*):(\\d+):(\\d+)\\)$/\r\n    const match = regex.exec(e.stack.split(\"\\n\")[2]);\r\n    let log_source = path.basename(match[1]) + ':' + match[2];  // eg: index.js:285\r\n\r\n    if (typeof message === 'object'){\r\n        message = JSON.stringify(message);\r\n    }\r\n    logger[level](log_source + ' - ' + message);\r\n}\r\n```\r\n\r\nI'm running version `3.0.0-rc5`on Ubuntu 18.04.\r\n\r\nDoes anybody know what I'm doing wrong here? All tips are welcome!\r\n\r\n\r\n  [1]: https://github.com/winstonjs/winston\r\n  [2]: http://pm2.keymetrics.io/", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/1289/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/1289/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/610", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/610/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/610/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/610/events", "html_url": "https://github.com/winstonjs/winston/issues/610", "id": 69756271, "node_id": "MDU6SXNzdWU2OTc1NjI3MQ==", "number": 610, "title": "winston mutates meta.message when an Error is passed as meta", "user": {"login": "hvrauhal", "id": 128113, "node_id": "MDQ6VXNlcjEyODExMw==", "avatar_url": "https://avatars.githubusercontent.com/u/128113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvrauhal", "html_url": "https://github.com/hvrauhal", "followers_url": "https://api.github.com/users/hvrauhal/followers", "following_url": "https://api.github.com/users/hvrauhal/following{/other_user}", "gists_url": "https://api.github.com/users/hvrauhal/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvrauhal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvrauhal/subscriptions", "organizations_url": "https://api.github.com/users/hvrauhal/orgs", "repos_url": "https://api.github.com/users/hvrauhal/repos", "events_url": "https://api.github.com/users/hvrauhal/events{/privacy}", "received_events_url": "https://api.github.com/users/hvrauhal/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-04-21T06:26:35Z", "updated_at": "2018-06-14T22:13:10Z", "closed_at": "2015-10-29T08:57:00Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "The `Console` transport in the following behaves as expected when an `Error` is passed as meta. However, `DailyRotateFile` transport sets `error.message` to the string that was supposed to be logged, and does not log the message at all. \n\nThis is very dangerous behaviour for example when logging exceptions in a web server and passing the error.message to the client. \n\n`````` javascript\nvar winston = require('winston')\n\nvar transports = []\ntransports.push(new (winston.transports.Console)({level: 'debug'}))\n\n// The DailyRotateFile MUTATES the message in an exception\ntransports.push(new winston.transports.DailyRotateFile({ filename: 'discardme.log', level: 'info' }))\n\nvar logger = new winston.Logger({transports: transports})\nvar error = new Error(\"Bar\")\n\n// The following statement works as expected with the Console logger, but mutates the error.message with DailyRotateFile:\nlogger.error('THIS SHOULD JUST BE LOGGED, NOT ADDED TO ERROR!', error)\n\nconsole.log(\"Now error.message contains logged text:\", error.message)\n\nvar today = new Date().toISOString().substring(0, 10)\nconsole.log('file contents are:', require('fs').readFileSync('discardme.log' + '.' + today, 'utf-8'))```\n``````\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/610/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/218", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/218/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/218/events", "html_url": "https://github.com/winstonjs/winston/issues/218", "id": 10118125, "node_id": "MDU6SXNzdWUxMDExODEyNQ==", "number": 218, "title": "Leaking listeners when 'handleExceptions: true' and 'exitOnError: false' ", "user": {"login": "jrgm", "id": 758162, "node_id": "MDQ6VXNlcjc1ODE2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrgm", "html_url": "https://github.com/jrgm", "followers_url": "https://api.github.com/users/jrgm/followers", "following_url": "https://api.github.com/users/jrgm/following{/other_user}", "gists_url": "https://api.github.com/users/jrgm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrgm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrgm/subscriptions", "organizations_url": "https://api.github.com/users/jrgm/orgs", "repos_url": "https://api.github.com/users/jrgm/repos", "events_url": "https://api.github.com/users/jrgm/events{/privacy}", "received_events_url": "https://api.github.com/users/jrgm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}, {"id": 129999734, "node_id": "MDU6TGFiZWwxMjk5OTk3MzQ=", "url": "https://api.github.com/repos/winstonjs/winston/labels/breaking", "name": "breaking", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-01-18T23:59:45Z", "updated_at": "2017-05-18T10:55:06Z", "closed_at": "2015-09-25T21:22:56Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Happens with either 0.6.2 or master.\n\nTest program:\n\n``` js\n    var winston = require('winston');\n\n    var logger = new winston.Logger({\n      transports: [\n        new winston.transports.File({\n          filename: '/tmp/winston.log',\n          handleExceptions: true\n        })\n      ],\n      exitOnError: false\n    });\n\n    var interval = setInterval(function() {\n      throw new Error('oops');\n    }, 1000);\n\n    process.on('SIGINT', function() {\n      clearInterval(interval);\n    });\n```\n\nOutput:\n\n```\n    $ node leak.js\n    (node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.\n    Trace\n        at EventEmitter.addListener (events.js:175:15)\n        at EventEmitter.once (events.js:196:8)\n        at Transport.logException (/Users/jmorrison/github/winston-bug/node_modules/winston/lib/winston/transports/transport.js:118:8)\n        at logAndWait (/Users/jmorrison/github/winston-bug/node_modules/winston/lib/winston/logger.js:613:15)\n        at async.forEach (/Users/jmorrison/github/winston-bug/node_modules/winston/node_modules/async/lib/async.js:86:13)\n        at Array.forEach (native)\n        at _forEach (/Users/jmorrison/github/winston-bug/node_modules/winston/node_modules/async/lib/async.js:26:24)\n        at Object.async.forEach (/Users/jmorrison/github/winston-bug/node_modules/winston/node_modules/async/lib/async.js:85:9)\n        at Logger._uncaughtException (/Users/jmorrison/github/winston-bug/node_modules/winston/lib/winston/logger.js:636:9)\n        at process.EventEmitter.emit (events.js:126:20)\n    (node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.\n    Trace\n        at EventEmitter.addListener (events.js:175:15)\n        at EventEmitter.once (events.js:196:8)\n        at Transport.logException (/Users/jmorrison/github/winston-bug/node_modules/winston/lib/winston/transports/transport.js:117:8)\n        at logAndWait (/Users/jmorrison/github/winston-bug/node_modules/winston/lib/winston/logger.js:613:15)\n        at async.forEach (/Users/jmorrison/github/winston-bug/node_modules/winston/node_modules/async/lib/async.js:86:13)\n        at Array.forEach (native)\n        at _forEach (/Users/jmorrison/github/winston-bug/node_modules/winston/node_modules/async/lib/async.js:26:24)\n        at Object.async.forEach (/Users/jmorrison/github/winston-bug/node_modules/winston/node_modules/async/lib/async.js:85:9)\n        at Logger._uncaughtException (/Users/jmorrison/github/winston-bug/node_modules/winston/lib/winston/logger.js:636:9)\n        at process.EventEmitter.emit (events.js:126:20)\n```\n", "closed_by": {"login": "indexzero", "id": 4624, "node_id": "MDQ6VXNlcjQ2MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indexzero", "html_url": "https://github.com/indexzero", "followers_url": "https://api.github.com/users/indexzero/followers", "following_url": "https://api.github.com/users/indexzero/following{/other_user}", "gists_url": "https://api.github.com/users/indexzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/indexzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indexzero/subscriptions", "organizations_url": "https://api.github.com/users/indexzero/orgs", "repos_url": "https://api.github.com/users/indexzero/repos", "events_url": "https://api.github.com/users/indexzero/events{/privacy}", "received_events_url": "https://api.github.com/users/indexzero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/218/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/winstonjs/winston/issues/2584", "repository_url": "https://api.github.com/repos/winstonjs/winston", "labels_url": "https://api.github.com/repos/winstonjs/winston/issues/2584/labels{/name}", "comments_url": "https://api.github.com/repos/winstonjs/winston/issues/2584/comments", "events_url": "https://api.github.com/repos/winstonjs/winston/issues/2584/events", "html_url": "https://github.com/winstonjs/winston/issues/2584", "id": 3467910831, "node_id": "I_kwDOABJpEs7OtB6v", "number": 2584, "title": "[Bug]: 3.18.1 Upgrade", "user": {"login": "caitlin-theloud1", "id": 5392976, "node_id": "MDQ6VXNlcjUzOTI5NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/5392976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caitlin-theloud1", "html_url": "https://github.com/caitlin-theloud1", "followers_url": "https://api.github.com/users/caitlin-theloud1/followers", "following_url": "https://api.github.com/users/caitlin-theloud1/following{/other_user}", "gists_url": "https://api.github.com/users/caitlin-theloud1/gists{/gist_id}", "starred_url": "https://api.github.com/users/caitlin-theloud1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caitlin-theloud1/subscriptions", "organizations_url": "https://api.github.com/users/caitlin-theloud1/orgs", "repos_url": "https://api.github.com/users/caitlin-theloud1/repos", "events_url": "https://api.github.com/users/caitlin-theloud1/events{/privacy}", "received_events_url": "https://api.github.com/users/caitlin-theloud1/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 189158, "node_id": "MDU6TGFiZWwxODkxNTg=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Needs%20Investigation", "name": "Needs Investigation", "color": "74E7BA", "default": false, "description": ""}, {"id": 189160, "node_id": "MDU6TGFiZWwxODkxNjA=", "url": "https://api.github.com/repos/winstonjs/winston/labels/Bug", "name": "Bug", "color": "72D1ED", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 7, "created_at": "2025-09-30T07:12:29Z", "updated_at": "2025-10-02T12:54:29Z", "closed_at": "2025-09-30T14:35:38Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### \ud83d\udd0e Search Terms\n\nalready checked 3.18.0 ticket (https://github.com/winstonjs/winston/issues/2583) and followed along before filing this one...\n\n### The problem\n\nHi @DABH \n\nI see you closed the prior issue with the 3.18.0 release, but I wanted to check to see our specific error (which we are still seeing after pulling in 3.18.1). I am wondering if the release of 2.0.6 created a cascading issue.\n\nI have tried repinning back to 3.17.0 but it seems to have not fixed the issue - I apologize as I am also new to node/package dependencies, but it is breaking my team's release process and I am oncall.\n\nGoing forward I hope we can use pinned dependencies more broadly to reduce these issues from happening.\n\nIt does feel like maybe either of these bumps could've been a major version if they cause an app to break unexpectedly with no other changes?\n\n### What version of Winston presents the issue?\n\n3.18.0\n\n### What version of Node are you using?\n\nv22.15.0\n\n### If this worked in a previous version of Winston, which was it?\n\n3.17.0\n\n### Minimum Working Example\n\napp/node_modules/.pnpm/@so-ric+colorspace@1.1.5/node_modules/@so-ric/colorspace/index.js:3\n    import color from 'color';\n    ^^^^^^\n\n    SyntaxError: Cannot use import statement outside a module\n\n      1 | import { Injectable } from '@nestjs/common';\n    > 2 | import * as winston from 'winston';\n        | ^\n      3 | import { ConfigService } from '../../config/config.service';\n      4 | import { Env } from '../../config/env.schema';\n      5 | import { consoleFormat } from './formatters';\n\n      at Runtime.createScriptFromCode (../../node_modules/.pnpm/jest-runtime@29.7.0/node_modules/jest-runtime/build/index.js:1505:14)\n      at Object.require (../../node_modules/.pnpm/fix-esm@1.0.1/node_modules/fix-esm/index.js:48:18)\n      at Object.<anonymous> (../../node_modules/.pnpm/@dabh+diagnostics@2.0.6/node_modules/@dabh/diagnostics/modifiers/namespace-ansi.js:2:25)\n      at Object.<anonymous> (../../node_modules/.pnpm/@dabh+diagnostics@2.0.6/node_modules/@dabh/diagnostics/node/development.js:29:20)\n      at Object.<anonymous> (../../node_modules/.pnpm/@dabh+diagnostics@2.0.6/node_modules/@dabh/diagnostics/node/index.js:7:20)\n      at Object.<anonymous> (../../node_modules/.pnpm/winston@3.18.1/node_modules/winston/lib/winston/exception-handler.js:12:15)\n      at Object.<anonymous> (../../node_modules/.pnpm/winston@3.18.1/node_modules/winston/lib/winston/logger.js:14:26)\n      at Object.<anonymous> (../../node_modules/.pnpm/winston@3.18.1/node_modules/winston/lib/winston/create-logger.js:12:16)\n      at Object.<anonymous> (../../node_modules/.pnpm/winston@3.18.1/node_modules/winston/lib/winston.js:42:24)\n      at Object.<anonymous> (../../src/common/observability/logger.service.ts:2:1)\n      at Object.<anonymous> (../../src/common/observability/observability.module.ts:2:1)\n      at Object.<anonymous> (apiKey/apiKey.integration.spec.ts:3:1)\n\n### Additional information\n\n_No response_", "closed_by": {"login": "DABH", "id": 1920464, "node_id": "MDQ6VXNlcjE5MjA0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1920464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DABH", "html_url": "https://github.com/DABH", "followers_url": "https://api.github.com/users/DABH/followers", "following_url": "https://api.github.com/users/DABH/following{/other_user}", "gists_url": "https://api.github.com/users/DABH/gists{/gist_id}", "starred_url": "https://api.github.com/users/DABH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DABH/subscriptions", "organizations_url": "https://api.github.com/users/DABH/orgs", "repos_url": "https://api.github.com/users/DABH/repos", "events_url": "https://api.github.com/users/DABH/events{/privacy}", "received_events_url": "https://api.github.com/users/DABH/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/winstonjs/winston/issues/2584/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/winstonjs/winston/issues/2584/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}