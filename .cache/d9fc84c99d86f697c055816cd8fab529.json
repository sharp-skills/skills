{"d": [{"url": "https://api.github.com/repos/supabase/supabase/issues/26785", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/26785/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/26785/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/26785/events", "html_url": "https://github.com/supabase/supabase/issues/26785", "id": 2317990357, "node_id": "I_kwDODMpXOc6KKbnV", "number": 26785, "title": "API Gateway and postgresql logging not working for local development", "user": {"login": "Akash187", "id": 21134455, "node_id": "MDQ6VXNlcjIxMTM0NDU1", "avatar_url": "https://avatars.githubusercontent.com/u/21134455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akash187", "html_url": "https://github.com/Akash187", "followers_url": "https://api.github.com/users/Akash187/followers", "following_url": "https://api.github.com/users/Akash187/following{/other_user}", "gists_url": "https://api.github.com/users/Akash187/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akash187/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akash187/subscriptions", "organizations_url": "https://api.github.com/users/Akash187/orgs", "repos_url": "https://api.github.com/users/Akash187/repos", "events_url": "https://api.github.com/users/Akash187/events{/privacy}", "received_events_url": "https://api.github.com/users/Akash187/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3878201073, "node_id": "LA_kwDODMpXOc7nKKbx", "url": "https://api.github.com/repos/supabase/supabase/labels/cli", "name": "cli", "color": "B0F9ED", "default": false, "description": "Related to supabase/cli"}, {"id": 4337906767, "node_id": "LA_kwDODMpXOc8AAAABAo80Tw", "url": "https://api.github.com/repos/supabase/supabase/labels/self-hosted", "name": "self-hosted", "color": "f9d0c4", "default": false, "description": "Related to self-hosted Supabase"}, {"id": 6962856023, "node_id": "LA_kwDODMpXOc8AAAABnwTAVw", "url": "https://api.github.com/repos/supabase/supabase/labels/analytics", "name": "analytics", "color": "0052cc", "default": false, "description": "o11y and analytics"}, {"id": 6980891207, "node_id": "LA_kwDODMpXOc8AAAABoBfyRw", "url": "https://api.github.com/repos/supabase/supabase/labels/internal-fix", "name": "internal-fix", "color": "0E8A16", "default": false, "description": "Can only be fixed internally"}], "state": "closed", "locked": true, "assignees": [], "milestone": null, "comments": 86, "created_at": "2024-05-26T23:54:19Z", "updated_at": "2024-07-30T04:13:42Z", "closed_at": "2024-07-29T13:27:17Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n`API Gateway` and `postgresql` logging not working for local development. It is very frustrating that the supabase team is not working to improve the local development experience.\r\n\r\nI even updated the supabase. Deleted the complete docker images plus volumes and restarted the local environment. Still, it does not work. Also before that, I tried `supabase db reset` it also didn't work.\r\n\r\n## Expected behavior\r\nOne should not get a 502 error.\r\n\r\n## Screenshots\r\n\r\n<img width=\"1440\" alt=\"Screenshot 2024-05-27 at 5 08 14\u202fAM\" src=\"https://github.com/supabase/supabase/assets/21134455/4a6deeb9-45e5-4fc7-8e4a-65e290ec4369\">\r\n<img width=\"1440\" alt=\"Screenshot 2024-05-27 at 5 08 28\u202fAM\" src=\"https://github.com/supabase/supabase/assets/21134455/4567c831-c5f8-4ef4-a036-204593dfc06b\">\r\n\r\n## My config.toml file\r\n```\r\n# A string used to distinguish different Supabase projects on the same host. Defaults to the working\r\n# directory name when running `supabase init`.\r\nproject_id = \"fcp-supabase\"\r\n\r\n[api]\r\n# Port to use for the API URL.\r\nport = 54321\r\n# Schemas to expose in your API. Tables, views and stored procedures in this schema will get API\r\n# endpoints. public and storage are always included.\r\nschemas = []\r\n# Extra schemas to add to the search_path of every request.\r\nextra_search_path = [\"extensions\"]\r\n# The maximum number of rows returns from a view, table, or stored procedure. Limits payload size\r\n# for accidental or malicious requests.\r\nmax_rows = 50\r\n\r\n[db]\r\n# Port to use for the local database URL.\r\nport = 54322\r\n# The database major version to use. This has to be the same as your remote database's. Run `SHOW\r\n# server_version;` on the remote database to check.\r\nmajor_version = 15\r\n\r\n[db.pooler]\r\nenabled = false\r\nport = 54329\r\npool_mode = \"transaction\"\r\ndefault_pool_size = 15\r\nmax_client_conn = 100\r\n\r\n[studio]\r\n# Port to use for Supabase Studio.\r\nport = 54323\r\n\r\n# Email testing server. Emails sent with the local dev setup are not actually sent - rather, they\r\n# are monitored, and you can view the emails that would have been sent from the web interface.\r\n[inbucket]\r\n# Port to use for the email testing server web interface.\r\nport = 54324\r\nsmtp_port = 54325\r\npop3_port = 54326\r\n\r\n[storage]\r\n# The maximum file size allowed (e.g. \"5MB\", \"500KB\").\r\nfile_size_limit = \"50MB\"\r\n\r\n[auth]\r\n# The base URL of your website. Used as an allow-list for redirects and for constructing URLs used\r\n# in emails.\r\nsite_url = \"http://localhost:5173\"\r\n# A list of *exact* URLs that auth providers are permitted to redirect to post authentication.\r\nadditional_redirect_urls = [\"https://localhost:5173\", \"http://localhost:54321\"]\r\n# How long tokens are valid for, in seconds. Defaults to 3600 (1 hour), maximum 604,800 seconds (one\r\n# week).\r\njwt_expiry = 3600\r\n# Allow/disallow new user signups to your project.\r\nenable_signup = true\r\n\r\n[auth.email]\r\n# Allow/disallow new user signups via email to your project.\r\nenable_signup = true\r\n# If enabled, a user will be required to confirm any email change on both the old, and new email\r\n# addresses. If disabled, only the new email is required to confirm.\r\ndouble_confirm_changes = true\r\n# If enabled, users need to confirm their email address before signing in.\r\nenable_confirmations = false\r\n\r\n# Use an external OAuth provider. The full list of providers are: `apple`, `azure`, `bitbucket`,\r\n# `discord`, `facebook`, `github`, `gitlab`, `google`, `twitch`, `twitter`, `slack`, `spotify`.\r\n[auth.external.apple]\r\nenabled = false\r\nclient_id = \"\"\r\nsecret = \"\"\r\n# Overrides the default auth redirectUrl.\r\nredirect_uri = \"\"\r\n# Overrides the default auth provider URL. Used to support self-hosted gitlab, single-tenant Azure,\r\n# or any other third-party OIDC providers.\r\nurl = \"\"\r\n\r\n[auth.external.github]\r\nenabled = true\r\nclient_id = \"env(SUPABASE_AUTH_GITHUB_CLIENT_ID)\"\r\nsecret = \"env(SUPABASE_AUTH_GITHUB_SECRET)\"\r\nredirect_uri = \"http://localhost:54321/auth/v1/callback\"\r\n\r\n[auth.external.google]\r\nenabled = true\r\nclient_id = \"env(SUPABASE_AUTH_GOOGLE_CLIENT_ID)\"\r\nsecret = \"env(SUPABASE_AUTH_GOOGLE_SECRET)\"\r\nredirect_uri = \"http://localhost:54321/auth/v1/callback\"\r\n\r\n[auth.external.linkedin_oidc]\r\nenabled = true\r\nclient_id = \"env(SUPABASE_AUTH_LINKEDIN_CLIENT_ID)\"\r\nsecret = \"env(SUPABASE_AUTH_LINKEDIN_SECRET)\"\r\nredirect_uri = \"http://localhost:54321/auth/v1/callback\"\r\n\r\n[analytics]\r\nenabled = true\r\nport = 54327\r\nvector_port = 54328\r\n# Configure one of the supported backends: `postgres`, `bigquery`.\r\nbackend = \"postgres\"\r\n\r\n[functions.admin]\r\nverify_jwt = false\r\n\r\n[functions.compressVideoFile]\r\nverify_jwt = false\r\n```\r\n\r\n", "closed_by": {"login": "encima", "id": 517923, "node_id": "MDQ6VXNlcjUxNzkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/517923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/encima", "html_url": "https://github.com/encima", "followers_url": "https://api.github.com/users/encima/followers", "following_url": "https://api.github.com/users/encima/following{/other_user}", "gists_url": "https://api.github.com/users/encima/gists{/gist_id}", "starred_url": "https://api.github.com/users/encima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/encima/subscriptions", "organizations_url": "https://api.github.com/users/encima/orgs", "repos_url": "https://api.github.com/users/encima/repos", "events_url": "https://api.github.com/users/encima/events{/privacy}", "received_events_url": "https://api.github.com/users/encima/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/26785/reactions", "total_count": 8, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/26785/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/15930", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/15930/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/15930/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/15930/events", "html_url": "https://github.com/supabase/supabase/issues/15930", "id": 1814179580, "node_id": "I_kwDODMpXOc5sIi78", "number": 15930, "title": "Supabase auth (google) not working properly", "user": {"login": "ibrahimkholil6210", "id": 33357137, "node_id": "MDQ6VXNlcjMzMzU3MTM3", "avatar_url": "https://avatars.githubusercontent.com/u/33357137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibrahimkholil6210", "html_url": "https://github.com/ibrahimkholil6210", "followers_url": "https://api.github.com/users/ibrahimkholil6210/followers", "following_url": "https://api.github.com/users/ibrahimkholil6210/following{/other_user}", "gists_url": "https://api.github.com/users/ibrahimkholil6210/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibrahimkholil6210/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibrahimkholil6210/subscriptions", "organizations_url": "https://api.github.com/users/ibrahimkholil6210/orgs", "repos_url": "https://api.github.com/users/ibrahimkholil6210/repos", "events_url": "https://api.github.com/users/ibrahimkholil6210/events{/privacy}", "received_events_url": "https://api.github.com/users/ibrahimkholil6210/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4337510417, "node_id": "LA_kwDODMpXOc8AAAABAokoEQ", "url": "https://api.github.com/repos/supabase/supabase/labels/auth", "name": "auth", "color": "0FEE92", "default": false, "description": "All thing Supabase Auth related"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 82, "created_at": "2023-07-20T14:48:52Z", "updated_at": "2025-05-21T01:20:33Z", "closed_at": "2023-07-31T13:45:59Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n## Describe the bug\r\n\r\nI've implement the supabase auth with google provider in a create-react-app enviroment. Now when i go through the signin process it redirects me to localhost with token instade of signin me in.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior, please provide code snippets or a repository:\r\n\r\nBootstrap CRA and implement supabase auth\r\n\r\n## Expected behavior\r\n\r\nA clear and concise description of what you expected to happen.\r\n\r\n## Screenshots\r\n\r\n<img width=\"830\" alt=\"Screenshot 2023-07-20 at 8 46 37 PM\" src=\"https://github.com/supabase/supabase/assets/33357137/2e07a0dd-55bd-4946-810f-5a4f4c5ff808\">\r\n\r\n\r\nInitial Page\r\n\r\n<img width=\"837\" alt=\"Screenshot 2023-07-20 at 8 47 02 PM\" src=\"https://github.com/supabase/supabase/assets/33357137/d19044d2-491e-44dd-a0a1-ad315af588f2\">\r\n\r\nThis is after is signed in with, it just sent me session information in url hast. But doesn't actually log me in.\r\n\r\n<img width=\"759\" alt=\"Screenshot 2023-07-20 at 8 40 17 PM\" src=\"https://github.com/supabase/supabase/assets/33357137/3da7ffbf-7d2f-40ff-a8e8-71b086c4a856\">\r\n\r\nI'm trying to get the user session but it doesn't returns anything.\r\n\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n## System information\r\n\r\n- OS: masOs\r\n- Browser chrome\r\n- Version of supabase-js: 2.26.0\r\n- Version of Node.js: v20.3.1\r\n\r\nOne thing i've tried the same with Nextjs it worked fine. I'm not sure what is the issue here.\r\n", "closed_by": {"login": "kangmingtay", "id": 28647601, "node_id": "MDQ6VXNlcjI4NjQ3NjAx", "avatar_url": "https://avatars.githubusercontent.com/u/28647601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kangmingtay", "html_url": "https://github.com/kangmingtay", "followers_url": "https://api.github.com/users/kangmingtay/followers", "following_url": "https://api.github.com/users/kangmingtay/following{/other_user}", "gists_url": "https://api.github.com/users/kangmingtay/gists{/gist_id}", "starred_url": "https://api.github.com/users/kangmingtay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kangmingtay/subscriptions", "organizations_url": "https://api.github.com/users/kangmingtay/orgs", "repos_url": "https://api.github.com/users/kangmingtay/repos", "events_url": "https://api.github.com/users/kangmingtay/events{/privacy}", "received_events_url": "https://api.github.com/users/kangmingtay/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/15930/reactions", "total_count": 8, "+1": 8, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/15930/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/16857", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/16857/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/16857/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/16857/events", "html_url": "https://github.com/supabase/supabase/issues/16857", "id": 1867864954, "node_id": "I_kwDODMpXOc5vVVt6", "number": 16857, "title": "Trouble with File Upload in Self-Hosted Supabase Using Docker", "user": {"login": "xyberninja", "id": 142131264, "node_id": "U_kgDOCHjAQA", "avatar_url": "https://avatars.githubusercontent.com/u/142131264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xyberninja", "html_url": "https://github.com/xyberninja", "followers_url": "https://api.github.com/users/xyberninja/followers", "following_url": "https://api.github.com/users/xyberninja/following{/other_user}", "gists_url": "https://api.github.com/users/xyberninja/gists{/gist_id}", "starred_url": "https://api.github.com/users/xyberninja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xyberninja/subscriptions", "organizations_url": "https://api.github.com/users/xyberninja/orgs", "repos_url": "https://api.github.com/users/xyberninja/repos", "events_url": "https://api.github.com/users/xyberninja/events{/privacy}", "received_events_url": "https://api.github.com/users/xyberninja/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4337906767, "node_id": "LA_kwDODMpXOc8AAAABAo80Tw", "url": "https://api.github.com/repos/supabase/supabase/labels/self-hosted", "name": "self-hosted", "color": "f9d0c4", "default": false, "description": "Related to self-hosted Supabase"}, {"id": 4579571600, "node_id": "LA_kwDODMpXOc8AAAABEPa3kA", "url": "https://api.github.com/repos/supabase/supabase/labels/storage", "name": "storage", "color": "02E0E2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [{"login": "ivasilov", "id": 568291, "node_id": "MDQ6VXNlcjU2ODI5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/568291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivasilov", "html_url": "https://github.com/ivasilov", "followers_url": "https://api.github.com/users/ivasilov/followers", "following_url": "https://api.github.com/users/ivasilov/following{/other_user}", "gists_url": "https://api.github.com/users/ivasilov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivasilov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivasilov/subscriptions", "organizations_url": "https://api.github.com/users/ivasilov/orgs", "repos_url": "https://api.github.com/users/ivasilov/repos", "events_url": "https://api.github.com/users/ivasilov/events{/privacy}", "received_events_url": "https://api.github.com/users/ivasilov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 71, "created_at": "2023-08-26T02:33:26Z", "updated_at": "2025-12-26T09:02:39Z", "closed_at": "2025-12-08T13:02:33Z", "assignee": {"login": "ivasilov", "id": 568291, "node_id": "MDQ6VXNlcjU2ODI5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/568291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivasilov", "html_url": "https://github.com/ivasilov", "followers_url": "https://api.github.com/users/ivasilov/followers", "following_url": "https://api.github.com/users/ivasilov/following{/other_user}", "gists_url": "https://api.github.com/users/ivasilov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivasilov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivasilov/subscriptions", "organizations_url": "https://api.github.com/users/ivasilov/orgs", "repos_url": "https://api.github.com/users/ivasilov/repos", "events_url": "https://api.github.com/users/ivasilov/events{/privacy}", "received_events_url": "https://api.github.com/users/ivasilov/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n<!-- \r\n\r\n\u26a0\ufe0f We receive a lot of bug reports which have already been solved or discussed. If you are looking for help, please try these first:\r\n\r\n- Docs: https://docs.supabase.com\r\n- Discussions: https://github.com/supabase/supabase/discussions\r\n- Discord: https://discord.supabase.com\r\n\r\nBefore opening a bug report, please verify the following: \r\n\r\n-->\r\n\r\n- [x] I confirm this is a bug with Supabase, not with my own application. \r\n- [x] I confirm I have searched the [Docs](https://docs.supabase.com), GitHub [Discussions](https://github.com/supabase/supabase/discussions), and [Discord](https://discord.supabase.com). \r\n\r\n## Describe the bug\r\nI'm currently facing a perplexing problem while attempting to manually upload files to the Supabase bucket on my self-hosted instance using Docker. The issue arises when I initiate the upload process \u2013 the progress gets stuck at 0% and the upload never seems to commence. I've conducted this experiment on multiple computers and have tried various file types, yet regrettably, none of these attempts have proved successful.\r\n\r\n## To Reproduce\r\n1. Set up self-hosted Supabase instance using Docker.\r\n2. Open the dashboard and head to bucket\r\n3. Upload one/multiple files\r\n\r\n## Expected behavior\r\nThe manual file upload process should initiate normally, progressing from 0% to completion, allowing the files to be uploaded successfully to the Supabase bucket.\r\n\r\n## Screenshots\r\n![anydesk00000](https://github.com/supabase/supabase/assets/142131264/f857ea76-31bb-4b4a-af90-a239613cd267)\r\n\r\n## System information\r\n\r\n- OS: Rocky Linux 9\r\n- Browser: Microsoft Edge, Chrome\r\n- Version of supabase-js: latest\r\n- Version of Node.js: 20.5.1\r\n\r\n## Additional context\r\n- I have ensured that I haven't made any erroneous configurations in my settings, but I'm open to the possibility that I might have missed something crucial.\r\n- Interestingly, upon executing the command \"docker ps -a,\" I can confirm that the storage function is indeed running, which adds a layer of complexity to diagnosing the issue.\r\n```shell\r\nCONTAINER ID   IMAGE                              COMMAND                   CREATED       STATUS                 PORTS                                                                                                      NAMES\r\n99cba4c80bfd   supabase/studio:20230803-15c6762   \"docker-entrypoint.s\u2026\"    5 hours ago   Up 5 hours (healthy)   3000/tcp                                                                                                   supabase-studio\r\n0bf0b15ad154   kong:2.8.1                         \"bash -c 'eval \\\"echo\u2026\"   5 hours ago   Up 5 hours (healthy)   8001/tcp, 8444/tcp, 0.0.0.0:8443->8443/tcp, :::8443->8443/tcp, 0.0.0.0:9090->8000/tcp, :::9090->8000/tcp   supabase-kong\r\n3f503c1ccc79   supabase/gotrue:v2.82.4            \"gotrue\"                  5 hours ago   Up 5 hours (healthy)                                                                                                              supabase-auth\r\ne13f590b99db   supabase/storage-api:v0.40.4       \"docker-entrypoint.s\u2026\"    6 hours ago   Up 5 hours (healthy)   5000/tcp                                                                                                   supabase-storage\r\n6fa902be473d   supabase/realtime:v2.10.1          \"/usr/bin/tini -s -g\u2026\"    6 hours ago   Up 5 hours (healthy)                                                                                                              realtime-dev.supabase-realtime\r\n292f88628506   supabase/postgres-meta:v0.68.0     \"docker-entrypoint.s\u2026\"    6 hours ago   Up 5 hours (healthy)   8080/tcp                                                                                                   supabase-meta\r\n62c838b1be5b   supabase/edge-runtime:v1.8.1       \"edge-runtime start \u2026\"    6 hours ago   Up 5 hours                                                                                                                        supabase-edge-functions\r\n53348c9dea10   postgrest/postgrest:v11.1.0        \"/bin/postgrest\"          6 hours ago   Up 5 hours             3000/tcp                                                                                                   supabase-rest\r\n451d2fc42946   supabase/logflare:1.4.0            \"sh -c '`cat <<EOF >\u2026\"    6 hours ago   Up 5 hours (healthy)                                                                                                              supabase-analytics\r\n2a55f9cfb9ab   supabase/postgres:15.1.0.103       \"docker-entrypoint.s\u2026\"    6 hours ago   Up 5 hours (healthy)   127.0.0.1:5432->5432/tcp                                                                                   supabase-db\r\n8d4e8023a5a8   darthsim/imgproxy:v3.8.0           \"imgproxy\"                6 hours ago   Up 5 hours (healthy)   8080/tcp                                                                                                   supabase-imgproxy\r\n2e3845edc3d9   timberio/vector:0.28.1-alpine      \"/usr/local/bin/vect\u2026\"    6 hours ago   Up 5 hours (healthy)   0.0.0.0:9000-9001->9000-9001/tcp, :::9000-9001->9000-9001/tcp                                              supabase-vector\r\n```\r\n- It's worth mentioning that I've also port forwarded the dashboard port to my domain as part of the setup.\r\n", "closed_by": {"login": "aantti", "id": 56412611, "node_id": "MDQ6VXNlcjU2NDEyNjEx", "avatar_url": "https://avatars.githubusercontent.com/u/56412611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aantti", "html_url": "https://github.com/aantti", "followers_url": "https://api.github.com/users/aantti/followers", "following_url": "https://api.github.com/users/aantti/following{/other_user}", "gists_url": "https://api.github.com/users/aantti/gists{/gist_id}", "starred_url": "https://api.github.com/users/aantti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aantti/subscriptions", "organizations_url": "https://api.github.com/users/aantti/orgs", "repos_url": "https://api.github.com/users/aantti/repos", "events_url": "https://api.github.com/users/aantti/events{/privacy}", "received_events_url": "https://api.github.com/users/aantti/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/16857/reactions", "total_count": 13, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 11}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/16857/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/10850", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/10850/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/10850/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/10850/events", "html_url": "https://github.com/supabase/supabase/issues/10850", "id": 1490103994, "node_id": "I_kwDODMpXOc5Y0S66", "number": 10850, "title": "Having e-mail auth provider enabled rate limiting other auth providers usage", "user": {"login": "rohanmayya", "id": 32911377, "node_id": "MDQ6VXNlcjMyOTExMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/32911377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohanmayya", "html_url": "https://github.com/rohanmayya", "followers_url": "https://api.github.com/users/rohanmayya/followers", "following_url": "https://api.github.com/users/rohanmayya/following{/other_user}", "gists_url": "https://api.github.com/users/rohanmayya/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohanmayya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohanmayya/subscriptions", "organizations_url": "https://api.github.com/users/rohanmayya/orgs", "repos_url": "https://api.github.com/users/rohanmayya/repos", "events_url": "https://api.github.com/users/rohanmayya/events{/privacy}", "received_events_url": "https://api.github.com/users/rohanmayya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 67, "created_at": "2022-12-11T15:11:20Z", "updated_at": "2025-04-11T18:29:50Z", "closed_at": "2022-12-20T12:24:29Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\nHaving e-mail auth provider enabled gives a 429 rate limit exceeded, despite using only Phone auth provider.\r\n\r\n## Describe the bug\r\n\r\nWe had e-mail auth provider and phone auth provider enabled. (With e-mail auth not being used.) Once we started getting a spike in traffic for our SMS OTPs, we started getting a 429 rate limit exceeded, despite Twilio looking fine on our end. Once we disabled e-mail auth as a provider, everything was working normally again. \r\n\r\n## To Reproduce\r\n\r\n1. Enable e-mail and phone auth providers,\r\n2. Try hitting rate limits that you would normally hit, but with phone SMSs,\r\n3. Get a 429 - Rate Limit Exceeded.\r\n4. Disable E-mail auth, and check that everything is working again.\r\n\r\n## Expected behavior\r\n\r\nDid not expect any rate limit issues.\r\n\r\n## System information\r\n\r\n- Browser: Chrome,\r\n- Version of \"@supabase/supabase-js\": \"^2.1.1\",\r\n- Version of Node.js: [e.g. 16.13.1]\r\n", "closed_by": {"login": "kiwicopple", "id": 10214025, "node_id": "MDQ6VXNlcjEwMjE0MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/10214025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiwicopple", "html_url": "https://github.com/kiwicopple", "followers_url": "https://api.github.com/users/kiwicopple/followers", "following_url": "https://api.github.com/users/kiwicopple/following{/other_user}", "gists_url": "https://api.github.com/users/kiwicopple/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiwicopple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiwicopple/subscriptions", "organizations_url": "https://api.github.com/users/kiwicopple/orgs", "repos_url": "https://api.github.com/users/kiwicopple/repos", "events_url": "https://api.github.com/users/kiwicopple/events{/privacy}", "received_events_url": "https://api.github.com/users/kiwicopple/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/10850/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/10850/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/21690", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/21690/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/21690/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/21690/events", "html_url": "https://github.com/supabase/supabase/issues/21690", "id": 2163414340, "node_id": "I_kwDODMpXOc6A8xVE", "number": 21690, "title": "SASL_SIGNATURE_MISMATCH: The server did not return the correct signature", "user": {"login": "noook", "id": 19751938, "node_id": "MDQ6VXNlcjE5NzUxOTM4", "avatar_url": "https://avatars.githubusercontent.com/u/19751938?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noook", "html_url": "https://github.com/noook", "followers_url": "https://api.github.com/users/noook/followers", "following_url": "https://api.github.com/users/noook/following{/other_user}", "gists_url": "https://api.github.com/users/noook/gists{/gist_id}", "starred_url": "https://api.github.com/users/noook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noook/subscriptions", "organizations_url": "https://api.github.com/users/noook/orgs", "repos_url": "https://api.github.com/users/noook/repos", "events_url": "https://api.github.com/users/noook/events{/privacy}", "received_events_url": "https://api.github.com/users/noook/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 51, "created_at": "2024-03-01T13:25:41Z", "updated_at": "2025-09-16T14:14:14Z", "closed_at": "2024-03-07T12:18:46Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n<!-- \r\n\r\n\u26a0\ufe0f We receive a lot of bug reports which have already been solved or discussed. If you are looking for help, please try these first:\r\n\r\n- Docs: https://docs.supabase.com\r\n- Discussions: https://github.com/supabase/supabase/discussions\r\n- Discord: https://discord.supabase.com\r\n\r\nBefore opening a bug report, please verify the following: \r\n\r\n-->\r\n\r\n- [ ] I confirm this is a bug with Supabase, not with my own application. \r\n- [x] I confirm I have searched the [Docs](https://docs.supabase.com), GitHub [Discussions](https://github.com/supabase/supabase/discussions), and [Discord](https://discord.supabase.com). \r\n\r\n## Describe the bug\r\n\r\nI recently switched from a local postgres database to supabase and using drizzle as the ORM.\r\n\r\nThis is the drizzle configuration (the app is a discord bot, so long-running)\r\n\r\n```ts\r\nimport * as schema from '../schema';\r\nimport { drizzle } from 'drizzle-orm/postgres-js';\r\nimport postgres from \"postgres\";\r\n\r\nexport const sql = postgres({\r\n  host: process.env.DB_HOST,\r\n  user: process.env.DB_USER,\r\n  password: process.env.DB_PASSWORD,\r\n  database: process.env.DB_NAME,\r\n  max: 1,\r\n})\r\n\r\nexport const db = drizzle(sql, { schema });\r\n```\r\n\r\nEDIT: All these throw a connection error, whether it is `pg` or `postgres`\r\n```ts\r\nconst client = postgres(import.meta.env.DATABASE_URL, {\r\n  ssl: {\r\n    rejectUnauthorized: false,\r\n   },\r\n})\r\n// SASL_SIGNATURE_MISMATCH\r\n\r\nconst client = postgres(import.meta.env.DATABASE_URL, {\r\n  ssl: {\r\n    rejectUnauthorized: false,\r\n    cert,\r\n   },\r\n})\r\n// SASL_SIGNATURE_MISMATCH\r\n\r\nconst client = postgres(import.meta.env.DATABASE_URL, {\r\n  ssl: { cert },\r\n})\r\n// SELF_SIGNED_CERT_IN_CHAIN\r\n\r\nconst client = postgres(import.meta.env.DATABASE_URL, {\r\n  ssl: {\r\n    rejectUnauthorized: false,\r\n    ca: cert,\r\n   },\r\n})\r\n// SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing\r\n```\r\n\r\nOn the first request to the database I get the following:\r\n\r\n```\r\napp-1  | 33 |   return error\r\napp-1  | 34 | }\r\napp-1  | 35 | \r\napp-1  | 36 | function generic(code, message) {\r\napp-1  | 37 |   const error = Object.assign(new Error(code + ': ' + message), { code })\r\napp-1  | 38 |   Error.captureStackTrace(error, generic)\r\napp-1  |              ^\r\napp-1  | error: SASL_SIGNATURE_MISMATCH: The server did not return the correct signature\r\napp-1  |  code: \"SASL_SIGNATURE_MISMATCH\"\r\napp-1  | \r\napp-1  |       at generic (/usr/src/app/node_modules/postgres/src/errors.js:38:9)\r\napp-1  |       at SASLFinal (/usr/src/app/node_modules/postgres/src/connection.js:721:19)\r\napp-1  |       at /usr/src/app/node_modules/postgres/src/connection.js:14:16\r\napp-1  |       at asyncFunctionResume (native:1:1)\r\napp-1  |       at Authentication (/usr/src/app/node_modules/postgres/src/connection.js:9:1)\r\napp-1  |       at handle (/usr/src/app/node_modules/postgres/src/connection.js:813:5)\r\napp-1  |       at data (/usr/src/app/node_modules/postgres/src/connection.js:553:5)\r\napp-1  |       at addChunk (native:1:1)\r\napp-1  |       at readableAddChunk (native:1:1)\r\napp-1  |       at data (native:1:1)\r\napp-1  | error: script \"start\" exited with code 1\r\napp-1 exited with code 1\r\n```\r\n\r\nHowever, if use a connection string with the exact same values (env variables joined in the format of the connection string) the connection works.\r\n\r\nI'd prefer to use the object notation in the `postgres()` connection options\r\n\r\n## To Reproduce\r\n\r\nSource code can be found here <https://github.com/noook/discord-mbti>\r\n\r\n## Expected behavior\r\n\r\nObject notation should behave the same as the connection string\r\n\r\n## Screenshots\r\n\r\nDatabase connection on supabase dashboard\r\n<img width=\"893\" alt=\"image\" src=\"https://github.com/supabase/supabase/assets/19751938/bb29b5fa-55f6-4e8b-8f2c-197ee4ed7a84\">\r\n\r\n\r\n## System information\r\n\r\n- OS: Linux (docker)\r\n- Version of supabase-js: not used\r\n- bun 1.0.29\r\n\r\n## Additional context\r\n\r\n-\r\n", "closed_by": {"login": "encima", "id": 517923, "node_id": "MDQ6VXNlcjUxNzkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/517923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/encima", "html_url": "https://github.com/encima", "followers_url": "https://api.github.com/users/encima/followers", "following_url": "https://api.github.com/users/encima/following{/other_user}", "gists_url": "https://api.github.com/users/encima/gists{/gist_id}", "starred_url": "https://api.github.com/users/encima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/encima/subscriptions", "organizations_url": "https://api.github.com/users/encima/orgs", "repos_url": "https://api.github.com/users/encima/repos", "events_url": "https://api.github.com/users/encima/events{/privacy}", "received_events_url": "https://api.github.com/users/encima/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/21690/reactions", "total_count": 10, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/21690/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/20739", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/20739/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/20739/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/20739/events", "html_url": "https://github.com/supabase/supabase/issues/20739", "id": 2100370987, "node_id": "I_kwDODMpXOc59MR4r", "number": 20739, "title": "AuthApiError: Error sending confirmation mail", "user": {"login": "psiaux", "id": 149983825, "node_id": "U_kgDOCPCSUQ", "avatar_url": "https://avatars.githubusercontent.com/u/149983825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psiaux", "html_url": "https://github.com/psiaux", "followers_url": "https://api.github.com/users/psiaux/followers", "following_url": "https://api.github.com/users/psiaux/following{/other_user}", "gists_url": "https://api.github.com/users/psiaux/gists{/gist_id}", "starred_url": "https://api.github.com/users/psiaux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psiaux/subscriptions", "organizations_url": "https://api.github.com/users/psiaux/orgs", "repos_url": "https://api.github.com/users/psiaux/repos", "events_url": "https://api.github.com/users/psiaux/events{/privacy}", "received_events_url": "https://api.github.com/users/psiaux/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4337510417, "node_id": "LA_kwDODMpXOc8AAAABAokoEQ", "url": "https://api.github.com/repos/supabase/supabase/labels/auth", "name": "auth", "color": "0FEE92", "default": false, "description": "All thing Supabase Auth related"}, {"id": 6927174153, "node_id": "LA_kwDODMpXOc8AAAABnORKCQ", "url": "https://api.github.com/repos/supabase/supabase/labels/awaiting-details", "name": "awaiting-details", "color": "2F7C19", "default": false, "description": "For issues needing detail from the opener."}], "state": "closed", "locked": true, "assignees": [], "milestone": null, "comments": 47, "created_at": "2024-01-25T13:08:50Z", "updated_at": "2025-07-10T20:53:19Z", "closed_at": "2025-07-10T20:53:19Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n- [x] I confirm this is a bug with Supabase, not with my own application. \r\n- [x] I confirm I have searched the [Docs](https://docs.supabase.com), GitHub [Discussions](https://github.com/supabase/supabase/discussions), and [Discord](https://discord.supabase.com). \r\n\r\n## Describe the bug\r\nSometimes, the sign up function returns the following error:\r\n`AuthApiError: Error sending confirmation mail\r\n      at handleError (webpack-internal:///(action-browser)/./node_modules/.pnpm/@supabase+gotrue-js@2.62.0/node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js:46:11)\r\n      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n      at async _handleRequest (webpack-internal:///(action-browser)/./node_modules/.pnpm/@supabase+gotrue-js@2.62.0/node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js:93:9)\r\n      at async _request (webpack-internal:///(action-browser)/./node_modules/.pnpm/@supabase+gotrue-js@2.62.0/node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js:73:18)\r\n      at async SupabaseAuthClient.signUp (webpack-internal:///(action-browser)/./node_modules/.pnpm/@supabase+gotrue-js@2.62.0/node_modules/@supabase/gotrue-js/dist/module/GoTrueClient.js:236:23)\r\n      at async signUp (webpack-internal:///(action-browser)/./src/app/cadastro/_actions/index.ts:26:17)\r\n      at async project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\compiled\\next-server\\app-page.runtime.dev.js:39:406\r\n      at async t4 (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\compiled\\next-server\\app-page.runtime.dev.js:38:6379)\r\n      at async rk (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\compiled\\next-server\\app-page.runtime.dev.js:39:25934)\r\n      at async doRender (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\base-server.js:1394:30)\r\n      at async cacheEntry.responseCache.get.routeKind (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\base-server.js:1555:28)\r\n      at async DevServer.renderToResponseWithComponentsImpl (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\base-server.js:1463:28)\r\n      at async DevServer.renderPageComponent (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\base-server.js:1856:24)\r\n      at async DevServer.renderToResponseImpl (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\base-server.js:1894:32)\r\n      at async DevServer.pipeImpl (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\base-server.js:911:25)\r\n      at async NextNodeServer.handleCatchallRenderRequest (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\next-server.js:271:17)\r\n      at async DevServer.handleRequestImpl (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\base-server.js:807:17)\r\n      at async project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:331:20\r\n      at async Span.traceAsyncFn (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\trace\\trace.js:151:20)\r\n      at async DevServer.handleRequest (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:328:24)\r\n      at async invokeRender (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\lib\\router-server.js:163:21)\r\n      at async handleRequest (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\lib\\router-server.js:342:24)\r\n      at async requestHandlerImpl (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\lib\\router-server.js:366:13)\r\n      at async Server.requestListener (project_folder\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.23.7_react-dom@18.2.0_react@18.2.0\\node_modules\\next\\dist\\server\\lib\\start-server.js:140:13) {\r\n    __isAuthError: true,\r\n    status: 500\r\n  }`\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior, please provide code snippets or a repository:\r\n\r\n`const res = await supabase.auth.signUp({ email, password })`\r\n \r\n`if (res.error !== null) console.log({ signup_error: res.error })`\r\n\r\n## Expected behavior\r\n\r\n`res.error` should be `null`.\r\n\r\n## System information\r\n\r\n- OS: Windows 10\r\n- Browser Brave\r\n- Version of @supabase/ssr: ^0.0.10\r\n- Version of Node.js: v20.9.0\r\n\r\n## Additional context\r\n\r\nI'm using Next.js and Supabase's integration with Resend (as custom SMTP). It happens both on development and production, although in production there's less trace log information.\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/20739/reactions", "total_count": 5, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 5}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/20739/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/28348", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/28348/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/28348/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/28348/events", "html_url": "https://github.com/supabase/supabase/issues/28348", "id": 2445632307, "node_id": "I_kwDODMpXOc6RxWMz", "number": 28348, "title": "Analytics docker image unhealthy when self-hosting due to migration issue (`sources` not found)", "user": {"login": "raman04-byte", "id": 76096922, "node_id": "MDQ6VXNlcjc2MDk2OTIy", "avatar_url": "https://avatars.githubusercontent.com/u/76096922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raman04-byte", "html_url": "https://github.com/raman04-byte", "followers_url": "https://api.github.com/users/raman04-byte/followers", "following_url": "https://api.github.com/users/raman04-byte/following{/other_user}", "gists_url": "https://api.github.com/users/raman04-byte/gists{/gist_id}", "starred_url": "https://api.github.com/users/raman04-byte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raman04-byte/subscriptions", "organizations_url": "https://api.github.com/users/raman04-byte/orgs", "repos_url": "https://api.github.com/users/raman04-byte/repos", "events_url": "https://api.github.com/users/raman04-byte/events{/privacy}", "received_events_url": "https://api.github.com/users/raman04-byte/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4337906767, "node_id": "LA_kwDODMpXOc8AAAABAo80Tw", "url": "https://api.github.com/repos/supabase/supabase/labels/self-hosted", "name": "self-hosted", "color": "f9d0c4", "default": false, "description": "Related to self-hosted Supabase"}, {"id": 6397104008, "node_id": "LA_kwDODMpXOc8AAAABfUwPiA", "url": "https://api.github.com/repos/supabase/supabase/labels/needs-analysis", "name": "needs-analysis", "color": "D5CFCF", "default": false, "description": "Issue status is unknown and/or not possible to triage with the current info"}, {"id": 6927174153, "node_id": "LA_kwDODMpXOc8AAAABnORKCQ", "url": "https://api.github.com/repos/supabase/supabase/labels/awaiting-details", "name": "awaiting-details", "color": "2F7C19", "default": false, "description": "For issues needing detail from the opener."}, {"id": 7121346142, "node_id": "LA_kwDODMpXOc8AAAABqHceXg", "url": "https://api.github.com/repos/supabase/supabase/labels/external-issue", "name": "external-issue", "color": "69C922", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 44, "created_at": "2024-08-02T19:26:17Z", "updated_at": "2025-02-28T20:51:40Z", "closed_at": "2025-02-28T20:51:39Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n<!-- \r\n\r\n\u26a0\ufe0f We receive a lot of bug reports which have already been solved or discussed. If you are looking for help, please try these first:\r\n\r\n- Docs: https://docs.supabase.com\r\n- Discussions: https://github.com/supabase/supabase/discussions\r\n- Discord: https://discord.supabase.com\r\n\r\nBefore opening a bug report, please verify the following: \r\n\r\n-->\r\n\r\n- [X] I confirm this is a bug with Supabase, not with my own application. \r\n- [X] I confirm I have searched the [Docs](https://docs.supabase.com), GitHub [Discussions](https://github.com/supabase/supabase/discussions), and [Discord](https://discord.supabase.com). \r\n\r\n## Describe the bug\r\n\r\nWell I am trying to deploy the supabase localhost to the Red Hat Linux server and I am not able to start the container it shows that analytics can't start\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior, please provide code snippets or a repository:\r\n\r\n1. Clone the repo \r\n2. Do export DOCKER_DEFAULT_PLATFORM=linux/amd64\r\n3. Build the studio\r\n4. You will get the error\r\n\r\n## Expected behavior\r\n\r\nIt should start normally\r\n\r\n## Screenshots\r\n\r\n<img width=\"653\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e0cddf53-b081-4da4-b9a4-33304ab982d0\">\r\n<img width=\"301\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f9b05cb1-ee1a-4a27-8f5b-f831ecbdc58a\">\r\n\r\n\r\n## System information\r\n\r\n- OS: macOS\r\n- Browser (if applies) [e.g. chrome, safari]\r\n- Version of supabase-js: [e.g. 6.0.2]\r\n- Version of Node.js: [e.g. 10.10.0]\r\n\r\n## Additional context\r\n\r\nWell I have macOS and I am building the image for the Red Hat Linux server and I am failing to do so\r\n", "closed_by": {"login": "Hallidayo", "id": 22655069, "node_id": "MDQ6VXNlcjIyNjU1MDY5", "avatar_url": "https://avatars.githubusercontent.com/u/22655069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hallidayo", "html_url": "https://github.com/Hallidayo", "followers_url": "https://api.github.com/users/Hallidayo/followers", "following_url": "https://api.github.com/users/Hallidayo/following{/other_user}", "gists_url": "https://api.github.com/users/Hallidayo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hallidayo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hallidayo/subscriptions", "organizations_url": "https://api.github.com/users/Hallidayo/orgs", "repos_url": "https://api.github.com/users/Hallidayo/repos", "events_url": "https://api.github.com/users/Hallidayo/events{/privacy}", "received_events_url": "https://api.github.com/users/Hallidayo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/28348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/28348/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/4201", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/4201/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/4201/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/4201/events", "html_url": "https://github.com/supabase/supabase/issues/4201", "id": 1068315326, "node_id": "I_kwDODMpXOc4_rTK-", "number": 4201, "title": "Realtime Row Level security broken for database-wide subscriptions on PG12", "user": {"login": "kiwicopple", "id": 10214025, "node_id": "MDQ6VXNlcjEwMjE0MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/10214025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiwicopple", "html_url": "https://github.com/kiwicopple", "followers_url": "https://api.github.com/users/kiwicopple/followers", "following_url": "https://api.github.com/users/kiwicopple/following{/other_user}", "gists_url": "https://api.github.com/users/kiwicopple/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiwicopple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiwicopple/subscriptions", "organizations_url": "https://api.github.com/users/kiwicopple/orgs", "repos_url": "https://api.github.com/users/kiwicopple/repos", "events_url": "https://api.github.com/users/kiwicopple/events{/privacy}", "received_events_url": "https://api.github.com/users/kiwicopple/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 44, "created_at": "2021-12-01T11:54:51Z", "updated_at": "2023-06-10T02:59:17Z", "closed_at": "2021-12-22T03:08:31Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n## Describe the bug\r\n\r\n**Affects**\r\n\r\n- PG12\r\n- PG14 (although these will only be new use-cases, so nobody should be experiencing the bug)\r\n\r\n**Unaffected**\r\n\r\n- PG13 users.  If you are experiencing problems with PG13, it is probably because your Policies are not allowing access (whereas previously Policies weren't applied). This is intended behaviour - your database security is working properly\r\n\r\n**Description**\r\n\r\nWe're discovered an issue as a result of our Row-Level Security Realtime updates for that affects any database-wide publications. (eg `CREATE PUBLICATION supabase_realtime FOR ALL TABLES;`)\r\n\r\n\r\n## To Reproduce\r\n\r\nRealtime subscription may have stopped you are on PG12 and you have a Publication in your database set up like\r\n\r\n<img width=\"1467\" alt=\"Screenshot 2021-12-01 at 7 49 05 PM\" src=\"https://user-images.githubusercontent.com/10214025/144230037-9539750e-7092-40f3-9487-f3eeac582ed9.png\">\r\n\r\n## Workaround\r\n\r\nDisable the `FULL` publication (red) and enable each table individually (green)\r\n<img width=\"1467\" alt=\"Screenshot 2021-12-01 at 7 50 51 PM\" src=\"https://user-images.githubusercontent.com/10214025/144229745-0747d54e-dc4e-4a5a-a286-a63e0cfdfd0b.png\">\r\n\r\n\r\n", "closed_by": {"login": "w3b6x9", "id": 5532241, "node_id": "MDQ6VXNlcjU1MzIyNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/5532241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w3b6x9", "html_url": "https://github.com/w3b6x9", "followers_url": "https://api.github.com/users/w3b6x9/followers", "following_url": "https://api.github.com/users/w3b6x9/following{/other_user}", "gists_url": "https://api.github.com/users/w3b6x9/gists{/gist_id}", "starred_url": "https://api.github.com/users/w3b6x9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w3b6x9/subscriptions", "organizations_url": "https://api.github.com/users/w3b6x9/orgs", "repos_url": "https://api.github.com/users/w3b6x9/repos", "events_url": "https://api.github.com/users/w3b6x9/events{/privacy}", "received_events_url": "https://api.github.com/users/w3b6x9/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/4201/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/4201/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/3783", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/3783/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/3783/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/3783/events", "html_url": "https://github.com/supabase/supabase/issues/3783", "id": 1044442522, "node_id": "I_kwDODMpXOc4-QO2a", "number": 3783, "title": "`supabase.auth.api.getUserByCookie()` doesn't work in Next.JS server-side environment", "user": {"login": "vklimontovich", "id": 707733, "node_id": "MDQ6VXNlcjcwNzczMw==", "avatar_url": "https://avatars.githubusercontent.com/u/707733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vklimontovich", "html_url": "https://github.com/vklimontovich", "followers_url": "https://api.github.com/users/vklimontovich/followers", "following_url": "https://api.github.com/users/vklimontovich/following{/other_user}", "gists_url": "https://api.github.com/users/vklimontovich/gists{/gist_id}", "starred_url": "https://api.github.com/users/vklimontovich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vklimontovich/subscriptions", "organizations_url": "https://api.github.com/users/vklimontovich/orgs", "repos_url": "https://api.github.com/users/vklimontovich/repos", "events_url": "https://api.github.com/users/vklimontovich/events{/privacy}", "received_events_url": "https://api.github.com/users/vklimontovich/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 43, "created_at": "2021-11-04T07:46:20Z", "updated_at": "2022-10-26T08:45:19Z", "closed_at": "2022-03-09T08:09:24Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n## Describe the bug\r\n\r\n`supabase.auth.api.getUserByCookie()` doesn't work in Next.JS server-side environment (`_middleware.ts`)\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior, please provide code snippets or a repository:\r\n\r\n1. Create a supabase project\r\n2. Create a Next.JS project\r\n3. Create\r\n\r\nAdd following code to `_middleware.ts` \r\n\r\n```typescript\r\nexport async function middleware(req: NextRequest, ev: NextFetchEvent) {\r\n    let supabase = createClient(...);\r\n    let user = await supabase.auth.api.getUserByCookie(req);\r\n    console.log('Auth ', user)\r\n}\r\n```\r\n\r\n4. See logs\r\n\r\n\r\n```\r\nAuth  {\r\n  user: null,\r\n  data: null,\r\n  error: ReferenceError: XMLHttpRequest is not defined\r\n      at eval (webpack-internal:///./node_modules/cross-fetch/dist/browser-ponyfill.js?d2fb:462:17)\r\n      at new Promise (<anonymous>)\r\n      at fetch (webpack-internal:///./node_modules/cross-fetch/dist/browser-ponyfill.js?d2fb:455:12)\r\n      at eval (webpack-internal:///./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js?85f4:44:63)\r\n      at new Promise (<anonymous>)\r\n      at eval (webpack-internal:///./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js?85f4:43:16)\r\n      at Generator.next (<anonymous>)\r\n      at eval (webpack-internal:///./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js?85f4:16:71)\r\n      at new Promise (<anonymous>)\r\n      at __awaiter (webpack-internal:///./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js?85f4:12:12)\r\n}\r\n```\r\n\r\n## Expected behavior\r\n\r\ngetUserByCookie() should either work (use `fetch()` internally instead of `XMLHttpRequest`), OR message should be more clear (check the presence of  `XMLHttpRequest` in `getUserByCookie()` and throw `Sorry, you shouldn't call this method in server side environment`\r\n\r\n## System information\r\n\r\nNext version is `12.0.1`\r\n\r\n## Additional context\r\n\r\nAdd any other context about the problem here.\r\n", "closed_by": {"login": "thorwebdev", "id": 5748289, "node_id": "MDQ6VXNlcjU3NDgyODk=", "avatar_url": "https://avatars.githubusercontent.com/u/5748289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thorwebdev", "html_url": "https://github.com/thorwebdev", "followers_url": "https://api.github.com/users/thorwebdev/followers", "following_url": "https://api.github.com/users/thorwebdev/following{/other_user}", "gists_url": "https://api.github.com/users/thorwebdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/thorwebdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thorwebdev/subscriptions", "organizations_url": "https://api.github.com/users/thorwebdev/orgs", "repos_url": "https://api.github.com/users/thorwebdev/repos", "events_url": "https://api.github.com/users/thorwebdev/events{/privacy}", "received_events_url": "https://api.github.com/users/thorwebdev/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/3783/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/3783/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/35021", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/35021/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/35021/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/35021/events", "html_url": "https://github.com/supabase/supabase/issues/35021", "id": 2994707576, "node_id": "I_kwDODMpXOc6yf5x4", "number": 35021, "title": "fail to deploy functions that use deno workspace packages", "user": {"login": "alita-moore", "id": 26529820, "node_id": "MDQ6VXNlcjI2NTI5ODIw", "avatar_url": "https://avatars.githubusercontent.com/u/26529820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alita-moore", "html_url": "https://github.com/alita-moore", "followers_url": "https://api.github.com/users/alita-moore/followers", "following_url": "https://api.github.com/users/alita-moore/following{/other_user}", "gists_url": "https://api.github.com/users/alita-moore/gists{/gist_id}", "starred_url": "https://api.github.com/users/alita-moore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alita-moore/subscriptions", "organizations_url": "https://api.github.com/users/alita-moore/orgs", "repos_url": "https://api.github.com/users/alita-moore/repos", "events_url": "https://api.github.com/users/alita-moore/events{/privacy}", "received_events_url": "https://api.github.com/users/alita-moore/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 7121346142, "node_id": "LA_kwDODMpXOc8AAAABqHceXg", "url": "https://api.github.com/repos/supabase/supabase/labels/external-issue", "name": "external-issue", "color": "69C922", "default": false, "description": ""}, {"id": 7121348254, "node_id": "LA_kwDODMpXOc8AAAABqHcmng", "url": "https://api.github.com/repos/supabase/supabase/labels/to-triage", "name": "to-triage", "color": "E26359", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 41, "created_at": "2025-04-15T01:22:30Z", "updated_at": "2025-09-08T11:46:48Z", "closed_at": "2025-06-27T06:23:53Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\n\n<!-- \n\n\u26a0\ufe0f We receive a lot of bug reports which have already been solved or discussed. If you are looking for help, please try these first:\n\n- Docs: https://docs.supabase.com\n- Discussions: https://github.com/supabase/supabase/discussions\n- Discord: https://discord.supabase.com\n\nBefore opening a bug report, please verify the following: \n\n-->\n\n- [X] I confirm this is a bug with Supabase, not with my own application. \n- [X] I confirm I have searched the [Docs](https://docs.supabase.com), GitHub [Discussions](https://github.com/supabase/supabase/discussions), and [Discord](https://discord.supabase.com). \n\n## Describe the bug\n\nfunctions deploy fails to deploy functions with workspace dependencies\n\n## To Reproduce\n\nSee the following project: https://codesandbox.io/p/devbox/elastic-chatterjee-forked-6496py?workspaceId=ws_VGZMLHNu2hWPYZLrXEYbsU\n\nyou can see the supabase function in supabase/functions/example. Attempting to deploy this will fail. However `deno run index.ts` works as expected\n\n## Expected behavior\n\n`pnpx supabase functions deploy` deploys the function and resolves the workspace dependencies in the same way that deno does.\n\n## Screenshots\n\nIf applicable, add screenshots to help explain your problem.\n\n## System information\n\n- Version of supabase-js: 2.20.12\n- Version of Node.js: v22.14.0\n\n## Additional context\n\nnote that it fails with the following error:\n```\nRelative import path \"@wovenlibs/core\" not prefixed with / or ./ or ../ and not in import map\n```\n\nbecause deno can resolve the workspace packages without a scheme. But it seems supabase cannot resolve workspace files in the same way.\n\n", "closed_by": {"login": "sweatybridge", "id": 1639722, "node_id": "MDQ6VXNlcjE2Mzk3MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1639722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sweatybridge", "html_url": "https://github.com/sweatybridge", "followers_url": "https://api.github.com/users/sweatybridge/followers", "following_url": "https://api.github.com/users/sweatybridge/following{/other_user}", "gists_url": "https://api.github.com/users/sweatybridge/gists{/gist_id}", "starred_url": "https://api.github.com/users/sweatybridge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sweatybridge/subscriptions", "organizations_url": "https://api.github.com/users/sweatybridge/orgs", "repos_url": "https://api.github.com/users/sweatybridge/repos", "events_url": "https://api.github.com/users/sweatybridge/events{/privacy}", "received_events_url": "https://api.github.com/users/sweatybridge/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/35021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/35021/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/20370", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/20370/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/20370/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/20370/events", "html_url": "https://github.com/supabase/supabase/issues/20370", "id": 2078133739, "node_id": "I_kwDODMpXOc573c3r", "number": 20370, "title": "`npm install` fails when installing repo dependencies for development", "user": {"login": "alt-glitch", "id": 52913345, "node_id": "MDQ6VXNlcjUyOTEzMzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/52913345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alt-glitch", "html_url": "https://github.com/alt-glitch", "followers_url": "https://api.github.com/users/alt-glitch/followers", "following_url": "https://api.github.com/users/alt-glitch/following{/other_user}", "gists_url": "https://api.github.com/users/alt-glitch/gists{/gist_id}", "starred_url": "https://api.github.com/users/alt-glitch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alt-glitch/subscriptions", "organizations_url": "https://api.github.com/users/alt-glitch/orgs", "repos_url": "https://api.github.com/users/alt-glitch/repos", "events_url": "https://api.github.com/users/alt-glitch/events{/privacy}", "received_events_url": "https://api.github.com/users/alt-glitch/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [{"login": "encima", "id": 517923, "node_id": "MDQ6VXNlcjUxNzkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/517923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/encima", "html_url": "https://github.com/encima", "followers_url": "https://api.github.com/users/encima/followers", "following_url": "https://api.github.com/users/encima/following{/other_user}", "gists_url": "https://api.github.com/users/encima/gists{/gist_id}", "starred_url": "https://api.github.com/users/encima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/encima/subscriptions", "organizations_url": "https://api.github.com/users/encima/orgs", "repos_url": "https://api.github.com/users/encima/repos", "events_url": "https://api.github.com/users/encima/events{/privacy}", "received_events_url": "https://api.github.com/users/encima/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 39, "created_at": "2024-01-12T06:07:39Z", "updated_at": "2024-08-19T12:05:55Z", "closed_at": "2024-08-19T12:05:55Z", "assignee": {"login": "encima", "id": 517923, "node_id": "MDQ6VXNlcjUxNzkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/517923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/encima", "html_url": "https://github.com/encima", "followers_url": "https://api.github.com/users/encima/followers", "following_url": "https://api.github.com/users/encima/following{/other_user}", "gists_url": "https://api.github.com/users/encima/gists{/gist_id}", "starred_url": "https://api.github.com/users/encima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/encima/subscriptions", "organizations_url": "https://api.github.com/users/encima/orgs", "repos_url": "https://api.github.com/users/encima/repos", "events_url": "https://api.github.com/users/encima/events{/privacy}", "received_events_url": "https://api.github.com/users/encima/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n- [x] I confirm this is a bug with Supabase, not with my own application. \r\n- [x] I confirm I have searched the [Docs](https://docs.supabase.com), GitHub [Discussions](https://github.com/supabase/supabase/discussions), and [Discord](https://discord.supabase.com). \r\n\r\n## Describe the bug\r\nOn running `npm install` after cloning the repository, it fails with the following log (some parts trimmed) :\r\n```\r\nglitch@instance-3:~/supabase$ npm i\r\nnpm ERR! code 1\r\nnpm ERR! path /home/glitch/supabase/node_modules/@gregnr/libpg-query\r\nnpm ERR! command failed\r\nnpm ERR! command sh -c node-pre-gyp install --fallback-to-build\r\nnpm ERR! make: Entering directory '/home/glitch/supabase/node_modules/@gregnr/libpg-query/build'\r\nnpm ERR!   CC(target) Release/obj.target/nothing/node_modules/node-addon-api/nothing.o\r\nnpm ERR! rm -f Release/obj.target/node_modules/node-addon-api/nothing.a Release/obj.target/node_modules/node-addon-api/nothing.a.ar-file-list; mkdir -p `dirname Release/obj.target/node_modules/node-addon-api/nothing.a`\r\nnpm ERR! ar crs Release/obj.target/node_modules/node-addon-api/nothing.a @Release/obj.target/node_modules/node-addon-api/nothing.a.ar-file-list\r\nnpm ERR!   COPY Release/nothing.a\r\nnpm ERR!   ACTION binding_gyp_queryparser_target_prebuild_dependencies libpg_query/include/pg_query.h\r\nnpm ERR! make[1]: Entering directory '/tmp/tmp.Ztle2IBnbL/libpg_query'\r\nnpm ERR! compiling src/pg_query.c\r\n<--- trimmed --->\r\nnpm ERR! make[1]: Leaving directory '/tmp/tmp.Ztle2IBnbL/libpg_query'\r\nnpm ERR! ERROR: 'make' command failed\r\nnpm ERR! make: Leaving directory '/home/glitch/supabase/node_modules/@gregnr/libpg-query/build'\r\nnpm ERR! Failed to execute '/home/glitch/.nvm/versions/node/v18.19.0/bin/node /home/glitch/.nvm/versions/node/v18.19.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js build --fallback-to-build --module=/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/Release/queryparser.node --module_name=queryparser --module_path=/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/Release --napi_version=9 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v108' (1)\r\nnpm ERR! node-pre-gyp info it worked if it ends with ok\r\nnpm ERR! node-pre-gyp info using node-pre-gyp@1.0.11\r\nnpm ERR! node-pre-gyp info using node@18.19.0 | linux | x64\r\nnpm ERR! node-pre-gyp info check checked for \"/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/Release/queryparser.node\" (not found)\r\nnpm ERR! node-pre-gyp http GET https://supabase-public-artifacts-bucket.s3.amazonaws.com/libpg-query-node/queryparser-v13.4.0-dev.12-node-v108-linux-x64.tar.gz\r\nnpm ERR! node-pre-gyp ERR! install response status 404 Not Found on https://supabase-public-artifacts-bucket.s3.amazonaws.com/libpg-query-node/queryparser-v13.4.0-dev.12-node-v108-linux-x64.tar.gz\r\nnpm ERR! node-pre-gyp WARN Pre-built binaries not installable for @gregnr/libpg-query@13.4.0-dev.12 and node@18.19.0 (node-v108 ABI, glibc) (falling back to source compile with node-gyp)\r\nnpm ERR! node-pre-gyp WARN Hit error response status 404 Not Found on https://supabase-public-artifacts-bucket.s3.amazonaws.com/libpg-query-node/queryparser-v13.4.0-dev.12-node-v108-linux-x64.tar.gz\r\nnpm ERR! gyp info it worked if it ends with ok\r\nnpm ERR! gyp info using node-gyp@10.0.1\r\nnpm ERR! gyp info using node@18.19.0 | linux | x64\r\nnpm ERR! gyp info ok\r\nnpm ERR! gyp info it worked if it ends with ok\r\nnpm ERR! gyp info using node-gyp@10.0.1\r\nnpm ERR! gyp info using node@18.19.0 | linux | x64\r\nnpm ERR! gyp info find Python using Python version 3.11.6 found at \"/usr/bin/python3\"\r\nnpm ERR! gyp http GET https://nodejs.org/download/release/v18.19.0/node-v18.19.0-headers.tar.gz\r\nnpm ERR! gyp http 200 https://nodejs.org/download/release/v18.19.0/node-v18.19.0-headers.tar.gz\r\nnpm ERR! gyp http GET https://nodejs.org/download/release/v18.19.0/SHASUMS256.txt\r\nnpm ERR! gyp http 200 https://nodejs.org/download/release/v18.19.0/SHASUMS256.txt\r\nnpm ERR! gyp info spawn /usr/bin/python3\r\nnpm ERR! gyp info spawn args [\r\nnpm ERR! gyp info spawn args '/home/glitch/.nvm/versions/node/v18.19.0/lib/node_modules/npm/node_modules/node-gyp/gyp/gyp_main.py',\r\nnpm ERR! gyp info spawn args 'binding.gyp',\r\nnpm ERR! gyp info spawn args '-f',\r\nnpm ERR! gyp info spawn args 'make',\r\nnpm ERR! gyp info spawn args '-I',\r\nnpm ERR! gyp info spawn args '/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/config.gypi',\r\nnpm ERR! gyp info spawn args '-I',\r\nnpm ERR! gyp info spawn args '/home/glitch/.nvm/versions/node/v18.19.0/lib/node_modules/npm/node_modules/node-gyp/addon.gypi',\r\nnpm ERR! gyp info spawn args '-I',\r\nnpm ERR! gyp info spawn args '/home/glitch/.cache/node-gyp/18.19.0/include/node/common.gypi',\r\nnpm ERR! gyp info spawn args '-Dlibrary=shared_library',\r\nnpm ERR! gyp info spawn args '-Dvisibility=default',\r\nnpm ERR! gyp info spawn args '-Dnode_root_dir=/home/glitch/.cache/node-gyp/18.19.0',\r\nnpm ERR! gyp info spawn args '-Dnode_gyp_dir=/home/glitch/.nvm/versions/node/v18.19.0/lib/node_modules/npm/node_modules/node-gyp',\r\nnpm ERR! gyp info spawn args '-Dnode_lib_file=/home/glitch/.cache/node-gyp/18.19.0/<(target_arch)/node.lib',\r\nnpm ERR! gyp info spawn args '-Dmodule_root_dir=/home/glitch/supabase/node_modules/@gregnr/libpg-query',\r\nnpm ERR! gyp info spawn args '-Dnode_engine=v8',\r\nnpm ERR! gyp info spawn args '--depth=.',\r\nnpm ERR! gyp info spawn args '--no-parallel',\r\nnpm ERR! gyp info spawn args '--generator-output',\r\nnpm ERR! gyp info spawn args 'build',\r\nnpm ERR! gyp info spawn args '-Goutput_dir=.'\r\nnpm ERR! gyp info spawn args ]\r\nnpm ERR! gyp info ok\r\nnpm ERR! gyp info it worked if it ends with ok\r\nnpm ERR! gyp info using node-gyp@10.0.1\r\nnpm ERR! gyp info using node@18.19.0 | linux | x64\r\nnpm ERR! gyp info spawn make\r\nnpm ERR! gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ]\r\nnpm ERR! Cloning into 'libpg_query'...\r\nnpm ERR! Note: switching to '1097b2c33e54a37c0d2c0f2d498c7d1cf967eae9'.\r\nnpm ERR!\r\nnpm ERR! You are in 'detached HEAD' state. You can look around, make experimental\r\nnpm ERR! changes and commit them, and you can discard any commits you make in this\r\nnpm ERR! state without impacting any branches by switching back to a branch.\r\nnpm ERR!\r\nnpm ERR! If you want to create a new branch to retain commits you create, you may\r\nnpm ERR! do so (now or later) by using -c with the switch command. Example:\r\nnpm ERR!\r\nnpm ERR!   git switch -c <new-branch-name>\r\nnpm ERR!\r\nnpm ERR! Or undo this operation with:\r\nnpm ERR!\r\nnpm ERR!   git switch -\r\nnpm ERR!\r\nnpm ERR! Turn off this advice by setting config variable advice.detachedHead to false\r\nnpm ERR!\r\nnpm ERR! HEAD is now at 1097b2c Release 13-2.2.0\r\nnpm ERR! src/postgres/src_port_snprintf.c:374:1: error: conflicting types for \u2018strchrnul\u2019; have \u2018const char *(const char *, int)\u2019\r\nnpm ERR!   374 | strchrnul(const char *s, int c)\r\nnpm ERR!       | ^~~~~~~~~\r\nnpm ERR! In file included from ./src/postgres/include/c.h:61,\r\nnpm ERR!                  from src/postgres/src_port_snprintf.c:62:\r\nnpm ERR! /usr/include/string.h:286:14: note: previous declaration of \u2018strchrnul\u2019 with type \u2018char *(const char *, int)\u2019\r\nnpm ERR!   286 | extern char *strchrnul (const char *__s, int __c)\r\nnpm ERR!       |              ^~~~~~~~~\r\nnpm ERR! make[1]: *** [Makefile:171: src/postgres/src_port_snprintf.o] Error 1\r\nnpm ERR! make: *** [queryparser.target.mk:13: libpg_query/include/pg_query.h] Error 1\r\nnpm ERR! gyp ERR! build error\r\nnpm ERR! gyp ERR! stack Error: `make` failed with exit code: 2\r\nnpm ERR! gyp ERR! stack at ChildProcess.<anonymous> (/home/glitch/.nvm/versions/node/v18.19.0/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:209:23)\r\nnpm ERR! gyp ERR! System Linux 6.5.0-1008-gcp\r\nnpm ERR! gyp ERR! command \"/home/glitch/.nvm/versions/node/v18.19.0/bin/node\" \"/home/glitch/.nvm/versions/node/v18.19.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"build\" \"--fallback-to-build\" \"--module=/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/Release/queryparser.node\" \"--module_name=queryparser\" \"--module_path=/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/Release\" \"--napi_version=9\" \"--node_abi_napi=napi\" \"--napi_build_version=0\" \"--node_napi_label=node-v108\"\r\nnpm ERR! gyp ERR! cwd /home/glitch/supabase/node_modules/@gregnr/libpg-query\r\nnpm ERR! gyp ERR! node -v v18.19.0\r\nnpm ERR! gyp ERR! node-gyp -v v10.0.1\r\nnpm ERR! gyp ERR! not ok\r\nnpm ERR! node-pre-gyp ERR! build error\r\nnpm ERR! node-pre-gyp ERR! stack Error: Failed to execute '/home/glitch/.nvm/versions/node/v18.19.0/bin/node /home/glitch/.nvm/versions/node/v18.19.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js build --fallback-to-build --module=/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/Release/queryparser.node --module_name=queryparser --module_path=/home/glitch/supabase/node_modules/@gregnr/libpg-query/build/Release --napi_version=9 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v108' (1)\r\nnpm ERR! node-pre-gyp ERR! stack     at ChildProcess.<anonymous> (/home/glitch/supabase/node_modules/@mapbox/node-pre-gyp/lib/util/compile.js:89:23)\r\nnpm ERR! node-pre-gyp ERR! stack     at ChildProcess.emit (node:events:517:28)\r\nnpm ERR! node-pre-gyp ERR! stack     at maybeClose (node:internal/child_process:1098:16)\r\nnpm ERR! node-pre-gyp ERR! stack     at ChildProcess._handle.onexit (node:internal/child_process:303:5)\r\nnpm ERR! node-pre-gyp ERR! System Linux 6.5.0-1008-gcp\r\nnpm ERR! node-pre-gyp ERR! command \"/home/glitch/.nvm/versions/node/v18.19.0/bin/node\" \"/home/glitch/supabase/node_modules/.bin/node-pre-gyp\" \"install\" \"--fallback-to-build\"\r\nnpm ERR! node-pre-gyp ERR! cwd /home/glitch/supabase/node_modules/@gregnr/libpg-query\r\nnpm ERR! node-pre-gyp ERR! node -v v18.19.0\r\nnpm ERR! node-pre-gyp ERR! node-pre-gyp -v v1.0.11\r\nnpm ERR! node-pre-gyp ERR! not ok\r\n\r\nnpm ERR! A complete log of this run can be found in: /home/glitch/.npm/_logs/2024-01-12T05_48_50_483Z-debug-0.log\r\n```\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior, please provide code snippets or a repository:\r\n\r\n1. Follow the steps mentioned [here](https://github.com/supabase/supabase/blob/master/DEVELOPERS.md#local-development). Clone the repo and install dependencies\r\n2. It should fail.\r\n\r\n\r\n## System information\r\n\r\n- OS: Tried on Arch Linux (EndeavourOS) and Ubuntu 23.10 \r\n- Version of npm: 10.2.3 and 9.9.2\r\n- Version of Node.js: v21.5.0  v18.19.0\r\n\r\n## Additional context\r\nSeems to me that @gregnr/libpg-query package isn't building properly. I also notice that this URL: https://supabase-public-artifacts-bucket.s3.amazonaws.com/libpg-query-node/queryparser-v13.4.0-dev.12-node-v108-linux-x64.tar.gz is returning a 404.\r\n\r\nDo let me know if I can give more information about my systems. I've tried and tested this both on my local machine and Ubuntu box.\r\n\r\nThanks!", "closed_by": {"login": "encima", "id": 517923, "node_id": "MDQ6VXNlcjUxNzkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/517923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/encima", "html_url": "https://github.com/encima", "followers_url": "https://api.github.com/users/encima/followers", "following_url": "https://api.github.com/users/encima/following{/other_user}", "gists_url": "https://api.github.com/users/encima/gists{/gist_id}", "starred_url": "https://api.github.com/users/encima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/encima/subscriptions", "organizations_url": "https://api.github.com/users/encima/orgs", "repos_url": "https://api.github.com/users/encima/repos", "events_url": "https://api.github.com/users/encima/events{/privacy}", "received_events_url": "https://api.github.com/users/encima/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/20370/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/20370/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/4883", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/4883/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/4883/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/4883/events", "html_url": "https://github.com/supabase/supabase/issues/4883", "id": 1097093814, "node_id": "I_kwDODMpXOc5BZFK2", "number": 4883, "title": "Permissions denied for table using API but works with SupabaseClient", "user": {"login": "jperestrelo", "id": 65506551, "node_id": "MDQ6VXNlcjY1NTA2NTUx", "avatar_url": "https://avatars.githubusercontent.com/u/65506551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jperestrelo", "html_url": "https://github.com/jperestrelo", "followers_url": "https://api.github.com/users/jperestrelo/followers", "following_url": "https://api.github.com/users/jperestrelo/following{/other_user}", "gists_url": "https://api.github.com/users/jperestrelo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jperestrelo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jperestrelo/subscriptions", "organizations_url": "https://api.github.com/users/jperestrelo/orgs", "repos_url": "https://api.github.com/users/jperestrelo/repos", "events_url": "https://api.github.com/users/jperestrelo/events{/privacy}", "received_events_url": "https://api.github.com/users/jperestrelo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4231710572, "node_id": "LA_kwDODMpXOc78Osds", "url": "https://api.github.com/repos/supabase/supabase/labels/p3", "name": "p3", "color": "0040C7", "default": false, "description": "Priority 3"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 39, "created_at": "2022-01-09T03:18:51Z", "updated_at": "2025-05-15T15:32:49Z", "closed_at": "2022-07-01T06:29:06Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n## Describe the bug\r\n\r\nWhen trying to access data from some API endpoints, like this: /rest/v1/leads?select=* I get this error:\r\n```\r\n{\r\n    \"message\": \"permission denied for table leads\",\r\n    \"code\": \"42501\",\r\n    \"hint\": null,\r\n    \"details\": null\r\n}\r\n```\r\n\r\nwhen doing the same using JS client like this:\r\n```\r\nconst { data, error } = await supabase\r\n            .from('leads')\r\n            .select()\r\n\r\n```\r\nI successfully get the data. **Although enabling or disabling RLS has no impact.**\r\n\r\nI'm using the same anon API key in both situations.\r\n\r\n## To Reproduce\r\n\r\nI am creating these tables using the following function:\r\n\r\n```\r\nBEGIN\r\nEXECUTE format('\r\n      CREATE TABLE IF NOT EXISTS %I (\r\n       id serial PRIMARY KEY,\r\n       created_at date default current_timestamp\r\n      )', my_table);\r\n\r\nEXECUTE format('\r\n      ALTER TABLE %I ENABLE ROW LEVEL SECURITY;\r\n', my_table);    \r\n\r\nEND\r\n```\r\n\r\nI tried to enable and disable RLS from UI and from SQL editor but didn't change anything.\r\nI also tried to use the service role KEY when using API, but the same error above showed.\r\n\r\nWhen creating the tables from the UI, everything seems to work as intended.\r\n\r\n\r\n## Expected behavior\r\n\r\nI was expecting to be able to create tables programmatically from the client-side so I'm trying to do it using functions.\r\nI'm using the function like this:\r\n```\r\n const { data, error } = await supabase\r\n            .rpc('create_table', { my_table: table_name })\r\n```\r\n\r\nAm I missing something?\r\n", "closed_by": {"login": "w3b6x9", "id": 5532241, "node_id": "MDQ6VXNlcjU1MzIyNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/5532241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w3b6x9", "html_url": "https://github.com/w3b6x9", "followers_url": "https://api.github.com/users/w3b6x9/followers", "following_url": "https://api.github.com/users/w3b6x9/following{/other_user}", "gists_url": "https://api.github.com/users/w3b6x9/gists{/gist_id}", "starred_url": "https://api.github.com/users/w3b6x9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w3b6x9/subscriptions", "organizations_url": "https://api.github.com/users/w3b6x9/orgs", "repos_url": "https://api.github.com/users/w3b6x9/repos", "events_url": "https://api.github.com/users/w3b6x9/events{/privacy}", "received_events_url": "https://api.github.com/users/w3b6x9/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/4883/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/4883/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/5663", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/5663/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/5663/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/5663/events", "html_url": "https://github.com/supabase/supabase/issues/5663", "id": 1150221556, "node_id": "I_kwDODMpXOc5Ejvz0", "number": 5663, "title": "redirectTo on signIn/signUp not working (for email + password, Google & GitHub)", "user": {"login": "joe-ashwell", "id": 67185069, "node_id": "MDQ6VXNlcjY3MTg1MDY5", "avatar_url": "https://avatars.githubusercontent.com/u/67185069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joe-ashwell", "html_url": "https://github.com/joe-ashwell", "followers_url": "https://api.github.com/users/joe-ashwell/followers", "following_url": "https://api.github.com/users/joe-ashwell/following{/other_user}", "gists_url": "https://api.github.com/users/joe-ashwell/gists{/gist_id}", "starred_url": "https://api.github.com/users/joe-ashwell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joe-ashwell/subscriptions", "organizations_url": "https://api.github.com/users/joe-ashwell/orgs", "repos_url": "https://api.github.com/users/joe-ashwell/repos", "events_url": "https://api.github.com/users/joe-ashwell/events{/privacy}", "received_events_url": "https://api.github.com/users/joe-ashwell/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": true, "assignees": [], "milestone": null, "comments": 38, "created_at": "2022-02-25T09:20:36Z", "updated_at": "2024-09-05T04:02:46Z", "closed_at": "2022-03-22T15:17:55Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\nAs the title suggests, redirectTo is not working for any of my auth methods.\r\n\r\n## To Reproduce\r\n1. Correct base URL is set up in Supabase auth settings\r\n2. Add the redirectTo option to signIn methods, e.g.:\r\nawait supabase.auth.signIn(\r\n      {\r\n        provider: \"google\",\r\n      },\r\n      { redirectTo: \"https://example.com/app\" }\r\n    );\r\n\r\n3. User can successfully sign in/up, they're just not redirected.\r\n\r\n## Expected behavior\r\nAfter sign in, user is redirected to the stated page\r\n\r\n## System information\r\n- MacOS\r\n- Firefox & Chrome\r\n- Version of supabase-js: 1.30.6\r\n- Version of Node.js: v14.17.1\r\n- Version of supabase/gotrue-js: 1.22.2\r\n\r\n## Additional context\r\nI've read some other issues raised related to this and understand it may be more of an issue with gotrue(?). But I've followed every suggestion so far on issues i've found related to this and have had no success as of yet.\r\n\r\nAs a side note, I just wanted to say, that overall I love the product. This one issue is just driving me mad! I'm currently using a useEffect hook as a work around, but it's really not ideal.", "closed_by": {"login": "Ziinc", "id": 22714384, "node_id": "MDQ6VXNlcjIyNzE0Mzg0", "avatar_url": "https://avatars.githubusercontent.com/u/22714384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ziinc", "html_url": "https://github.com/Ziinc", "followers_url": "https://api.github.com/users/Ziinc/followers", "following_url": "https://api.github.com/users/Ziinc/following{/other_user}", "gists_url": "https://api.github.com/users/Ziinc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ziinc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ziinc/subscriptions", "organizations_url": "https://api.github.com/users/Ziinc/orgs", "repos_url": "https://api.github.com/users/Ziinc/repos", "events_url": "https://api.github.com/users/Ziinc/events{/privacy}", "received_events_url": "https://api.github.com/users/Ziinc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/5663/reactions", "total_count": 18, "+1": 18, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/5663/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/4758", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/4758/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/4758/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/4758/events", "html_url": "https://github.com/supabase/supabase/issues/4758", "id": 1091892326, "node_id": "I_kwDODMpXOc5BFPRm", "number": 4758, "title": "Logging in with Facebook gives 502 error", "user": {"login": "fabianmossberg", "id": 1999142, "node_id": "MDQ6VXNlcjE5OTkxNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1999142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabianmossberg", "html_url": "https://github.com/fabianmossberg", "followers_url": "https://api.github.com/users/fabianmossberg/followers", "following_url": "https://api.github.com/users/fabianmossberg/following{/other_user}", "gists_url": "https://api.github.com/users/fabianmossberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabianmossberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabianmossberg/subscriptions", "organizations_url": "https://api.github.com/users/fabianmossberg/orgs", "repos_url": "https://api.github.com/users/fabianmossberg/repos", "events_url": "https://api.github.com/users/fabianmossberg/events{/privacy}", "received_events_url": "https://api.github.com/users/fabianmossberg/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1611370750, "node_id": "MDU6TGFiZWwxNjExMzcwNzUw", "url": "https://api.github.com/repos/supabase/supabase/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}, {"id": 4337510417, "node_id": "LA_kwDODMpXOc8AAAABAokoEQ", "url": "https://api.github.com/repos/supabase/supabase/labels/auth", "name": "auth", "color": "0FEE92", "default": false, "description": "All thing Supabase Auth related"}], "state": "closed", "locked": true, "assignees": [], "milestone": null, "comments": 37, "created_at": "2022-01-01T21:04:45Z", "updated_at": "2023-12-19T02:21:28Z", "closed_at": "2022-07-18T03:49:00Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": "resolved", "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\nFacebook login gives 502 error when being set up according to the documentation.\r\n\r\n## Describe the bug\r\n\r\nFollowing the instructions on:\r\nhttps://supabase.com/docs/guides/auth/auth-facebook\r\n\r\nWhen running the following code:\r\n\r\n```js\r\nconst { user, session, error } = await supabase.auth.signIn({\r\n  provider: 'facebook'\r\n})\r\n```\r\n\r\nI get sent to `https://[my-project].supabase.co/auth/v1/authorize?provider=facebook` that gives me 502, bad gateway from Cloudflare.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior, please provide code snippets or a repository:\r\n\r\n1. Create a new Facebook app\r\n2. Enter your Facebook apps ID and Secret to Supabase.\r\n3. Add you supabase, url + `/auth/v1/callback/` as **Valid OAuth Redirect URIs** in your Facebook app.\r\n4. Run the following code\r\n\r\n```js\r\nconst { user, session, error } = await supabase.auth.signIn({\r\n  provider: 'facebook'\r\n})\r\n```\r\n\r\n## Expected behavior\r\n\r\nI would have to accept connecting with Facebook.\r\n\r\n## Screenshots\r\n\r\n<img width=\"901\" alt=\"Screenshot 2022-01-01 at 21 46 08\" src=\"https://user-images.githubusercontent.com/1999142/147859918-7585dc83-92f6-4cb6-9543-aafda3dfaf21.png\">\r\n\r\n\r\n## System information\r\n\r\n- OS: MacOS\r\n- Browser: All\r\n- Version of supabase-js: 1.29.1\r\n- Version of Node.js: 16.13.1", "closed_by": {"login": "J0", "id": 8011761, "node_id": "MDQ6VXNlcjgwMTE3NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8011761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/J0", "html_url": "https://github.com/J0", "followers_url": "https://api.github.com/users/J0/followers", "following_url": "https://api.github.com/users/J0/following{/other_user}", "gists_url": "https://api.github.com/users/J0/gists{/gist_id}", "starred_url": "https://api.github.com/users/J0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/J0/subscriptions", "organizations_url": "https://api.github.com/users/J0/orgs", "repos_url": "https://api.github.com/users/J0/repos", "events_url": "https://api.github.com/users/J0/events{/privacy}", "received_events_url": "https://api.github.com/users/J0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/4758/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/4758/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/33777", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/33777/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/33777/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/33777/events", "html_url": "https://github.com/supabase/supabase/issues/33777", "id": 2869990944, "node_id": "I_kwDODMpXOc6rEJYg", "number": 33777, "title": "AI Assistant doesn't work 401 - self hosted", "user": {"login": "Krobys", "id": 48987746, "node_id": "MDQ6VXNlcjQ4OTg3NzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/48987746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Krobys", "html_url": "https://github.com/Krobys", "followers_url": "https://api.github.com/users/Krobys/followers", "following_url": "https://api.github.com/users/Krobys/following{/other_user}", "gists_url": "https://api.github.com/users/Krobys/gists{/gist_id}", "starred_url": "https://api.github.com/users/Krobys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Krobys/subscriptions", "organizations_url": "https://api.github.com/users/Krobys/orgs", "repos_url": "https://api.github.com/users/Krobys/repos", "events_url": "https://api.github.com/users/Krobys/events{/privacy}", "received_events_url": "https://api.github.com/users/Krobys/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4337906767, "node_id": "LA_kwDODMpXOc8AAAABAo80Tw", "url": "https://api.github.com/repos/supabase/supabase/labels/self-hosted", "name": "self-hosted", "color": "f9d0c4", "default": false, "description": "Related to self-hosted Supabase"}, {"id": 7121346142, "node_id": "LA_kwDODMpXOc8AAAABqHceXg", "url": "https://api.github.com/repos/supabase/supabase/labels/external-issue", "name": "external-issue", "color": "69C922", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 34, "created_at": "2025-02-21T20:55:50Z", "updated_at": "2025-06-21T18:00:06Z", "closed_at": "2025-05-21T14:33:49Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\n\n- [X] I confirm this is a bug with Supabase, not with my own application. \n- [X] I confirm I have searched the [Docs](https://docs.supabase.com), GitHub [Discussions](https://github.com/supabase/supabase/discussions), and [Discord](https://discord.supabase.com). \n\n## Describe the bug\n\nI have configured the OpenAI API key, and the project correctly detects it since the input panel is unlocked, allowing me to enter messages. However, every request to /api/ai/sql/generate-v3 results in a 401 Unauthorized error. Upon inspecting the logs, I noticed that the Authorization header in the request is empty.\n\n## To Reproduce\n\nSet up the OpenAI API key in the environment variables.\nStart the Supabase Studio.\nAttempt to use the AI-powered SQL generation feature.\nObserve that the request to /api/ai/sql/generate-v3 fails with a 401 Unauthorized error.\nCheck the logs and confirm that the Authorization header in the request is missing.\nExpected Behavior:\nThe request should include a valid Authorization header, allowing successful interaction with the OpenAI API.\n\nObserved Behavior:\nThe request to /api/ai/sql/generate-v3 is sent with an empty Authorization header, leading to a 401 Unauthorized response.\nRunning /api/ai/sql/check-api-key confirms that the API key is correctly set and recognized.\nThe issue appears to be specific to /generate-v3, as it does not pick up the key when making the request.\n\n## Expected behavior\nAI Assistant works after configuring OPENAI_API_KEY\n\n## Screenshots\n\n<img width=\"594\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/76bd1122-f664-4117-a009-4352df92a3b6\" />\n\n## Additional context\nI verified that the API key is correctly set inside the supabase-studio container.\nThe issue persists despite multiple attempts to reconfigure the environment.\nI searched for similar issues but couldn\u2019t find a reported case.\nThis appears to be an internal bug within Supabase Studio. Any guidance or fixes would be appreciated.\n\nVersions: \nsupabase-studio \u2192 supabase/studio:20250219-7101314\nsupabase-kong \u2192 kong:2.8.1\nsupabase-auth \u2192 supabase/gotrue:v2.167.0\nsupabase-rest \u2192 postgrest/postgrest:v12.2.0\nsupabase-realtime \u2192 supabase/realtime:v2.34.7\nsupabase-storage \u2192 supabase/storage-api:v1.14.5\nsupabase-imgproxy \u2192 darthsim/imgproxy:v3.8.0\nsupabase-meta \u2192 supabase/postgres-meta:v0.84.2\nsupabase-edge-functions \u2192 supabase/edge-runtime:v1.67.0\nsupabase-analytics \u2192 supabase/logflare:1.4.0\nsupabase-db \u2192 supabase/postgres:15.8.1.020\nsupabase-vector \u2192 timberio/vector:0.28.1-alpine\nsupabase-pooler \u2192 supabase/supavisor:1.1.56", "closed_by": {"login": "alaister", "id": 10985857, "node_id": "MDQ6VXNlcjEwOTg1ODU3", "avatar_url": "https://avatars.githubusercontent.com/u/10985857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alaister", "html_url": "https://github.com/alaister", "followers_url": "https://api.github.com/users/alaister/followers", "following_url": "https://api.github.com/users/alaister/following{/other_user}", "gists_url": "https://api.github.com/users/alaister/gists{/gist_id}", "starred_url": "https://api.github.com/users/alaister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alaister/subscriptions", "organizations_url": "https://api.github.com/users/alaister/orgs", "repos_url": "https://api.github.com/users/alaister/repos", "events_url": "https://api.github.com/users/alaister/events{/privacy}", "received_events_url": "https://api.github.com/users/alaister/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/33777/reactions", "total_count": 14, "+1": 14, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/33777/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/7772", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/7772/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/7772/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/7772/events", "html_url": "https://github.com/supabase/supabase/issues/7772", "id": 1308618115, "node_id": "I_kwDODMpXOc5N_-2D", "number": 7772, "title": "Prisma unable to connect to Supabase database", "user": {"login": "DeviousLab", "id": 53790060, "node_id": "MDQ6VXNlcjUzNzkwMDYw", "avatar_url": "https://avatars.githubusercontent.com/u/53790060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeviousLab", "html_url": "https://github.com/DeviousLab", "followers_url": "https://api.github.com/users/DeviousLab/followers", "following_url": "https://api.github.com/users/DeviousLab/following{/other_user}", "gists_url": "https://api.github.com/users/DeviousLab/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeviousLab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeviousLab/subscriptions", "organizations_url": "https://api.github.com/users/DeviousLab/orgs", "repos_url": "https://api.github.com/users/DeviousLab/repos", "events_url": "https://api.github.com/users/DeviousLab/events{/privacy}", "received_events_url": "https://api.github.com/users/DeviousLab/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1611370750, "node_id": "MDU6TGFiZWwxNjExMzcwNzUw", "url": "https://api.github.com/repos/supabase/supabase/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 34, "created_at": "2022-07-18T20:57:49Z", "updated_at": "2025-02-27T02:17:53Z", "closed_at": "2022-08-08T00:02:28Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n## Describe the bug\r\n\r\nPrisma npx commands and Prisma Studio are unable to connect to the Supabase database. \r\n\r\nRunning `npx prisma migrate dev` yields in the following error message:\r\n```\r\n> npx prisma migrate dev\r\nEnvironment variables loaded from .env\r\nPrisma schema loaded from prisma/schema.prisma\r\nDatasource \"db\": PostgreSQL database \"postgres\", schema \"public\" at \"db.xltfmrlaegzuuopvypxx.supabase.co:5432\"\r\n\r\nError: P1001: Can't reach database server at `db.xltfmrlaegzuuopvypxx.supabase.co`:`5432`\r\n\r\nPlease make sure your database server is running at `db.xltfmrlaegzuuopvypxx.supabase.co`:`5432`.\r\n```\r\nI followed the advice at https://github.com/prisma/prisma/issues/13807 and I was indeed able to migrate an initial db after creating a temporary table. \r\n\r\nBut after running Prisma Studio I am unable to add any entries and once more unable to migrate a database:\r\n \r\n![image](https://user-images.githubusercontent.com/53790060/179614060-173a70b6-55cd-4df7-a610-085d988b445b.png)\r\n```\r\nType: undefined\r\nMessage: \r\nInvalid `prisma.home.create()` invocation:\r\n\r\n\r\n  Can't reach database server at `db.xltfmrlaegzuuopvypxx.supabase.co`:`5432`\r\n\r\nPlease make sure your database server is running at `db.xltfmrlaegzuuopvypxx.supabase.co`:`5432`.\r\n\r\nCode: undefined\r\n\r\nQuery:\r\n[object Object]\r\n```\r\nI made sure that my database password contains no special characters as #4161 discussed. \r\n\r\nUsing psql to connect to the data base shows no issues either and shows the appropriate tables:\r\n```\r\n> psql -h db.xltfmrlaegzuuopvypxx.supabase.co -p 5432 -U postgres -d postgres\r\nPassword for user postgres: \r\npsql (13.4, server 14.1)\r\nWARNING: psql major version 13, server major version 14.\r\n         Some psql features might not work.\r\nSSL connection (protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: 256, compression: off)\r\nType \"help\" for help.\r\n\r\npostgres=> \\c postgres\r\npsql (13.4, server 14.1)\r\nWARNING: psql major version 13, server major version 14.\r\n         Some psql features might not work.\r\nSSL connection (protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: 256, compression: off)\r\nYou are now connected to database \"postgres\" as user \"postgres\".\r\npostgres=> \\dt\r\n               List of relations\r\n Schema |        Name        | Type  |  Owner   \r\n--------+--------------------+-------+----------\r\n public | Home               | table | postgres\r\n public | _prisma_migrations | table | postgres\r\n(2 rows)\r\n```\r\n![image](https://user-images.githubusercontent.com/53790060/179614727-99f38a3a-8d31-4981-8e26-2214a2848315.png)\r\n\r\n\r\n## System information\r\n\r\n- OS: Fedora 35\r\n- Browser: Brave v1.41.96\r\n- Version of Node.js: [16.16.0]\r\n\r\n## Additional context\r\n\r\nPrisma schema:\r\n```\r\n// This is your Prisma schema file,\r\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\r\n\r\ngenerator client {\r\n  provider = \"prisma-client-js\"\r\n}\r\n\r\ndatasource db {\r\n  provider = \"postgresql\"\r\n  url      = env(\"DATABASE_URL\")\r\n}\r\n\r\nmodel Home {\r\n  id          String   @id @default(cuid())\r\n  image       String?\r\n  title       String\r\n  description String\r\n  price       Float\r\n  guests      Int\r\n  beds        Int\r\n  baths       Int\r\n  createdAt   DateTime @default(now())\r\n  updatedAt   DateTime @updatedAt\r\n}\r\n```\r\n", "closed_by": {"login": "burmecia", "id": 19306324, "node_id": "MDQ6VXNlcjE5MzA2MzI0", "avatar_url": "https://avatars.githubusercontent.com/u/19306324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burmecia", "html_url": "https://github.com/burmecia", "followers_url": "https://api.github.com/users/burmecia/followers", "following_url": "https://api.github.com/users/burmecia/following{/other_user}", "gists_url": "https://api.github.com/users/burmecia/gists{/gist_id}", "starred_url": "https://api.github.com/users/burmecia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burmecia/subscriptions", "organizations_url": "https://api.github.com/users/burmecia/orgs", "repos_url": "https://api.github.com/users/burmecia/repos", "events_url": "https://api.github.com/users/burmecia/events{/privacy}", "received_events_url": "https://api.github.com/users/burmecia/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/7772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/7772/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/1693", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/1693/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/1693/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/1693/events", "html_url": "https://github.com/supabase/supabase/issues/1693", "id": 899338604, "node_id": "MDU6SXNzdWU4OTkzMzg2MDQ=", "number": 1693, "title": "React Native .from().select() promise never resolves in release (Expo)", "user": {"login": "He1nr1chK", "id": 17382473, "node_id": "MDQ6VXNlcjE3MzgyNDcz", "avatar_url": "https://avatars.githubusercontent.com/u/17382473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/He1nr1chK", "html_url": "https://github.com/He1nr1chK", "followers_url": "https://api.github.com/users/He1nr1chK/followers", "following_url": "https://api.github.com/users/He1nr1chK/following{/other_user}", "gists_url": "https://api.github.com/users/He1nr1chK/gists{/gist_id}", "starred_url": "https://api.github.com/users/He1nr1chK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/He1nr1chK/subscriptions", "organizations_url": "https://api.github.com/users/He1nr1chK/orgs", "repos_url": "https://api.github.com/users/He1nr1chK/repos", "events_url": "https://api.github.com/users/He1nr1chK/events{/privacy}", "received_events_url": "https://api.github.com/users/He1nr1chK/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 33, "created_at": "2021-05-24T06:53:01Z", "updated_at": "2022-12-02T21:33:42Z", "closed_at": "2021-06-09T11:31:54Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n## Describe the bug\r\n\r\nWhen testing the from().select() function in debug mode in an ejected Expo app the data is returned successfully, however, once you switch to the release variant, nothing is returned. The app does not crash meaning no major errors are being thrown. \r\n\r\n## To Reproduce\r\n\r\n```\r\nconst { data, error } = await supabase\r\n      .from('table')\r\n      .select('*')\r\n      .eq('column', variableToMatch);\r\n```\r\n\r\n## Expected behavior\r\n\r\nThe expected behaviour is that the call will return the requested data from the Supabase table or an error suggesting that something went wrong.\r\n\r\n## System information\r\n\r\n- OS: macOS\r\n- Version of supabase-js: v1.11.12\r\n- Version of Node.js: v14.16.0\r\n- Version of Async Storage: v1.15.4\r\n- Version of Expo: v41.0.0\r\n- Version of React Native: v0.63.4\r\n\r\n## Additional context\r\n\r\nI have been getting these logs: `Error getting session from URL.`, `nw_socket_handle_socket_event [C5:1] Socket SO_ERROR [61: Connection refused]`, `nw_connection_get_connected_socket [C5] Client called nw_connection_get_connected_socket on unconnected nw_connection`, `TCP Conn 0x2806304d0 Failed : error 0:61 [61]`, `SocketRocket: In debug mode. Allowing connection to any root cert` but I am uncertain whether the last four pertain to Supabase. Happens on both Android and iOS.", "closed_by": {"login": "He1nr1chK", "id": 17382473, "node_id": "MDQ6VXNlcjE3MzgyNDcz", "avatar_url": "https://avatars.githubusercontent.com/u/17382473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/He1nr1chK", "html_url": "https://github.com/He1nr1chK", "followers_url": "https://api.github.com/users/He1nr1chK/followers", "following_url": "https://api.github.com/users/He1nr1chK/following{/other_user}", "gists_url": "https://api.github.com/users/He1nr1chK/gists{/gist_id}", "starred_url": "https://api.github.com/users/He1nr1chK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/He1nr1chK/subscriptions", "organizations_url": "https://api.github.com/users/He1nr1chK/orgs", "repos_url": "https://api.github.com/users/He1nr1chK/repos", "events_url": "https://api.github.com/users/He1nr1chK/events{/privacy}", "received_events_url": "https://api.github.com/users/He1nr1chK/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/1693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/1693/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/832", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/832/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/832/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/832/events", "html_url": "https://github.com/supabase/supabase/issues/832", "id": 824175535, "node_id": "MDU6SXNzdWU4MjQxNzU1MzU=", "number": 832, "title": "redirectTo not respected when resetting password", "user": {"login": "Nick-Mazuk", "id": 5659171, "node_id": "MDQ6VXNlcjU2NTkxNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5659171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nick-Mazuk", "html_url": "https://github.com/Nick-Mazuk", "followers_url": "https://api.github.com/users/Nick-Mazuk/followers", "following_url": "https://api.github.com/users/Nick-Mazuk/following{/other_user}", "gists_url": "https://api.github.com/users/Nick-Mazuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nick-Mazuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nick-Mazuk/subscriptions", "organizations_url": "https://api.github.com/users/Nick-Mazuk/orgs", "repos_url": "https://api.github.com/users/Nick-Mazuk/repos", "events_url": "https://api.github.com/users/Nick-Mazuk/events{/privacy}", "received_events_url": "https://api.github.com/users/Nick-Mazuk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 33, "created_at": "2021-03-08T05:18:11Z", "updated_at": "2025-06-25T17:36:14Z", "closed_at": "2021-04-14T09:54:01Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\n## Describe the bug\r\n\r\nWhen sending a password reset email, the `redirectTo` option is ignored. Instead of a user being redirected to a specific place on the site (e.g., the password reset page), users are always redirected to the Site Url as specified in the Authentication Settings on the dashboard.\r\n\r\n## To Reproduce\r\n\r\n1. In the Supabase dashboard, go to Authentication > Settings, Make sure the site url is `https://example.com`\r\n2. Send a password reset email. Make sure to specify the `redirectTo` parameter.\r\n\r\n```js\r\nsupabase.auth.api.resetPasswordForEmail('hello@example.com', {\r\n    redirectTo: `https://example.com/account/set-password`,\r\n})\r\n```\r\n\r\n2. In your email, click on the password reset link\r\n3. Error: you are redirected to `https://example.com`, not `https://example.com/account/set-password`\r\n\r\nI've gotten the same results regardless of whether the `redirectTo` is the same domain as the Site Url in the Authentication Settings on the dashboard.\r\n\r\n## Expected behavior\r\n\r\nAfter clicking the password reset link, users are redirected to the url in the `redirectUrl`.\r\n\r\nIn this case, users are redirected to `https://example.com/account/set-password`\r\n\r\n## Screenshots\r\n\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n## System information\r\n\r\n- OS: macOS 11.2\r\n- Browser: Brave 1.21.73 on Chromium: 89.0.4389.72\r\n- Version of supabase-js: 1.5.0\r\n- Version of Node.js: 12.17.0", "closed_by": {"login": "kiwicopple", "id": 10214025, "node_id": "MDQ6VXNlcjEwMjE0MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/10214025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiwicopple", "html_url": "https://github.com/kiwicopple", "followers_url": "https://api.github.com/users/kiwicopple/followers", "following_url": "https://api.github.com/users/kiwicopple/following{/other_user}", "gists_url": "https://api.github.com/users/kiwicopple/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiwicopple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiwicopple/subscriptions", "organizations_url": "https://api.github.com/users/kiwicopple/orgs", "repos_url": "https://api.github.com/users/kiwicopple/repos", "events_url": "https://api.github.com/users/kiwicopple/events{/privacy}", "received_events_url": "https://api.github.com/users/kiwicopple/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/832/reactions", "total_count": 12, "+1": 12, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/832/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/35136", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/35136/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/35136/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/35136/events", "html_url": "https://github.com/supabase/supabase/issues/35136", "id": 3006325181, "node_id": "I_kwDODMpXOc6zMOG9", "number": 35136, "title": "Project stuck in \"Pausing...\" state indefinitely", "user": {"login": "adilmohak", "id": 60693922, "node_id": "MDQ6VXNlcjYwNjkzOTIy", "avatar_url": "https://avatars.githubusercontent.com/u/60693922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adilmohak", "html_url": "https://github.com/adilmohak", "followers_url": "https://api.github.com/users/adilmohak/followers", "following_url": "https://api.github.com/users/adilmohak/following{/other_user}", "gists_url": "https://api.github.com/users/adilmohak/gists{/gist_id}", "starred_url": "https://api.github.com/users/adilmohak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adilmohak/subscriptions", "organizations_url": "https://api.github.com/users/adilmohak/orgs", "repos_url": "https://api.github.com/users/adilmohak/repos", "events_url": "https://api.github.com/users/adilmohak/events{/privacy}", "received_events_url": "https://api.github.com/users/adilmohak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 6927174153, "node_id": "LA_kwDODMpXOc8AAAABnORKCQ", "url": "https://api.github.com/repos/supabase/supabase/labels/awaiting-details", "name": "awaiting-details", "color": "2F7C19", "default": false, "description": "For issues needing detail from the opener."}, {"id": 7121346142, "node_id": "LA_kwDODMpXOc8AAAABqHceXg", "url": "https://api.github.com/repos/supabase/supabase/labels/external-issue", "name": "external-issue", "color": "69C922", "default": false, "description": ""}, {"id": 7121348254, "node_id": "LA_kwDODMpXOc8AAAABqHcmng", "url": "https://api.github.com/repos/supabase/supabase/labels/to-triage", "name": "to-triage", "color": "E26359", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 32, "created_at": "2025-04-19T09:29:04Z", "updated_at": "2026-02-23T02:03:19Z", "closed_at": "2025-05-20T07:53:54Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\n\n- I confirm this is a bug with Supabase, not with my own application.\n- I confirm I have searched the Docs, GitHub Discussions, and Discord.\n\n## Describe the bug\nWhen manually pausing a Supabase project via the dashboard, the project remains stuck in the \"Pausing...\" state indefinitely. In my case, it's been over a week with no change. This issue seems to affect multiple developers based on community feedback, yet there hasn\u2019t been any official acknowledgement or fix for a long time, some reports dating back over a year.\n\n## To Reproduce\n\n1. Steps to reproduce the behavior:\n2. Go to the Supabase dashboard.\n3. Select a project and choose the option to pause it manually.\n4. Observe the status changing to \"Pausing\u2026\".\n5. Wait indefinitely. The project never fully pauses and remains stuck.\n\n## Expected behavior\nThe project should pause within a reasonable timeframe (a few minutes at most) and reflect a \"Paused\" status on the dashboard. Users should also have the ability to unpause or cancel or manage the project during this time.\n\nScreenshots\nIf needed, I can provide a screenshot of the dashboard showing the \"Pausing\u2026\" state persisting for days.\n\n## System information\n\n- OS: macOS\n- Browser: Chrome\n- Version of supabase-js: N/A (not applicable in this context)\n- Version of Node.js: N/A (not applicable in this context)\n\n## Additional context\nThis issue appears to be longstanding and widely experienced, yet there's little visibility or response from the team. It\u2019s concerning, especially when projects become unmanageable due to being stuck in this state. Would appreciate any insights or at least an acknowledgment that this is being looked into.", "closed_by": {"login": "Hallidayo", "id": 22655069, "node_id": "MDQ6VXNlcjIyNjU1MDY5", "avatar_url": "https://avatars.githubusercontent.com/u/22655069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hallidayo", "html_url": "https://github.com/Hallidayo", "followers_url": "https://api.github.com/users/Hallidayo/followers", "following_url": "https://api.github.com/users/Hallidayo/following{/other_user}", "gists_url": "https://api.github.com/users/Hallidayo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hallidayo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hallidayo/subscriptions", "organizations_url": "https://api.github.com/users/Hallidayo/orgs", "repos_url": "https://api.github.com/users/Hallidayo/repos", "events_url": "https://api.github.com/users/Hallidayo/events{/privacy}", "received_events_url": "https://api.github.com/users/Hallidayo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/35136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/35136/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/supabase/supabase/issues/7293", "repository_url": "https://api.github.com/repos/supabase/supabase", "labels_url": "https://api.github.com/repos/supabase/supabase/issues/7293/labels{/name}", "comments_url": "https://api.github.com/repos/supabase/supabase/issues/7293/comments", "events_url": "https://api.github.com/repos/supabase/supabase/issues/7293/events", "html_url": "https://github.com/supabase/supabase/issues/7293", "id": 1273047534, "node_id": "I_kwDODMpXOc5L4Snu", "number": 7293, "title": "Got an error PGRST102: Error in $: not enough input when inserting the data using supabase js", "user": {"login": "phuochau", "id": 1784243, "node_id": "MDQ6VXNlcjE3ODQyNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1784243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phuochau", "html_url": "https://github.com/phuochau", "followers_url": "https://api.github.com/users/phuochau/followers", "following_url": "https://api.github.com/users/phuochau/following{/other_user}", "gists_url": "https://api.github.com/users/phuochau/gists{/gist_id}", "starred_url": "https://api.github.com/users/phuochau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phuochau/subscriptions", "organizations_url": "https://api.github.com/users/phuochau/orgs", "repos_url": "https://api.github.com/users/phuochau/repos", "events_url": "https://api.github.com/users/phuochau/events{/privacy}", "received_events_url": "https://api.github.com/users/phuochau/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 1611370742, "node_id": "MDU6TGFiZWwxNjExMzcwNzQy", "url": "https://api.github.com/repos/supabase/supabase/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4231707694, "node_id": "LA_kwDODMpXOc78Orwu", "url": "https://api.github.com/repos/supabase/supabase/labels/p2", "name": "p2", "color": "59127F", "default": false, "description": "Priority 2"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 32, "created_at": "2022-06-16T04:50:47Z", "updated_at": "2024-06-27T01:34:33Z", "closed_at": "2022-06-18T00:42:09Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug report\r\n\r\nWe got a 400 error with Postgres error code `PGRST102` and `message: \"Error in $: not enough input\"` for a simple inserting call by using `supabase-js`. But after that, we check the supabase, we can see the new record. \r\n\r\n## To Reproduce\r\n\r\nI have a `simple_test` table which uses to reproduce the bug with the structure below\r\n\r\n```sql\r\ncreate table simple_test (\r\n  id uuid DEFAULT uuid_generate_v4(),\r\n  name varchar(512) not null,\r\n\r\n  primary key (id)\r\n);\r\n```\r\n\r\nIn the next.js site, it uses supabase to insert data\r\n\r\n```js\r\nsupabase.from('simple_test').insert({ name: 'sample' })\r\n```\r\n\r\nAfter that, I use the Network tab in Chrome to see the request, it returns an error:\r\n\r\n```\r\nmessage: \"Error in $: not enough input\"\r\n```\r\n\r\nI tried to set up another supabase project, and the response is the same but including the code `PGRST102`.\r\n\r\nNot sure how to fix this bug because seem it's a simple call. Please help to point to me what I should do, thank you\r\n\r\n## Expected behavior\r\n\r\nThe data was inserted successfully so the response should have an HTTP code should be 200 and include the inserted data.\r\n\r\n## Screenshots\r\n\r\n\r\n## System information\r\n\r\n- OS: macOS 12.4\r\n- Browser: Chrome 102.0.5005.115 \r\n- Version of supabase-js: 1.35.3\r\n- Version of Node.js: 16.14.2\r\n\r\n## Additional context\r\n\r\nThank you so much! \r\n", "closed_by": {"login": "darora", "id": 397622, "node_id": "MDQ6VXNlcjM5NzYyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/397622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darora", "html_url": "https://github.com/darora", "followers_url": "https://api.github.com/users/darora/followers", "following_url": "https://api.github.com/users/darora/following{/other_user}", "gists_url": "https://api.github.com/users/darora/gists{/gist_id}", "starred_url": "https://api.github.com/users/darora/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darora/subscriptions", "organizations_url": "https://api.github.com/users/darora/orgs", "repos_url": "https://api.github.com/users/darora/repos", "events_url": "https://api.github.com/users/darora/events{/privacy}", "received_events_url": "https://api.github.com/users/darora/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/supabase/supabase/issues/7293/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/supabase/supabase/issues/7293/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}