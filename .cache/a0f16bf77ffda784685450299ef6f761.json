{"d": [{"url": "https://api.github.com/repos/weaviate/weaviate/issues/5214", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/5214/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/5214/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/5214/events", "html_url": "https://github.com/weaviate/weaviate/issues/5214", "id": 2375100120, "node_id": "I_kwDOA0hXpc6NkSbY", "number": 5214, "title": "Backup gets stuck and Weaviate as well", "user": {"login": "phlegx", "id": 111506, "node_id": "MDQ6VXNlcjExMTUwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/111506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phlegx", "html_url": "https://github.com/phlegx", "followers_url": "https://api.github.com/users/phlegx/followers", "following_url": "https://api.github.com/users/phlegx/following{/other_user}", "gists_url": "https://api.github.com/users/phlegx/gists{/gist_id}", "starred_url": "https://api.github.com/users/phlegx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phlegx/subscriptions", "organizations_url": "https://api.github.com/users/phlegx/orgs", "repos_url": "https://api.github.com/users/phlegx/repos", "events_url": "https://api.github.com/users/phlegx/events{/privacy}", "received_events_url": "https://api.github.com/users/phlegx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "moogacs", "id": 2805614, "node_id": "MDQ6VXNlcjI4MDU2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2805614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moogacs", "html_url": "https://github.com/moogacs", "followers_url": "https://api.github.com/users/moogacs/followers", "following_url": "https://api.github.com/users/moogacs/following{/other_user}", "gists_url": "https://api.github.com/users/moogacs/gists{/gist_id}", "starred_url": "https://api.github.com/users/moogacs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moogacs/subscriptions", "organizations_url": "https://api.github.com/users/moogacs/orgs", "repos_url": "https://api.github.com/users/moogacs/repos", "events_url": "https://api.github.com/users/moogacs/events{/privacy}", "received_events_url": "https://api.github.com/users/moogacs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 27, "created_at": "2024-06-26T11:38:52Z", "updated_at": "2024-10-22T12:38:50Z", "closed_at": "2024-10-22T12:38:50Z", "assignee": {"login": "moogacs", "id": 2805614, "node_id": "MDQ6VXNlcjI4MDU2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2805614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moogacs", "html_url": "https://github.com/moogacs", "followers_url": "https://api.github.com/users/moogacs/followers", "following_url": "https://api.github.com/users/moogacs/following{/other_user}", "gists_url": "https://api.github.com/users/moogacs/gists{/gist_id}", "starred_url": "https://api.github.com/users/moogacs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moogacs/subscriptions", "organizations_url": "https://api.github.com/users/moogacs/orgs", "repos_url": "https://api.github.com/users/moogacs/repos", "events_url": "https://api.github.com/users/moogacs/events{/privacy}", "received_events_url": "https://api.github.com/users/moogacs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\r\n\r\nInstall Weaviate in version 1.25.5 with latest Helm chart on a bare metal cluster as a single instance and run the backup script below and the weaviate helm settings also see below.\r\n\r\n### What is the expected behavior?\r\n\r\nBackup should not be stuck in state STARTED forever,.\r\n\r\n### What is the actual behavior?\r\n\r\nOn our very small data (roughly 7k objects) in one of our Weaviate test instances, the Backup seems to get stuck for hours. We experience this in a single test instance, as well as also in our cluster test instance.\r\n\r\nAfter starting the backup and noticing that it is never finishing, in Weaviate we get this continuous output, as we check every 10 seconds for the status\r\n\r\n\r\n```\r\n\u2502 2024-06-26T07:54:43.157558168Z weaviate {\"action\":\"backup_status\",\"backend\":\"backup-s3\",\"backup_id\":\"2024-06-26_01-00-14\",\"level\":\" \u2502\r\n\u2502 info\",\"msg\":\"\",\"time\":\"2024-06-26T07:54:43Z\",\"took\":31544}                                                                          \u2502\r\n\u2502 2024-06-26T07:54:53.185646557Z weaviate {\"action\":\"backup_status\",\"backend\":\"backup-s3\",\"backup_id\":\"2024-06-26_01-00-14\",\"level\":\" \u2502\r\n\u2502 info\",\"msg\":\"\",\"time\":\"2024-06-26T07:54:53Z\",\"took\":25112}                                                                          \u2502\r\n\u2502 2024-06-26T07:55:03.224599217Z weaviate {\"action\":\"backup_status\",\"backend\":\"backup-s3\",\"backup_id\":\"2024-06-26_01-00-14\",\"level\":\" \u2502\r\n\u2502 info\",\"msg\":\"\",\"time\":\"2024-06-26T07:55:03Z\",\"took\":23890}                                                                          \u2502\r\n\u2502 2024-06-26T07:55:13.258652773Z weaviate {\"action\":\"backup_status\",\"backend\":\"backup-s3\",\"backup_id\":\"2024-06-26_01-00-14\",\"level\":\" \u2502\r\n\u2502 info\",\"msg\":\"\",\"time\":\"2024-06-26T07:55:13Z\",\"took\":25426}                                                                          \u2502\r\n\u2502 2024-06-26T07:55:23.290172417Z weaviate {\"action\":\"backup_status\",\"backend\":\"backup-s3\",\"backup_id\":\"2024-06-26_01-00-14\",\"level\":\" \u2502\r\n\u2502 info\",\"msg\":\"\",\"time\":\"2024-06-26T07:55:23Z\",\"took\":22835}                                                                          \u2502\r\n\u2502 2024-06-26T07:55:33.332576022Z weaviate {\"action\":\"backup_status\",\"backend\":\"backup-s3\",\"backup_id\":\"2024-06-26_01-00-14\",\"level\":\" \u2502\r\n\u2502 info\",\"msg\":\"\",\"time\":\"2024-06-26T07:55:33Z\",\"took\":25835}\r\n```\r\n\r\nManually checking with curl what the status of the backup is indeed still shows us the Backup is stuck in state STARTED:\r\n\r\n```\r\ncurl --silent --fail --show-error -H 'Content-Type: application/json' -H \"Authorization: Bearer $AUTHENTICATION_APIKEY_ALLOWED_KEYS\r\n\" \"http://weaviate.weaviate.svc.cluster.local/v1/backups/backup-s3/2024-06-26_01-00-14\"\r\n```\r\n\r\n`{\"backend\":\"backup-s3\",\"id\":\"2024-06-26_01-00-14\",\"path\":\"s3://xxxxx-weaviate-backups/staging/2024-06-26_01-00-14\",\"status\":\"STARTED\"}`\r\n\r\nI then stop/delete the kubernetes cronjob resp. job and restart it. The curl command that executes the job then gives back 422 error:\r\n\r\n`curl: (22) The requested URL returned error: 422`\r\n\r\nOn weaviate side in the logs we get this info:\r\n                                                                          \u2502\r\n```\r\n\u2502 2024-06-26T07:57:17.896867926Z weaviate {\"action\":\"try_backup\",\"backend\":\"s3\",\"backup_id\":\"2024-06-26_07-57-12\",\"level\":\"error\",\"ms \u2502\r\n\u2502 g\":\"backup 2024-06-26_01-00-14 already in progress\",\"time\":\"2024-06-26T07:57:17Z\",\"took\":128102813}    \r\n\r\n```\r\n\r\nAfter restarting Weaviate the backup seems to be  again working and it is fast as well (SEEMS NOT TO BE THE CASE IN LATEST 1.25.5, there it gets stuck immediately again). However after some time we see the same behaviour. Then again only a restart of weaviate is helping.\r\n\r\n\r\n\r\n### Supporting information\r\n\r\n\r\nBackup script\r\n\r\n```\r\n    # Prerequisites\r\n    backup_id=$(date +%Y-%m-%d_%H-%M-%S)\r\n    KEEP_BACKUPS_COUNT=\"${KEEP_BACKUPS_COUNT:=10}\"\r\n\r\n    # Backup\r\n    json=$(printf '{ \"id\": \"%s\" }' \"$backup_id\")\r\n\r\n    curl --silent --fail --show-error -X POST \\\r\n        -H 'Content-Type: application/json' \\\r\n        -H \"Authorization: Bearer $API_KEY\" \\\r\n        \"http://weaviate.weaviate.svc.cluster.local/v1/backups/s3\" -d \"$json\"\r\n\r\n    state=\"\"\r\n\r\n    printf \"Waiting for backup to finish\"\r\n    while [[ \"$state\" != \"SUCCESS\" ]]; do\r\n        sleep 10\r\n        printf \".\"\r\n        state=$(curl --silent --fail --show-error -H 'Content-Type: application/json' -H \"Authorization: Bearer $API_KEY\" \"http://weaviate.weaviate.svc.cluster.local/v1/backups/backup-s3/$backup_id\" | jq -r \".status\")\r\n        if [[ \"$state\" == \"FAILED\" ]]; then\r\n            echo \"Backup failed\"\r\n            exit 1\r\n        fi\r\n\r\n    done\r\n    printf \"\\n\"\r\n```\r\n\r\nHelm Config:\r\n\r\n```\r\nbackups:\r\n  s3:\r\n    enabled: true\r\n    envconfig:\r\n      BACKUP_S3_BUCKET: xxxxx-weaviate-backups\r\n      AWS_REGION: eu-central-1\r\n\r\nauthentication:\r\n  anonymous_access:\r\n    enabled: false\r\n  oidc:\r\n    enabled: false\r\n\r\nauthorization:\r\n  admin_list:\r\n    enabled: false\r\n    users:\r\n    %{~ for user in admin_users ~}\r\n    - ${user}\r\n    %{ endfor }\r\n    read_only_users:\r\n    %{~ for user in readonly_users ~}\r\n    - ${user}\r\n    %{ endfor }\r\n\r\n# NOTE: 524288 is default value on Weaviate. Elasticsearch value is 262144\r\n# So for now we can simply set the value to 524288 on both sides.\r\n# Setting this here even if default value is used to make sure it is and known.\r\ninitContainers:\r\n  sysctlInitContainer:\r\n    enabled: true\r\n    sysctVmMaxMapCount: 524288\r\n\r\naffinity:\r\n  nodeAffinity:\r\n    requiredDuringSchedulingIgnoredDuringExecution:\r\n      nodeSelectorTerms:\r\n      - matchExpressions:\r\n        - key: deploy/weaviate\r\n          operator: In\r\n          values:\r\n          - \"true\"\r\n\r\nenv:\r\n  ##########################\r\n  # API Keys with ENV Vars #\r\n  ##########################\r\n  # If using ENV Vars to set up API Keys make sure to have `authentication.apikey` block commented out\r\n  # to avoid any future changes. ENV Vars has priority over the config above `authentication.apikey`.\r\n  # If using `authentication.apikey `the below ENV Vars will be used because they have priority,\r\n  # so comment them out to avoid any future changes.\r\n  # Enables API key authentication. If it is set to 'false' the AUTHENTICATION_APIKEY_ALLOWED_KEYS\r\n  # and AUTHENTICATION_APIKEY_USERS will not have any effect.\r\n  AUTHENTICATION_APIKEY_ENABLED: 'true'\r\n\r\n  # Expose metrics on port 2112 for Prometheus to scrape\r\n  PROMETHEUS_MONITORING_ENABLED: true\r\n\r\n  # List one or more keys, separated by commas. Each key corresponds to a specific user identity below.\r\n  # If you want to use a kubernetes secret for the API Keys comment out this Variable and use the one in `envSecrets` below\r\n  # AUTHENTICATION_APIKEY_ALLOWED_KEYS: 'jane-secret-key,ian-secret-key'  (plain text)\r\n\r\n  # List one or more user identities, separated by commas. You can have only one User for all the keys or one user per key.\r\n  # The User/s can be a simple name or an email, no matter if it exists or not.\r\n  # NOTE: Make sure to add the users to the authorization above overwise they will not be allowed to interact with Weaviate.\r\n  # AUTHENTICATION_APIKEY_USERS: ''\r\n\r\n  LOG_LEVEL: info\r\n\r\nenvSecrets:\r\n  # create a Kubernetes secret with AUTHENTICATION_APIKEY_ALLOWED_KEYS key and its respective value\r\n  # NOTE: set from set block in main.tf\r\n  AUTHENTICATION_APIKEY_ALLOWED_KEYS: weaviate\r\n\r\nservice:\r\n  type: ClusterIP\r\n\r\ngrpcService:\r\n  enabled: false\r\n\r\nresources:\r\n  requests:\r\n    cpu: 1m\r\n    memory: 100Mi\r\n  limits:\r\n    memory: ${memory}Gi\r\n\r\nannotations:\r\n  ad.datadoghq.com/weaviate.checks: |\r\n    {\r\n      \"weaviate\": {\r\n        \"init_config\": {},\r\n        \"instances\": [\r\n          {\r\n            \"openmetrics_endpoint\": \"http://%%host%%:2112/metrics\",\r\n            \"weaviate_api_endpoint\": \"http://%%host%%:8080\",\r\n            \"headers\": {\"Authorization\": \"Bearer ${api_key}\"}\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\n### Server Version\r\n\r\n1.25.5\r\n\r\n### Code of Conduct\r\n\r\n- [X] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "dirkkul", "id": 5353192, "node_id": "MDQ6VXNlcjUzNTMxOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5353192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirkkul", "html_url": "https://github.com/dirkkul", "followers_url": "https://api.github.com/users/dirkkul/followers", "following_url": "https://api.github.com/users/dirkkul/following{/other_user}", "gists_url": "https://api.github.com/users/dirkkul/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirkkul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirkkul/subscriptions", "organizations_url": "https://api.github.com/users/dirkkul/orgs", "repos_url": "https://api.github.com/users/dirkkul/repos", "events_url": "https://api.github.com/users/dirkkul/events{/privacy}", "received_events_url": "https://api.github.com/users/dirkkul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/5214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/5214/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3517", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/3517/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/3517/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/3517/events", "html_url": "https://github.com/weaviate/weaviate/issues/3517", "id": 1888169763, "node_id": "I_kwDOA0hXpc5wiy8j", "number": 3517, "title": "BM25 returns no results in some situations (Original title: BM25/Tokenizer not working properly)", "user": {"login": "netapy", "id": 39877685, "node_id": "MDQ6VXNlcjM5ODc3Njg1", "avatar_url": "https://avatars.githubusercontent.com/u/39877685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/netapy", "html_url": "https://github.com/netapy", "followers_url": "https://api.github.com/users/netapy/followers", "following_url": "https://api.github.com/users/netapy/following{/other_user}", "gists_url": "https://api.github.com/users/netapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/netapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/netapy/subscriptions", "organizations_url": "https://api.github.com/users/netapy/orgs", "repos_url": "https://api.github.com/users/netapy/repos", "events_url": "https://api.github.com/users/netapy/events{/privacy}", "received_events_url": "https://api.github.com/users/netapy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "parkerduckworth", "id": 31421773, "node_id": "MDQ6VXNlcjMxNDIxNzcz", "avatar_url": "https://avatars.githubusercontent.com/u/31421773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parkerduckworth", "html_url": "https://github.com/parkerduckworth", "followers_url": "https://api.github.com/users/parkerduckworth/followers", "following_url": "https://api.github.com/users/parkerduckworth/following{/other_user}", "gists_url": "https://api.github.com/users/parkerduckworth/gists{/gist_id}", "starred_url": "https://api.github.com/users/parkerduckworth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parkerduckworth/subscriptions", "organizations_url": "https://api.github.com/users/parkerduckworth/orgs", "repos_url": "https://api.github.com/users/parkerduckworth/repos", "events_url": "https://api.github.com/users/parkerduckworth/events{/privacy}", "received_events_url": "https://api.github.com/users/parkerduckworth/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 27, "created_at": "2023-09-08T18:53:29Z", "updated_at": "2023-10-03T06:39:47Z", "closed_at": "2023-10-03T06:39:47Z", "assignee": {"login": "parkerduckworth", "id": 31421773, "node_id": "MDQ6VXNlcjMxNDIxNzcz", "avatar_url": "https://avatars.githubusercontent.com/u/31421773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parkerduckworth", "html_url": "https://github.com/parkerduckworth", "followers_url": "https://api.github.com/users/parkerduckworth/followers", "following_url": "https://api.github.com/users/parkerduckworth/following{/other_user}", "gists_url": "https://api.github.com/users/parkerduckworth/gists{/gist_id}", "starred_url": "https://api.github.com/users/parkerduckworth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parkerduckworth/subscriptions", "organizations_url": "https://api.github.com/users/parkerduckworth/orgs", "repos_url": "https://api.github.com/users/parkerduckworth/repos", "events_url": "https://api.github.com/users/parkerduckworth/events{/privacy}", "received_events_url": "https://api.github.com/users/parkerduckworth/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hi \u2013\r\n\r\nI have an **Article** class, which contains many french legal articles.\r\n\r\nHere is the class initiation : \r\n```\r\nclass_obj = {\r\n    \"class\": \"Article\",\r\n    \"description\": \"Articles des diff\u00e9rentes codes de la loi.\",\r\n    \"invertedIndexConfig\": {\r\n        \"stopwords\": {\r\n            \"preset\": \"none\",\r\n            #\"additions\": stopwords_fr\r\n        }\r\n    },\r\n    \"vectorizer\": \"text2vec-transformers\",\r\n    \"properties\": [\r\n        {\r\n            \"name\": \"article_id\",\r\n            \"description\": \"Id unique de l'article.\",\r\n            \"dataType\": [\r\n                \"text\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": False, \r\n        },\r\n        {\r\n            \"name\": \"source\",\r\n            \"description\": \"Titre de la source juridique (code, loi ou ordonnance) contenant l'article.\",\r\n            \"dataType\": [\r\n                \"text\"\r\n            ],\r\n            \"tokenization\": \"lowercase\",\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": True, \r\n        },\r\n        {\r\n            \"name\": \"titre\",\r\n            \"description\": \"Le titre de l'article.\",\r\n            \"dataType\": [\r\n                \"text\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": True, \r\n            \"tokenization\": \"lowercase\"\r\n        },\r\n        {\r\n            \"name\": \"texte\",\r\n            \"description\": \"Le texte de l'article, en html.\",\r\n            \"dataType\": [\r\n                \"text\"\r\n            ],\r\n            \"moduleConfig\": {\r\n                \"text2vec-transformers\": {\r\n                    \"skip\": False,\r\n                    \"vectorizePropertyName\": False\r\n                }\r\n            },\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": True, \r\n        },\r\n        {\r\n            \"name\": \"etat\",\r\n            \"description\": \"Etat de l'article : en vigueur, abrog\u00e9...\",\r\n            \"dataType\": [\r\n                \"text\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": False, \r\n        },\r\n        {\r\n            \"name\": \"path_title\",\r\n            \"description\": \"Chemin dacc\u00e8s \u00e0 l'article\",\r\n            \"dataType\": [\r\n                \"text[]\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": True, \r\n        },\r\n        {\r\n            \"name\": \"ref_textes\",\r\n            \"description\": \"R\u00e9f\u00e9rences avec d'autres textes.\",\r\n            \"dataType\": [\r\n                \"text\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": False, \r\n        },\r\n        {\r\n            \"name\": \"order\",\r\n            \"description\": \"Ordre de l'article dans le code.\",\r\n            \"dataType\": [\r\n                \"int\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": False,\r\n        },\r\n        {\r\n            \"name\": \"date_deb\",\r\n            \"description\": \"Date de d\u00e9but de l'article.\",\r\n            \"dataType\": [\r\n                \"int\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": False,\r\n        },\r\n        {\r\n            \"name\": \"date_fin\",\r\n            \"description\": \"Date de fin de l'article.\",\r\n            \"dataType\": [\r\n                \"int\"\r\n            ],\r\n            \"indexFilterable\": True,\r\n            \"indexSearchable\": False,\r\n        },\r\n    ]\r\n}\r\n\r\nclient.schema.create_class(class_obj)\r\n```\r\n\r\nI want to let my users search for legal articles through their \"titre\" and \"source\" properties, which have been tokenized using `lowercase`.\r\n\r\nHere is an example of an article I'm trying to find :\r\n```\r\n{\r\n    \"article_id\": \"JORFARTI000047663197\",\r\n    \"etat\": \"VIGUEUR\",\r\n    \"path_title\": [\r\n        \"Titre IER : DE LA NATURE DE L'ACTIVIT\u00c9 D'INFLUENCE COMMERCIALE PAR VOIE \u00c9LECTRONIQUE ET DES OBLIGATIONS AFF\u00c9RENTES \u00c0 SON EXERCICE\",\r\n        \"Chapitre III : Dispositions g\u00e9n\u00e9rales relatives \u00e0 l'activit\u00e9 d'agent d'influenceur, aux contrats d'influence commerciale par voie \u00e9lectronique, \u00e0 la responsabilit\u00e9 civile solidaire et \u00e0 l'assurance civile professionnelle\"\r\n    ],\r\n    \"source\": \"LOI n\u00b0 2023-451 du 9 juin 2023 visant \u00e0 encadrer l'influence commerciale et \u00e0 lutter contre les d\u00e9rives des influenceurs sur les r\u00e9seaux sociaux (1)\",\r\n    \"texte\": \".....blablabla....\",\r\n    \"titre\": \"7\"\r\n},\r\n```\r\n\r\nUsing the following query : \r\n```\r\nquery {\r\n    Get {\r\n    Article(\r\n        limit: 5,\r\n        bm25: {\r\n            query: \"LOI 9 juin 2023 visant \u00e0 encadrer l'influence\"\r\n            properties: [\"source^3\", \"titre\"]\r\n        }\r\n        ) {\r\n            article_id\r\n            titre\r\n            path_title\r\n            texte\r\n            source\r\n            _additional {\r\n                score\r\n            }                \r\n        }\r\n    }\r\n}\r\n```\r\n\r\n...gives me the following results : \r\n```\r\n# only printing the \"titre\" and \"source\" in a list\r\n[['2023', 'Code civil'], [\"Annexe 9 \u00e0 l'article A4241-50-2\", 'Code des transports'], [\"Annexe \u00e0 l'article R*351-1, art. 9\", 'Code des ports maritimes'], ['437 \u00e0 614-26', 'Code de commerce (ancien)'], ['L79 \u00e0 L85', 'Code \u00e9lectoral']]\r\n```\r\n\r\n\r\n\r\nAm i missing something ? \r\nIt seems like it should be able to find it because i'm literally copy/pasting the exact source name.\r\nCould it be an issue with the lowercase tokenizer ? \r\n\r\nI'd be happy to provide you with further information if needed.\r\n\r\nThanks in advance.", "closed_by": {"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/3517/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1897", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/1897/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/1897/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/1897/events", "html_url": "https://github.com/weaviate/weaviate/issues/1897", "id": 1194480831, "node_id": "I_kwDOA0hXpc5HMlS_", "number": 1897, "title": "panic: runtime error: slice bounds out of range [:226] with capacity 128", "user": {"login": "illagrenan", "id": 320373, "node_id": "MDQ6VXNlcjMyMDM3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/320373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/illagrenan", "html_url": "https://github.com/illagrenan", "followers_url": "https://api.github.com/users/illagrenan/followers", "following_url": "https://api.github.com/users/illagrenan/following{/other_user}", "gists_url": "https://api.github.com/users/illagrenan/gists{/gist_id}", "starred_url": "https://api.github.com/users/illagrenan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/illagrenan/subscriptions", "organizations_url": "https://api.github.com/users/illagrenan/orgs", "repos_url": "https://api.github.com/users/illagrenan/repos", "events_url": "https://api.github.com/users/illagrenan/events{/privacy}", "received_events_url": "https://api.github.com/users/illagrenan/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 22, "created_at": "2022-04-06T11:34:06Z", "updated_at": "2024-09-03T20:57:42Z", "closed_at": "2022-04-07T09:16:09Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "After upgrading to version 1.12.0 and after several successful GET queries, the container crashes with this error:\r\n\r\n## Log\r\n\r\n```\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_secondary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 151.178128ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1645771599695395300.db\",\"secondary_index_position\":0,\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:37Z\",\"took\":151178128}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 231.699696ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1645771599695395300.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:37Z\",\"took\":231699696}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_secondary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 17.599317ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1647065218321394711.db\",\"secondary_index_position\":0,\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:46Z\",\"took\":17599317}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 15.928598ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1647065218321394711.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:46Z\",\"took\":15928598}\r\n{\"action\":\"hnsw_vector_cache_prefill_level\",\"count\":383665,\"hnsw_level\":0,\"index_id\":\"***_***_v1_oV6sUJRrdRQk\",\"level\":\"debug\",\"msg\":\"prefilled level in vector cache\",\"time\":\"2022-04-06T11:06:47Z\",\"took\":10614323471}\r\n{\"action\":\"hnsw_vector_cache_prefill\",\"count\":450000,\"index_id\":\"***_***_v1_oV6sUJRrdRQk\",\"level\":\"info\",\"limit\":2000000,\"msg\":\"prefilled vector cache\",\"time\":\"2022-04-06T11:06:47Z\",\"took\":10874590650}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_secondary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 5.039284ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1647323966635288876.db\",\"secondary_index_position\":0,\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:47Z\",\"took\":5039284}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.169362ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1647323966635288876.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:47Z\",\"took\":4169362}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_secondary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 21.818\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1647324341156587467.db\",\"secondary_index_position\":0,\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":21818}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 11.78\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/objects/segment-1647324341156587467.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":11780}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 689.402\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_class_id/segment-1647065590169697628.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":689402}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 5.985\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_class_id/segment-1647259451560870008.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":5985}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.242\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_class_id/segment-1647324341158636755.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":2242}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.728\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_class_id/segment-1647065590175686403.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":3728}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 20.436\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_class_id/segment-1647259451561499169.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":20436}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.328\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_class_id/segment-1647324341160666369.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":3328}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 120.256269ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647065590318913885.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":120256269}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.572676ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647259451672328077.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":1572676}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 984.419\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647324341290095454.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":984419}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 117.962954ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647065590475689095.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":117962954}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.350155ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647259451791977670.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":1350155}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 680.167\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647324341425125411.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":680167}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 119.459894ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647065590623482868.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":119459894}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.441782ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647259451897954264.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":1441782}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.04269ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647324341560303808.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":1042690}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 120.078554ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647065590752731945.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":120078554}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.291064ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647259452018129475.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":1291064}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 677.674\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647324341686251861.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":677674}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 881.219\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647065590770665991.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":881219}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 89.501\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647259452019107941.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":89501}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 50.47\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647324341713885678.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":50470}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 143.509\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647065590777451131.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":143509}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 70.927\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647259452041702483.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":70927}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 49.392\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647324341716536936.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":49392}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 883.579\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647065590783513106.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":883579}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 20.754\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647259452042408063.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":20754}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 16.716\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647324341718638185.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":16716}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 33.596\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647065590789275330.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":33596}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 24.988\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647259452043053662.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":24988}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 16.886\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647324341721064275.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":16886}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 601.261\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647065590793773013.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":601261}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.07\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647259452043609671.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":2070}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.784\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property_***/segment-1647324341723414480.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":1784}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.484\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647065590798706165.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":2484}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 11.45\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647259452044209456.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":11450}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 6.333\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property_***/segment-1647324341725566412.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":6333}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 155.175189ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property__id/segment-1647065590954448998.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":155175189}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.445471ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property__id/segment-1647259452168426193.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":2445471}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.827367ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/property__id/segment-1647324341857844933.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:48Z\",\"took\":1827367}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 142.274406ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property__id/segment-1647065591101980309.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":142274406}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.453538ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property__id/segment-1647259452289133786.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":2453538}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.404494ms\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_VFrq4mcLtG0m_lsm/hash_property__id/segment-1647324341991736901.db\",\"shard\":\"VFrq4mcLtG0m\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":1404494}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_secondary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.512\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/objects/segment-1645188247966319301.db\",\"secondary_index_position\":0,\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4512}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.768\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/objects/segment-1645188247966319301.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":1768}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.665\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/property_class_id/segment-1645188247966370725.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4665}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.575\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/hash_property_class_id/segment-1645188247966401341.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4575}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.403\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/property_***/segment-1645188247966432301.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4403}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.699\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/hash_property_***/segment-1645188247966465772.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4699}\r\n{\"action\":\"hnsw_vector_cache_prefill_level\",\"count\":1,\"hnsw_level\":3,\"index_id\":\"***_***_v1_VFrq4mcLtG0m\",\"level\":\"debug\",\"msg\":\"prefilled level in vector cache\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":14134444}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.23\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/property_***/segment-1645188247966497739.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3230}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.53\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/hash_property_***/segment-1645188247966527451.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3530}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.672\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/property_***/segment-1645188247966555401.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":2672}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.547\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/hash_property_***/segment-1645188247966592241.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4547}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.025\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/property_***/segment-1645188247966625728.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3025}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.94\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/hash_property_***/segment-1645188247966656392.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3940}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.592\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/property_***/segment-1645188247966708411.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":2592}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.12\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/hash_property_***/segment-1645188247966736686.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3120}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.104\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/property__id/segment-1645188247966887036.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4104}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.176\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_zOnLKnrAcjHE_lsm/hash_property__id/segment-1645188247966917742.db\",\"shard\":\"zOnLKnrAcjHE\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3176}\r\n{\"action\":\"hnsw_vector_cache_prefill_level\",\"count\":62,\"hnsw_level\":2,\"index_id\":\"***_***_v1_VFrq4mcLtG0m\",\"level\":\"debug\",\"msg\":\"prefilled level in vector cache\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":15617589}\r\n{\"action\":\"hnsw_vector_cache_prefill_level\",\"count\":1,\"hnsw_level\":0,\"index_id\":\"***_***_v1_zOnLKnrAcjHE\",\"level\":\"debug\",\"msg\":\"prefilled level in vector cache\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":912156}\r\n{\"action\":\"hnsw_vector_cache_prefill\",\"count\":50000,\"index_id\":\"***_***_v1_zOnLKnrAcjHE\",\"level\":\"info\",\"limit\":2000000,\"msg\":\"prefilled vector cache\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":992287}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_secondary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.166\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/objects/segment-1645692926113595696.db\",\"secondary_index_position\":0,\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4166}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 1.834\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/objects/segment-1645692926113595696.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":1834}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 13.021\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property_class_id/segment-1645692926113659805.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":13021}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.438\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property_class_id/segment-1645692926113704646.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4438}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 4.167\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property_***/segment-1645692926113734742.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":4167}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.265\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property_***/segment-1645692926113793377.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3265}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.338\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property_***/segment-1645692926113846365.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3338}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.885\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property_***/segment-1645692926113892475.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":2885}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.711\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property_***/segment-1645692926113921927.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":2711}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.03\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property_***/segment-1645692926113960892.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3030}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.256\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property_***/segment-1645692926114009341.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3256}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.163\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property_***/segment-1645692926114057175.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3163}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.676\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property_***/segment-1645692926114108415.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3676}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.677\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property_***/segment-1645692926114155995.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":2677}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.105\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property_***/segment-1645692926114303748.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3105}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 2.967\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property_***/segment-1645692926114341501.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":2967}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.98\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/property__id/segment-1645692926114373102.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3980}\r\n{\"action\":\"lsm_init_disk_segment_build_bloom_filter_primary\",\"class\":\"***_***_v1\",\"index\":\"***_***_v1\",\"level\":\"debug\",\"msg\":\"building bloom filter took 3.358\u00b5s\\n\",\"path\":\"/var/lib/weaviate/***_***_v1_MbWDCEVTP0Uw_lsm/hash_property__id/segment-1645692926114418043.db\",\"shard\":\"MbWDCEVTP0Uw\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":3358}\r\n{\"action\":\"hnsw_vector_cache_prefill_level\",\"count\":1,\"hnsw_level\":0,\"index_id\":\"***_***_v1_MbWDCEVTP0Uw\",\"level\":\"debug\",\"msg\":\"prefilled level in vector cache\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":967623}\r\n{\"action\":\"hnsw_vector_cache_prefill\",\"count\":50000,\"index_id\":\"***_***_v1_MbWDCEVTP0Uw\",\"level\":\"info\",\"limit\":2000000,\"msg\":\"prefilled vector cache\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":1040377}\r\n{\"action\":\"hnsw_vector_cache_prefill_level\",\"count\":3533,\"hnsw_level\":1,\"index_id\":\"***_***_v1_VFrq4mcLtG0m\",\"level\":\"debug\",\"msg\":\"prefilled level in vector cache\",\"time\":\"2022-04-06T11:06:49Z\",\"took\":71957469}\r\n{\"action\":\"startup\",\"level\":\"debug\",\"msg\":\"start initializing modules\",\"time\":\"2022-04-06T11:06:49Z\"}\r\n{\"action\":\"startup\",\"level\":\"debug\",\"msg\":\"finished initializing modules\",\"time\":\"2022-04-06T11:06:49Z\"}\r\n{\"action\":\"graphql_rebuild\",\"level\":\"debug\",\"msg\":\"rebuilding the graphql schema\",\"schema\":{\"Objects\":{\"classes\":[{\"class\":\"***_***_v1\",\"description\":\"*** cz.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_proj3_v1\",\"description\":\"*** sk.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_***_v1\",\"description\":\"*** ro.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_***1_v1\",\"description\":\"*** hu.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_***_v1\",\"description\":\"*** combr.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_***_v1\",\"description\":\"*** pt.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_***_v1\",\"description\":\"*** nl.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_***_v1\",\"description\":\"*** cz.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"},{\"class\":\"***_***_v1\",\"description\":\"*** cz.\",\"invertedIndexConfig\":{\"cleanupIntervalSeconds\":60},\"properties\":[{\"dataType\":[\"int\"],\"name\":\"class_id\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"int\"],\"name\":\"***\"},{\"dataType\":[\"string\"],\"name\":\"***\",\"tokenization\":\"word\"}],\"shardingConfig\":{\"virtualPerPhysical\":128,\"desiredCount\":1,\"actualCount\":1,\"desiredVirtualCount\":128,\"actualVirtualCount\":128,\"key\":\"_id\",\"strategy\":\"hash\",\"function\":\"murmur3\"},\"vectorIndexConfig\":{\"skip\":false,\"cleanupIntervalSeconds\":300,\"maxConnections\":64,\"efConstruction\":128,\"ef\":-1,\"dynamicEfMin\":100,\"dynamicEfMax\":500,\"dynamicEfFactor\":8,\"vectorCacheMaxObjects\":2000000,\"flatSearchCutoff\":40000},\"vectorIndexType\":\"hnsw\",\"vectorizer\":\"none\"}]}},\"time\":\"2022-04-06T11:06:49Z\"}\r\n{\"action\":\"graphql_rebuild\",\"level\":\"debug\",\"msg\":\"successfully rebuild graphql schema\",\"time\":\"2022-04-06T11:06:49Z\"}\r\n{\"action\":\"restapi_management\",\"level\":\"info\",\"msg\":\"Serving weaviate at http://:8080\",\"time\":\"2022-04-06T11:06:49Z\"}\r\n{\"action\":\"hnsw_vector_cache_prefill_level\",\"count\":228051,\"hnsw_level\":0,\"index_id\":\"***_***_v1_VFrq4mcLtG0m\",\"level\":\"debug\",\"msg\":\"prefilled level in vector cache\",\"time\":\"2022-04-06T11:06:52Z\",\"took\":3531471315}\r\n{\"action\":\"hnsw_vector_cache_prefill\",\"count\":275000,\"index_id\":\"***_***_v1_VFrq4mcLtG0m\",\"level\":\"info\",\"limit\":2000000,\"msg\":\"prefilled vector cache\",\"time\":\"2022-04-06T11:06:52Z\",\"took\":3633373030}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:05Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:09Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:11Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:12Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:13Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:14Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:15Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:15Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:16Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:17Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:18Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:18Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:19Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:19Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:20Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:21Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:21Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:22Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:23Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:23Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:24Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:25Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:26Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:27Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:27Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:28Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:29Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:30Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:30Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:31Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:32Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:33Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:33Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:34Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:35Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:35Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:36Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:37Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:38Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:38Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:39Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:39Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:40Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:41Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:41Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:42Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:43Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:43Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:44Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:44Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:45Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\n{\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2022-04-06T11:07:46Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\npanic: runtime error: slice bounds out of range [:226] with capacity 128\r\n\r\ngoroutine 569 [running]:\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*connList).Get(...)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/pools.go:149\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*hnsw).searchLayerByVector(0xc0004baf00, 0xc74424a800, 0x600, 0x600, 0xc71620d340, 0x80, 0x0, 0x0, 0x0, 0x0, ...)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/search.go:117 +0xbd2\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*neighborFinderConnector).doAtLevel(0xc7bdf6bba0, 0x0, 0xc74424a800, 0x600)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/neighbor_connections.go:85 +0xf5\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*neighborFinderConnector).Do(0xc7bdf6bba0, 0x0, 0x600000000000000)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/neighbor_connections.go:68 +0xbc\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*hnsw).findAndConnectNeighbors(0xc0004baf00, 0xc026694000, 0x21f235, 0xc74424a800, 0x600, 0x600, 0x0, 0x3, 0xc301fbc120, 0x0, ...)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/neighbor_connections.go:26 +0xd3\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*hnsw).reassignNeighborsOf(0xc0004baf00, 0xc301fbc120, 0xc048735380, 0x0)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/delete.go:247 +0x4cf\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*hnsw).CleanUpTombstonedNodes(0xc0004baf00, 0xc0488f5620, 0x0)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/delete.go:124 +0x75\r\ngithub.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*hnsw).registerTombstoneCleanup.func1(0xc0004baf00)\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/startup.go:134 +0xda\r\ncreated by github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw.(*hnsw).registerTombstoneCleanup\r\n    /go/src/github.com/semi-technologies/weaviate/adapters/repos/db/vector/hnsw/startup.go:127 +0x53\r\nStream closed EOF for weaviate/weaviate-statefulset-0 (weaviate)\r\n```\r\n\r\n## Schema\r\n\r\n```json\r\n{\r\n\t\"class\": \"***_v1\",\r\n\t\"description\": \"***\",\r\n\t\"invertedIndexConfig\": {\r\n\t\t\"cleanupIntervalSeconds\": 60\r\n\t},\r\n\t\"properties\": [\r\n\t\t{\r\n\t\t\t\"dataType\": [\r\n\t\t\t\t\"int\"\r\n\t\t\t],\r\n\t\t\t\"name\": \"***_id\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"dataType\": [\r\n\t\t\t\t\"int\"\r\n\t\t\t],\r\n\t\t\t\"name\": \"***_id\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"dataType\": [\r\n\t\t\t\t\"int\"\r\n\t\t\t],\r\n\t\t\t\"name\": \"***_id\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"dataType\": [\r\n\t\t\t\t\"int\"\r\n\t\t\t],\r\n\t\t\t\"name\": \"***_id\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"dataType\": [\r\n\t\t\t\t\"int\"\r\n\t\t\t],\r\n\t\t\t\"name\": \"***_id\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"dataType\": [\r\n\t\t\t\t\"int\"\r\n\t\t\t],\r\n\t\t\t\"name\": \"***_id\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"dataType\": [\r\n\t\t\t\t\"string\"\r\n\t\t\t],\r\n\t\t\t\"name\": \"***\"\r\n\t\t}\r\n\t],\r\n\t\"shardingConfig\": {\r\n\t\t\"virtualPerPhysical\": 128,\r\n\t\t\"desiredCount\": 1,\r\n\t\t\"actualCount\": 1,\r\n\t\t\"desiredVirtualCount\": 128,\r\n\t\t\"actualVirtualCount\": 128,\r\n\t\t\"key\": \"_id\",\r\n\t\t\"strategy\": \"hash\",\r\n\t\t\"function\": \"murmur3\"\r\n\t},\r\n\t\"vectorIndexConfig\": {\r\n\t\t\"skip\": false,\r\n\t\t\"cleanupIntervalSeconds\": 300,\r\n\t\t\"maxConnections\": 64,\r\n\t\t\"efConstruction\": 128,\r\n\t\t\"ef\": -1,\r\n\t\t\"dynamicEfMin\": 100,\r\n\t\t\"dynamicEfMax\": 500,\r\n\t\t\"dynamicEfFactor\": 8,\r\n\t\t\"vectorCacheMaxObjects\": 2000000,\r\n\t\t\"flatSearchCutoff\": 40000\r\n\t},\r\n\t\"vectorIndexType\": \"hnsw\",\r\n\t\"vectorizer\": \"none\"\r\n}\r\n```\r\n\r\n## Configuration\r\n\r\n```\r\nAUTHENTICATION_ANONYMOUS_ACCESS_ENABLED: \"true\"\r\nPERSISTENCE_DATA_PATH: \"/var/lib/weaviate\"\r\nDEFAULT_VECTORIZER_MODULE: \"none\"\r\nENABLE_MODULES: \"\"\r\nLOG_LEVEL: \"debug\"\r\nAUTOSCHEMA_ENABLED: \"false\"\r\n```\r\n\r\n## System info\r\n\r\n* EC2 instance: `r5b.2xlarge` with 128 GiB EBS disk\r\n* Environment: Kubernetes and standard Docker image from https://registry.hub.docker.com/r/semitechnologies/weaviate\r\n* Size of `/var/lib/weaviate` is ~40 GiB\r\n", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/1897/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/742", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/742/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/742/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/742/events", "html_url": "https://github.com/weaviate/weaviate/issues/742", "id": 415184356, "node_id": "MDU6SXNzdWU0MTUxODQzNTY=", "number": 742, "title": "Docker-compose DB fails: \"Could not create SSTable component\"", "user": {"login": "bobvanluijt", "id": 5509162, "node_id": "MDQ6VXNlcjU1MDkxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5509162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobvanluijt", "html_url": "https://github.com/bobvanluijt", "followers_url": "https://api.github.com/users/bobvanluijt/followers", "following_url": "https://api.github.com/users/bobvanluijt/following{/other_user}", "gists_url": "https://api.github.com/users/bobvanluijt/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobvanluijt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobvanluijt/subscriptions", "organizations_url": "https://api.github.com/users/bobvanluijt/orgs", "repos_url": "https://api.github.com/users/bobvanluijt/repos", "events_url": "https://api.github.com/users/bobvanluijt/events{/privacy}", "received_events_url": "https://api.github.com/users/bobvanluijt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1095557412, "node_id": "MDU6TGFiZWwxMDk1NTU3NDEy", "url": "https://api.github.com/repos/weaviate/weaviate/labels/docker", "name": "docker", "color": "cff981", "default": false, "description": "All things Docker"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 18, "created_at": "2019-02-27T15:32:55Z", "updated_at": "2019-04-29T15:01:09Z", "closed_at": "2019-02-27T17:23:42Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Weaviate doesn't start with Docker-compose and keeps in a failing loop;\r\n\r\n```bash\r\ndb_1        | ERROR 2019-02-27 15:30:53,471 [shard 0] sstable - Could not create SSTable component /var/lib/scylla/\r\ndata/system_schema/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-114-TOC.txt.tmp. Found exc\r\neption: std::system_error (error system:2, No such file or directory)\r\ndb_1        | ERROR 2019-02-27 15:30:53,471 [shard 0] database - failed to write sstable /var/lib/scylla/data/syste\r\nm_schema/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-114-Data.db: std::system_error (erro\r\nr system:2, No such file or directory)\r\ndb_1        | WARN  2019-02-27 15:30:53,471 [shard 0] sstable - Unable to delete /var/lib/scylla/data/system_schema\r\n/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-114-TOC.txt because it doesn't exist.\r\ndb_1        | ERROR 2019-02-27 15:31:03,471 [shard 0] sstable - Could not create SSTable component /var/lib/scylla/\r\ndata/system_schema/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-116-TOC.txt.tmp. Found exc\r\neption: std::system_error (error system:2, No such file or directory)\r\ndb_1        | ERROR 2019-02-27 15:31:03,472 [shard 0] database - failed to write sstable /var/lib/scylla/data/syste\r\nm_schema/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-116-Data.db: std::system_error (erro\r\nr system:2, No such file or directory)\r\ndb_1        | WARN  2019-02-27 15:31:03,472 [shard 0] sstable - Unable to delete /var/lib/scylla/data/system_schema\r\n/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-116-TOC.txt because it doesn't exist.\r\ndb_1        | ERROR 2019-02-27 15:31:13,472 [shard 0] sstable - Could not create SSTable component /var/lib/scylla/\r\ndata/system_schema/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-118-TOC.txt.tmp. Found exc\r\neption: std::system_error (error system:2, No such file or directory)\r\ndb_1        | ERROR 2019-02-27 15:31:13,510 [shard 0] database - failed to write sstable /var/lib/scylla/data/syste\r\nm_schema/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-118-Data.db: std::system_error (erro\r\nr system:2, No such file or directory)\r\ndb_1        | WARN  2019-02-27 15:31:13,510 [shard 0] sstable - Unable to delete /var/lib/scylla/data/system_schema\r\n/keyspaces-abac5682dea631c5b535b3d6cffd0fb6/system_schema-keyspaces-ka-118-TOC.txt because it doesn't exist.\r\n```", "closed_by": {"login": "bobvanluijt", "id": 5509162, "node_id": "MDQ6VXNlcjU1MDkxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5509162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobvanluijt", "html_url": "https://github.com/bobvanluijt", "followers_url": "https://api.github.com/users/bobvanluijt/followers", "following_url": "https://api.github.com/users/bobvanluijt/following{/other_user}", "gists_url": "https://api.github.com/users/bobvanluijt/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobvanluijt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobvanluijt/subscriptions", "organizations_url": "https://api.github.com/users/bobvanluijt/orgs", "repos_url": "https://api.github.com/users/bobvanluijt/repos", "events_url": "https://api.github.com/users/bobvanluijt/events{/privacy}", "received_events_url": "https://api.github.com/users/bobvanluijt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/742/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/2539", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/2539/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/2539/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/2539/events", "html_url": "https://github.com/weaviate/weaviate/issues/2539", "id": 1536349208, "node_id": "I_kwDOA0hXpc5bktQY", "number": 2539, "title": "Crash with many objects with geoCoordinates props: \"panic: runtime error: makeslice: len out of range\"", "user": {"login": "klibro", "id": 122679403, "node_id": "U_kgDOB0_waw", "avatar_url": "https://avatars.githubusercontent.com/u/122679403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klibro", "html_url": "https://github.com/klibro", "followers_url": "https://api.github.com/users/klibro/followers", "following_url": "https://api.github.com/users/klibro/following{/other_user}", "gists_url": "https://api.github.com/users/klibro/gists{/gist_id}", "starred_url": "https://api.github.com/users/klibro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klibro/subscriptions", "organizations_url": "https://api.github.com/users/klibro/orgs", "repos_url": "https://api.github.com/users/klibro/repos", "events_url": "https://api.github.com/users/klibro/events{/privacy}", "received_events_url": "https://api.github.com/users/klibro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 17, "created_at": "2023-01-17T13:05:38Z", "updated_at": "2023-01-30T09:23:29Z", "closed_at": "2023-01-30T09:23:29Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I have had an issue where the weaviate server crashes (and is unable to recover) when I attempt an import of a postcode file that is publicly accessible at https://www.getthedata.com/open-postcode-geo\r\n\r\nOn my system, their error occurs after around 88,000 records have been processed, but this varies. I have had it work fine once (when my docker volume wasn't mapped) and it has failed twice (when my volume was mapped).\r\n\r\nI attach the Jupyter notebook which contains the schema definition and file import code.\r\n[PopulatePostcodes.ipynb.zip](https://github.com/semi-technologies/weaviate/files/10435263/PopulatePostcodes.ipynb.zip)\r\n", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/2539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/2539/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1686", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/1686/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/1686/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/1686/events", "html_url": "https://github.com/weaviate/weaviate/issues/1686", "id": 1000343726, "node_id": "I_kwDOA0hXpc47oAiu", "number": 1686, "title": "Aggregation on array data type?", "user": {"login": "eostis", "id": 1785759, "node_id": "MDQ6VXNlcjE3ODU3NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1785759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eostis", "html_url": "https://github.com/eostis", "followers_url": "https://api.github.com/users/eostis/followers", "following_url": "https://api.github.com/users/eostis/following{/other_user}", "gists_url": "https://api.github.com/users/eostis/gists{/gist_id}", "starred_url": "https://api.github.com/users/eostis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eostis/subscriptions", "organizations_url": "https://api.github.com/users/eostis/orgs", "repos_url": "https://api.github.com/users/eostis/repos", "events_url": "https://api.github.com/users/eostis/events{/privacy}", "received_events_url": "https://api.github.com/users/eostis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2021-09-19T15:28:42Z", "updated_at": "2021-09-27T14:23:47Z", "closed_at": "2021-09-27T06:06:49Z", "assignee": {"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hi,\r\n\r\nIs it possible to aggregate on array data type?\r\n\r\nThe Query:\r\n```\r\n{\r\n  Get {\r\n    Weaviate {\r\n      categories\r\n    }\r\n  }\r\n  Aggregate {\r\n    Weaviate(groupBy: [\"categories\"]) {\r\n      meta {\r\n        count\r\n      }\r\n      groupedBy {\r\n        value\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe result:\r\n`{\r\n  \"data\": {\r\n    \"Aggregate\": {\r\n      \"Weaviate\": null\r\n    },\r\n    \"Get\": {\r\n      \"Weaviate\": [\r\n        {\r\n          \"categories\": null\r\n        },\r\n        {\r\n          \"categories\": null\r\n        },\r\n        {\r\n          \"categories\": null\r\n        },\r\n        {\r\n          \"categories\": [\r\n            \"category with () ' \\\"\\\" &amp; @\",\r\n            \"Uncategorized\"\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"locations\": [\r\n        {\r\n          \"column\": 5,\r\n          \"line\": 11\r\n        }\r\n      ],\r\n      \"message\": \"runtime error: hash of unhashable type []string\",\r\n      \"path\": [\r\n        \"Aggregate\",\r\n        \"Weaviate\"\r\n      ]\r\n    }\r\n  ]\r\n}`", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/1686/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3940", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/3940/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/3940/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/3940/events", "html_url": "https://github.com/weaviate/weaviate/issues/3940", "id": 2050904858, "node_id": "I_kwDOA0hXpc56PlMa", "number": 3940, "title": "AWS Bedrock Embedding doesn't work", "user": {"login": "kobrinartem", "id": 2949806, "node_id": "MDQ6VXNlcjI5NDk4MDY=", "avatar_url": "https://avatars.githubusercontent.com/u/2949806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kobrinartem", "html_url": "https://github.com/kobrinartem", "followers_url": "https://api.github.com/users/kobrinartem/followers", "following_url": "https://api.github.com/users/kobrinartem/following{/other_user}", "gists_url": "https://api.github.com/users/kobrinartem/gists{/gist_id}", "starred_url": "https://api.github.com/users/kobrinartem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kobrinartem/subscriptions", "organizations_url": "https://api.github.com/users/kobrinartem/orgs", "repos_url": "https://api.github.com/users/kobrinartem/repos", "events_url": "https://api.github.com/users/kobrinartem/events{/privacy}", "received_events_url": "https://api.github.com/users/kobrinartem/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2023-12-20T16:31:40Z", "updated_at": "2024-05-10T10:45:31Z", "closed_at": "2024-05-10T10:45:30Z", "assignee": {"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\r\n\r\n# Run weaviate through docker compose:\r\n---\r\nversion: '3.4'\r\nservices:\r\n  weaviate:\r\n    command:\r\n    - --host\r\n    - 0.0.0.0\r\n    - --port\r\n    - '8080'\r\n    - --scheme\r\n    - http\r\n    image: semitechnologies/weaviate:1.23.0\r\n    ports:\r\n    - 8080:8080\r\n    - 50051:50051\r\n    volumes:\r\n    - ./weaviate_data:/var/lib/weaviate\r\n    restart: on-failure:0\r\n    environment:\r\n      QUERY_DEFAULTS_LIMIT: 25\r\n      AUTHENTICATION_APIKEY_ENABLED: 'true'\r\n      PERSISTENCE_DATA_PATH: '/var/lib/weaviate'\r\n      DEFAULT_VECTORIZER_MODULE: 'text2vec-aws'\r\n      ENABLE_MODULES: 'text2vec-aws'\r\n      CLUSTER_HOSTNAME: 'node1'\r\n\r\nThen run python code\r\nimport weaviate\r\n\r\nclient = weaviate.Client(\r\n    url = \"http://127.0.0.1:8080\",  # Replace with your endpoint\r\n    auth_client_secret=...# Replace w/ your Weaviate instance API key\r\n    additional_headers={\r\n        \"X-AWS-Access-Key\": \"....\",\r\n        \"X-AWS-Secret-Key\": \"....\",\r\n    }\r\n)\r\n\r\n# create schema\r\nclass_obj = {\r\n    \"class\": \"Article\",\r\n    \"description\": \"A class called document\",\r\n    \"vectorizer\": \"text2vec-aws\",\r\n    \"vectorIndexConfig\": {\r\n    \"distance\": \"cosine\"\r\n    },\r\n    \"moduleConfig\": {\r\n        \"text2vec-aws\": {\r\n            \"model\": \"amazon.titan-embed-text-v1\",\r\n            \"region\": \"eu-central-1\",\r\n            \"vectorizeClassName\": False,\r\n        }\r\n    },\r\n    \"properties\": [\r\n        {\r\n        \"name\": \"title\",\r\n        \"dataType\": [\r\n            \"text\"\r\n        ]\r\n        },\r\n        {\r\n        \"name\": \"body\",\r\n        \"dataType\": [\r\n            \"text\"\r\n        ]\r\n        },\r\n    ]\r\n}\r\n\r\nclient.schema.create_class(class_obj) \r\n\r\n# add data\r\nclient.data_object.create(\r\n        class_name=\"Article\",\r\n        data_object={\r\n                    \"title\": \"test\",\r\n                    \"body\": \"test\",\r\n                }\r\n    )\r\n\r\n### What is the expected behavior?\r\n\r\nIt should process the data with AWS Bedrock\r\n\r\nMy assumption that we use wrong url:\r\nPOST https://bedrock-runtime.us-east-1.amazonaws.com/model/amazon.titan-text-express-v1/invoke\r\n\r\n-H accept: */*  \r\n-H content-type: application/json\r\n\r\nPayload\r\n{\"inputText\": \"Hello world\"} \r\n\r\n### What is the actual behavior?\r\n\r\nI got the error:\r\n\r\nrag-weaviate-weaviate-1  | {\"action\":\"requests_total\",\"api\":\"rest\",\"class_name\":\"Article\",\"error\":\"update vector: send POST request: send POST request: Post \\\"https://bedrock.eu-central-1.amazonaws.com/model/amazon.titan-embed-text-v1/invoke\\\": context canceled\",\"level\":\"error\",\"msg\":\"unexpected error\",\"query_type\":\"objects\",\"time\":\"2023-12-20T16:14:12Z\"}\r\nrag-weaviate-weaviate-1  | {\"action\":\"read_disk_use\",\"level\":\"warning\",\"msg\":\"disk usage currently at 85.44%, threshold set to 80.00%\",\"path\":\"/var/lib/weaviate\",\"time\":\"2023-12-20T16:22:25Z\"}\r\n\r\n### Supporting information\r\n\r\nhttps://docs.aws.amazon.com/bedrock/latest/APIReference/API_runtime_InvokeModel.html\r\n\r\n### Server Version\r\n\r\n1.23.0\r\n\r\n### Code of Conduct\r\n\r\n- [X] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/3940/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1443", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/1443/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/1443/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/1443/events", "html_url": "https://github.com/weaviate/weaviate/issues/1443", "id": 797665140, "node_id": "MDU6SXNzdWU3OTc2NjUxNDA=", "number": 1443, "title": "documentationHref for text2vec-contextionary is incorrect", "user": {"login": "bobvanluijt", "id": 5509162, "node_id": "MDQ6VXNlcjU1MDkxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5509162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobvanluijt", "html_url": "https://github.com/bobvanluijt", "followers_url": "https://api.github.com/users/bobvanluijt/followers", "following_url": "https://api.github.com/users/bobvanluijt/following{/other_user}", "gists_url": "https://api.github.com/users/bobvanluijt/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobvanluijt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobvanluijt/subscriptions", "organizations_url": "https://api.github.com/users/bobvanluijt/orgs", "repos_url": "https://api.github.com/users/bobvanluijt/repos", "events_url": "https://api.github.com/users/bobvanluijt/events{/privacy}", "received_events_url": "https://api.github.com/users/bobvanluijt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1912604687, "node_id": "MDU6TGFiZWwxOTEyNjA0Njg3", "url": "https://api.github.com/repos/weaviate/weaviate/labels/good-first-issue", "name": "good-first-issue", "color": "87f2cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-01-31T09:22:25Z", "updated_at": "2022-12-23T10:25:55Z", "closed_at": "2022-12-23T10:25:55Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "```\r\n{\r\ndocumentationHref: \"https://www.semi.technology/documentation/weaviate/current/features/adding-synonyms.html\",\r\nhref: \"/v1/modules/text2vec-contextionary/concepts/:concept\",\r\nname: \"search contextionary for concepts (part of the text2vec-contextionary module)\"\r\n},\r\n{\r\ndocumentationHref: \"https://www.semi.technology/documentation/weaviate/current/features/adding-synonyms.html\",\r\nhref: \"/v1/modules/text2vec-contextionary/extensions\",\r\nname: \"extend contextionary with custom extensions (part of the text2vec-contextionary module)\"\r\n}\r\n```\r\n\r\nleads to the wrong URL", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/1443/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/5362", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/5362/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/5362/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/5362/events", "html_url": "https://github.com/weaviate/weaviate/issues/5362", "id": 2410670096, "node_id": "I_kwDOA0hXpc6Pr-gQ", "number": 5362, "title": "\"could not open cloud meta store\" error during Weaviate Startup using one node", "user": {"login": "andrewisplinghoff", "id": 105166, "node_id": "MDQ6VXNlcjEwNTE2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewisplinghoff", "html_url": "https://github.com/andrewisplinghoff", "followers_url": "https://api.github.com/users/andrewisplinghoff/followers", "following_url": "https://api.github.com/users/andrewisplinghoff/following{/other_user}", "gists_url": "https://api.github.com/users/andrewisplinghoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewisplinghoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewisplinghoff/subscriptions", "organizations_url": "https://api.github.com/users/andrewisplinghoff/orgs", "repos_url": "https://api.github.com/users/andrewisplinghoff/repos", "events_url": "https://api.github.com/users/andrewisplinghoff/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewisplinghoff/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2024-07-16T09:30:26Z", "updated_at": "2024-10-16T14:00:47Z", "closed_at": "2024-08-22T15:19:28Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\r\n\r\nExact way of reproduction is unclear unfortunately. I have the impression that you need some amount of data in the database for this to occur, in our case 1-2M objects / 15 GB.\r\n\r\nIn general this error happens during startup of Weaviate, but not always (race condition?), and we had the impression that the error happened more often as we added more data to the database.\r\n\r\nServer Setup Information\r\n- Weaviate Server Version: 1.25.7\r\n- Deployment Method: k8s using Helm\r\n- Multi Node? Number of Running Nodes: 1\r\n- Multitenancy?: no\r\n\r\n### What is the expected behavior?\r\n\r\nWeaviate should start up without errors. When using only one node, I would Weaviate not expect to try to find other nodes (RAFT_BOOTSTRAP_EXPECT is set to 1)\r\n\r\n### What is the actual behavior?\r\n\r\nWeaviate startup fails sometimes with the error message \"could not open cloud meta store\" and seemingly is unsuccessfully trying to find other nodes.\r\n\r\nBootstrap related logs:\r\n```\r\n{\"action\":\"bootstrap\",\"error\":\"could not join a cluster from [10.130.37.168:8300]\",\"level\":\"warning\",\"msg\":\"failed to join cluster, will notify next if voter\",\"servers\":[\"10.130.37.168:8300\"],\"time\":\"2024-07-01T11:06:49Z\",\"voter\":true}\r\n{\"action\":\"bootstrap\",\"candidates\":[{\"Suffrage\":0,\"ID\":\"weaviate-0\",\"Address\":\"10.130.37.168:8300\"}],\"level\":\"info\",\"msg\":\"starting cluster bootstrapping\",\"time\":\"2024-07-01T11:06:49Z\"}\r\n{\"action\":\"bootstrap\",\"error\":\"bootstrap only works on new clusters\",\"level\":\"error\",\"msg\":\"could not bootstrapping cluster\",\"time\":\"2024-07-01T11:06:49Z\"}\r\n{\"action\":\"bootstrap\",\"level\":\"info\",\"msg\":\"notified peers this node is ready to join as voter\",\"servers\":[\"10.130.37.168:8300\"],\"time\":\"2024-07-01T11:06:49Z\"}\r\n{\"action\":\"bootstrap\",\"error\":\"could not join a cluster from [10.130.37.168:8300]\",\"level\":\"warning\",\"msg\":\"failed to join cluster, will notify next if voter\",\"servers\":[\"10.130.37.168:8300\"],\"time\":\"2024-07-01T11:08:18Z\",\"voter\":true}\r\n{\"action\":\"bootstrap\",\"error\":\"rpc error: code = DeadlineExceeded desc = context deadline exceeded\",\"level\":\"error\",\"msg\":\"notify all peers\",\"servers\":[\"10.130.37.168:8300\"],\"time\":\"2024-07-01T11:08:18Z\"}\r\n{\"action\":\"startup\",\"error\":\"bootstrap: context deadline exceeded\",\"level\":\"fatal\",\"msg\":\"could not open cloud meta store\",\"time\":\"2024-07-01T11:08:18Z\"}\r\n```\r\n\r\n### Supporting information\r\n\r\nEnvironment variables of the StatefulSet:\r\n\r\n```\r\n- name: AUTHENTICATION_APIKEY_ENABLED\r\n  value: 'true'\r\n- name: AUTHENTICATION_APIKEY_USERS\r\n  value: 'api-key-user-readOnly,api-key-user-admin'\r\n- name: AUTHORIZATION_ADMINLIST_ENABLED\r\n  value: 'true'\r\n- name: AUTHORIZATION_ADMINLIST_READONLY_USERS\r\n  value: api-key-user-readOnly\r\n- name: AUTHORIZATION_ADMINLIST_USERS\r\n  value: api-key-user-admin\r\n- name: AUTOSCHEMA_ENABLED\r\n  value: 'false'\r\n- name: CLUSTER_DATA_BIND_PORT\r\n  value: '7001'\r\n- name: CLUSTER_GOSSIP_BIND_PORT\r\n  value: '7000'\r\n- name: DISABLE_TELEMETRY\r\n  value: 'true'\r\n- name: GOGC\r\n  value: '100'\r\n- name: LIMIT_RESOURCES\r\n  value: 'true'\r\n- name: LOG_LEVEL\r\n  value: debug\r\n- name: PROMETHEUS_MONITORING_ENABLED\r\n  value: 'true'\r\n- name: PROMETHEUS_MONITORING_GROUP\r\n  value: 'false'\r\n- name: PROMETHEUS_MONITORING_PORT\r\n  value: '9091'\r\n- name: QUERY_MAXIMUM_RESULTS\r\n  value: '100000'\r\n- name: REINDEX_VECTOR_DIMENSIONS_AT_STARTUP\r\n  value: 'false'\r\n- name: TIKTOKEN_CACHE_DIR\r\n  value: /weaviate-backups/tiktoken_cache\r\n- name: TRACK_VECTOR_DIMENSIONS\r\n  value: 'false'\r\n- name: AUTHENTICATION_APIKEY_ALLOWED_KEYS\r\n  valueFrom:\r\n    secretKeyRef:\r\n      name: weaviate-api-keys\r\n      key: AUTHENTICATION_APIKEY_ALLOWED_KEYS\r\n- name: CLUSTER_BASIC_AUTH_USERNAME\r\n  valueFrom:\r\n    secretKeyRef:\r\n      name: weaviate-cluster-api-basic-auth\r\n      key: username\r\n- name: CLUSTER_BASIC_AUTH_PASSWORD\r\n  valueFrom:\r\n    secretKeyRef:\r\n      name: weaviate-cluster-api-basic-auth\r\n      key: password\r\n- name: STANDALONE_MODE\r\n  value: 'true'\r\n- name: PERSISTENCE_DATA_PATH\r\n  value: /var/lib/weaviate\r\n- name: DEFAULT_VECTORIZER_MODULE\r\n  value: none\r\n- name: ENABLE_MODULES\r\n  value: 'text2vec-openai,backup-filesystem'\r\n```\r\n\r\n### Server Version\r\n\r\n1.25.7\r\n\r\n### Code of Conduct\r\n\r\n- [X] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "moogacs", "id": 2805614, "node_id": "MDQ6VXNlcjI4MDU2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2805614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moogacs", "html_url": "https://github.com/moogacs", "followers_url": "https://api.github.com/users/moogacs/followers", "following_url": "https://api.github.com/users/moogacs/following{/other_user}", "gists_url": "https://api.github.com/users/moogacs/gists{/gist_id}", "starred_url": "https://api.github.com/users/moogacs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moogacs/subscriptions", "organizations_url": "https://api.github.com/users/moogacs/orgs", "repos_url": "https://api.github.com/users/moogacs/repos", "events_url": "https://api.github.com/users/moogacs/events{/privacy}", "received_events_url": "https://api.github.com/users/moogacs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/5362/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/5362/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/4125", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/4125/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/4125/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/4125/events", "html_url": "https://github.com/weaviate/weaviate/issues/4125", "id": 2114886651, "node_id": "I_kwDOA0hXpc5-Dpv7", "number": 4125, "title": "BM25 Index Corruption / BM25 not crash-resistant", "user": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2024-02-02T13:05:00Z", "updated_at": "2024-09-13T13:33:25Z", "closed_at": "2024-09-13T13:33:25Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\n\nNot known yet - working on reproduction. Few independent sightings\n\n### What is the expected behavior?\n\nBM25 index is crash-resistant\n\n### What is the actual behavior?\n\nUsers occasionally see panics like the following:\r\n\r\n```\r\npanic: runtime error: index out of range [16] with length 16\r\n\r\ngoroutine 50113 [running]:\r\ngithub.com/weaviate/weaviate/adapters/repos/db/inverted.(*BM25Searcher).createTerm(0xc09dd078c0, 0x413b3f1f00000000, {0x0, 0x0}, {0xc002f08edd, 0xe}, {0xc002a2ef00, 0xe, 0x10?}, 0xc03bb94fc0?, ...)\r\n\t/go/src/github.com/weaviate/weaviate/adapters/repos/db/inverted/bm25_searcher.go:431 +0x126e\r\ngithub.com/weaviate/weaviate/adapters/repos/db/inverted.(*BM25Searcher).wand.func1()\r\n```\n\n### Supporting information\n\nWe are aware and investigating. If you have a reliable way to reproduce this (from scratch), please do let us know.\n\n### Server Version\n\nSpotted on 1.22.x and 1.23.x\n\n### Code of Conduct\n\n- [X] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "dirkkul", "id": 5353192, "node_id": "MDQ6VXNlcjUzNTMxOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5353192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirkkul", "html_url": "https://github.com/dirkkul", "followers_url": "https://api.github.com/users/dirkkul/followers", "following_url": "https://api.github.com/users/dirkkul/following{/other_user}", "gists_url": "https://api.github.com/users/dirkkul/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirkkul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirkkul/subscriptions", "organizations_url": "https://api.github.com/users/dirkkul/orgs", "repos_url": "https://api.github.com/users/dirkkul/repos", "events_url": "https://api.github.com/users/dirkkul/events{/privacy}", "received_events_url": "https://api.github.com/users/dirkkul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/4125/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/4125/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/2453", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/2453/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/2453/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/2453/events", "html_url": "https://github.com/weaviate/weaviate/issues/2453", "id": 1500731279, "node_id": "I_kwDOA0hXpc5Zc1eP", "number": 2453, "title": "[text2vec-openai] 1.16.8 giving model not found error", "user": {"login": "adambeer", "id": 2391142, "node_id": "MDQ6VXNlcjIzOTExNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2391142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adambeer", "html_url": "https://github.com/adambeer", "followers_url": "https://api.github.com/users/adambeer/followers", "following_url": "https://api.github.com/users/adambeer/following{/other_user}", "gists_url": "https://api.github.com/users/adambeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/adambeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adambeer/subscriptions", "organizations_url": "https://api.github.com/users/adambeer/orgs", "repos_url": "https://api.github.com/users/adambeer/repos", "events_url": "https://api.github.com/users/adambeer/events{/privacy}", "received_events_url": "https://api.github.com/users/adambeer/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-12-16T19:09:52Z", "updated_at": "2023-01-30T09:25:33Z", "closed_at": "2023-01-30T09:25:33Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I have the following module config settings:\r\n\r\n```\r\n\"moduleConfig\": {\r\n                \"text2vec-openai\": {\r\n                    \"model\": \"ada\",\r\n                    \"modelVersion\": \"002\",\r\n                    \"type\": \"text\",\r\n                    \"vectorizeClassName\": false\r\n                }\r\n}\r\n```\r\n\r\nWith this error:\r\n\r\n> update vector: failed with status: 404 error: That model does not exist\r\n#2448 \r\n@kcm ", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/2453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/2453/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/670", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/670/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/670/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/670/events", "html_url": "https://github.com/weaviate/weaviate/issues/670", "id": 395458273, "node_id": "MDU6SXNzdWUzOTU0NTgyNzM=", "number": 670, "title": "Missing GraphQL typename for classes", "user": {"login": "dljcollette", "id": 1950288, "node_id": "MDQ6VXNlcjE5NTAyODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1950288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dljcollette", "html_url": "https://github.com/dljcollette", "followers_url": "https://api.github.com/users/dljcollette/followers", "following_url": "https://api.github.com/users/dljcollette/following{/other_user}", "gists_url": "https://api.github.com/users/dljcollette/gists{/gist_id}", "starred_url": "https://api.github.com/users/dljcollette/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dljcollette/subscriptions", "organizations_url": "https://api.github.com/users/dljcollette/orgs", "repos_url": "https://api.github.com/users/dljcollette/repos", "events_url": "https://api.github.com/users/dljcollette/events{/privacy}", "received_events_url": "https://api.github.com/users/dljcollette/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 990728118, "node_id": "MDU6TGFiZWw5OTA3MjgxMTg=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/graphql", "name": "graphql", "color": "6bf733", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-01-03T05:09:32Z", "updated_at": "2019-04-23T09:47:44Z", "closed_at": "2019-04-23T09:47:44Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "In order to cache data in Playground, I need to fetch the class GraphQL property `__typename`. The classes in the test data do not contain a typename, which makes it impossible to cache data on the client.\r\n\r\n```\r\nquery Test {\r\n  Local {\r\n    Get {\r\n      Actions {\r\n        Flight {\r\n          __typename\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI would like this to return a typename, just like the GraphQL prototype does:\r\n```\r\n{\r\n  \"data\": {\r\n    \"Local\": {\r\n      \"Get\": {\r\n        \"Actions\": {\r\n          \"Flight\": [\r\n            {\r\n              \"__typename\": \"Flight\"\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/670/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3823", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/3823/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/3823/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/3823/events", "html_url": "https://github.com/weaviate/weaviate/issues/3823", "id": 2014543469, "node_id": "I_kwDOA0hXpc54E35t", "number": 3823, "title": "adding batch is crashing weaviate", "user": {"login": "msj121", "id": 6738227, "node_id": "MDQ6VXNlcjY3MzgyMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/6738227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msj121", "html_url": "https://github.com/msj121", "followers_url": "https://api.github.com/users/msj121/followers", "following_url": "https://api.github.com/users/msj121/following{/other_user}", "gists_url": "https://api.github.com/users/msj121/gists{/gist_id}", "starred_url": "https://api.github.com/users/msj121/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msj121/subscriptions", "organizations_url": "https://api.github.com/users/msj121/orgs", "repos_url": "https://api.github.com/users/msj121/repos", "events_url": "https://api.github.com/users/msj121/events{/privacy}", "received_events_url": "https://api.github.com/users/msj121/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-11-28T14:16:33Z", "updated_at": "2024-01-15T03:15:14Z", "closed_at": "2024-01-15T03:15:13Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\r\n\r\nSimple batch add is no longer working, or rather working in a very limited way (usually crashes, sometimes performs the batch add successfully, maybe 1/10 times):\r\nWeaviate 1.22.5\r\n\r\npython:\r\n```\r\nself.client.batch.batch_size = 50\r\n            vectors = self.embedder.embed(batched)\r\n            with self.client.batch as batcher:\r\n                for i,batch in enumerate(batched):\r\n                    uuid = batcher.add_data_object(batch, class_name=\"TVEpisode\",vector=vectors[i])\r\n                    batcher.add_reference(uuid, \"TVEpisode\", \"show\", episode[\"_additional\"][\"id\"], \"TVShow\")\r\n            gc.collect()\r\n```\r\n\r\n\r\n### What is the expected behavior?\r\n\r\nTo add the batched items.\r\n\r\n### What is the actual behavior?\r\n\r\nCrashes server and restarts\r\n\r\nError response on weaviate server logs:\r\n```\r\n{\"action\":\"request_cacher_dedup_joblist_start\",\"jobs\":51,\"level\":\"debug\",\"msg\":\"starting job list deduplication\",\"time\":\"2023-11-28T13:43:25Z\"}\r\nroot-weaviate-1  | {\"action\":\"request_cacher_dedup_joblist_complete\",\"jobs\":1,\"level\":\"debug\",\"msg\":\"completed job list deduplication\",\"removedJobs\":50,\"time\":\"2023-11-28T13:43:25Z\"}\r\nroot-weaviate-1  | {\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"PATCH\",\"msg\":\"received HTTP request\",\"time\":\"2023-11-28T13:43:25Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/objects/Podcast/f5d30021-1941-4d35-8a8a-4412990f6f86\",\"RawPath\":\"\",\"OmitHost\":false,\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\nroot-weaviate-1  | {\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2023-11-28T13:43:29Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"OmitHost\":false,\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\nroot-weaviate-1  | {\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2023-11-28T13:43:31Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/graphql\",\"RawPath\":\"\",\"OmitHost\":false,\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\nroot-weaviate-1  | {\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"POST\",\"msg\":\"received HTTP request\",\"time\":\"2023-11-28T13:43:33Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/batch/objects\",\"RawPath\":\"\",\"OmitHost\":false,\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\nroot-weaviate-1  | {\"action\":\"restapi_request\",\"level\":\"debug\",\"method\":\"GET\",\"msg\":\"received HTTP request\",\"time\":\"2023-11-28T13:43:34Z\",\"url\":{\"Scheme\":\"\",\"Opaque\":\"\",\"User\":null,\"Host\":\"\",\"Path\":\"/v1/nodes\",\"RawPath\":\"\",\"OmitHost\":false,\"ForceQuery\":false,\"RawQuery\":\"\",\"Fragment\":\"\",\"RawFragment\":\"\"}}\r\nroot-weaviate-1  | panic: close of nil channel\r\nroot-weaviate-1  | \r\nroot-weaviate-1  | goroutine 109 [running]:\r\nroot-weaviate-1  | github.com/weaviate/weaviate/adapters/repos/db.(*vectorQueue).releaseChunk(0xc002822150, 0xc07431de80)\r\nroot-weaviate-1  | \t/go/src/github.com/weaviate/weaviate/adapters/repos/db/index_queue.go:732 +0x28\r\nroot-weaviate-1  | github.com/weaviate/weaviate/adapters/repos/db.asyncWorker(0x0?, {0x1d38810, 0xc0034cc780}, 0x0?)\r\nroot-weaviate-1  | \t/go/src/github.com/weaviate/weaviate/adapters/repos/db/repo.go:366 +0x1b4\r\nroot-weaviate-1  | github.com/weaviate/weaviate/adapters/repos/db.New.func1()\r\nroot-weaviate-1  | \t/go/src/github.com/weaviate/weaviate/adapters/repos/db/repo.go:169 +0x6b\r\nroot-weaviate-1  | created by github.com/weaviate/weaviate/adapters/repos/db.New in goroutine 1\r\nroot-weaviate-1  | \t/go/src/github.com/weaviate/weaviate/adapters/repos/db/repo.go:166 +0x76d\r\nroot-weaviate-1  | {\"action\":\"startup\",\"level\":\"debug\",\"msg\":\"created startup context, nothing done so far\",\"startup_time_left\":\"59m59.998225659s\",\"time\":\"2023-11-28T13:43:40Z\"}\r\nroot-weaviate-1  | {\"action\":\"startup\",\"default_vectorizer_module\":\"none\",\"level\":\"info\",\"msg\":\"the default vectorizer modules is set to \\\"none\\\", as a result all new schema classes without an explicit vectorizer setting, will use this vectorizer\",\"time\":\"2023-11-28T13:43:40Z\"}\r\n```\r\n\r\n### Supporting information\r\n\r\n\r\nClass:\r\n```\r\n{\r\n  \"class\": \"TVEpisode\",\r\n  \"description\": \"An episode of a TV series\",\r\n  \"vectorIndexType\": \"hnsw\",\r\n  \"invertedIndexConfig\": {\r\n    \"indexNullState\": true,\r\n    \"indexPropertyLength\": false\r\n  },\r\n  \"vectorIndexConfig\": {\r\n    \"pq\": {\r\n      \"enabled\": true,\r\n      \"trainingLimit\": 100000,\r\n      \"segments\": 128\r\n    },\r\n    \"skip\": false,\r\n    \"ef\": 64,\r\n    \"efConstruction\": 128,\r\n    \"maxConnections\": 32\r\n  },\r\n  \"properties\": [\r\n    {\r\n      \"name\": \"title\",\r\n      \"description\": \"The title of the episode\",\r\n      \"dataType\": [\"text\"],\r\n      \"indexFilterable\": true,\r\n      \"indexSearchable\": true\r\n    },\r\n    {\r\n      \"name\": \"description\",\r\n      \"description\": \"A brief summary of the episode\",\r\n      \"dataType\": [\"text\"],\r\n      \"indexFilterable\": true,\r\n      \"indexSearchable\": true\r\n    },\r\n    {\r\n      \"name\": \"tags\",\r\n      \"description\": \"Tags for the episode\",\r\n      \"dataType\": [\"text[]\"],\r\n      \"indexFilterable\": true,\r\n      \"indexSearchable\": true\r\n    },\r\n    {\r\n      \"name\": \"duration\",\r\n      \"description\": \"The duration of the episode in seconds\",\r\n      \"dataType\": [\"int\"]\r\n    },\r\n    {\r\n      \"name\": \"position\",\r\n      \"description\": \"The position of the episode in the TV series\",\r\n      \"dataType\": [\"int\"],\r\n      \"indexFilterable\": false,\r\n      \"indexSearchable\": false\r\n    },\r\n    {\r\n      \"name\": \"airDate\",\r\n      \"description\": \"The date when the episode aired\",\r\n      \"dataType\": [\"date\"]\r\n    },\r\n    {\r\n      \"name\": \"blocked\",\r\n      \"description\": \"This episode is blocked\",\r\n      \"dataType\": [\"boolean\"],\r\n      \"indexFilterable\": false,\r\n      \"indexSearchable\": false\r\n    },\r\n    {\r\n      \"name\": \"seriesId\",\r\n      \"description\": \"The series ID that this episode belongs to\",\r\n      \"dataType\": [\"uuid\"]\r\n    },\r\n    {\r\n      \"name\": \"tvSeries\",\r\n      \"description\": \"The TV series that this episode belongs to\",\r\n      \"dataType\": [\"TVSeries\"]\r\n    },\r\n    {\r\n      \"name\": \"language\",\r\n      \"description\": \"The language of the episode\",\r\n      \"dataType\": [\"text\"]\r\n    },\r\n    {\r\n      \"name\": \"link\",\r\n      \"description\": \"A link associated with the episode\",\r\n      \"dataType\": [\"text\"],\r\n      \"indexFilterable\": false,\r\n      \"indexSearchable\": false\r\n    },\r\n    {\r\n      \"name\": \"imageUrl\",\r\n      \"description\": \"Image for the episode\",\r\n      \"dataType\": [\"text\"],\r\n      \"indexFilterable\": false,\r\n      \"indexSearchable\": false\r\n    },\r\n    {\r\n      \"name\": \"videoUrl\",\r\n      \"description\": \"Link to the video file of the episode\",\r\n      \"dataType\": [\"text\"],\r\n      \"indexFilterable\": true,\r\n      \"indexSearchable\": false\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThere are only 6 million 384d objects on the server, in this collection ~2million and it shouldn't have a problem in terms of space in ram or hd.\r\n\r\n### Server Version\r\n\r\n1.22.5\r\n\r\n### Code of Conduct\r\n\r\n- [X] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "msj121", "id": 6738227, "node_id": "MDQ6VXNlcjY3MzgyMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/6738227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msj121", "html_url": "https://github.com/msj121", "followers_url": "https://api.github.com/users/msj121/followers", "following_url": "https://api.github.com/users/msj121/following{/other_user}", "gists_url": "https://api.github.com/users/msj121/gists{/gist_id}", "starred_url": "https://api.github.com/users/msj121/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msj121/subscriptions", "organizations_url": "https://api.github.com/users/msj121/orgs", "repos_url": "https://api.github.com/users/msj121/repos", "events_url": "https://api.github.com/users/msj121/events{/privacy}", "received_events_url": "https://api.github.com/users/msj121/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/3823/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/7331", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/7331/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/7331/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/7331/events", "html_url": "https://github.com/weaviate/weaviate/issues/7331", "id": 2870101645, "node_id": "I_kwDOA0hXpc6rEkaN", "number": 7331, "title": "collection.generate.near_text using claude-3-5-sonnet-20241022 raises Anthropic API error: invalid_request_error - max_tokens: must be greater than or equal to 1", "user": {"login": "dtourillon", "id": 25746704, "node_id": "MDQ6VXNlcjI1NzQ2NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/25746704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtourillon", "html_url": "https://github.com/dtourillon", "followers_url": "https://api.github.com/users/dtourillon/followers", "following_url": "https://api.github.com/users/dtourillon/following{/other_user}", "gists_url": "https://api.github.com/users/dtourillon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtourillon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtourillon/subscriptions", "organizations_url": "https://api.github.com/users/dtourillon/orgs", "repos_url": "https://api.github.com/users/dtourillon/repos", "events_url": "https://api.github.com/users/dtourillon/events{/privacy}", "received_events_url": "https://api.github.com/users/dtourillon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2025-02-21T21:56:50Z", "updated_at": "2025-03-05T17:14:43Z", "closed_at": "2025-02-28T14:31:44Z", "assignee": {"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\n\nUsing this requirements.txt file and `pip install -r requirements.txt`:\n```\nanthropic\npython-dotenv\nweaviate-client\n```\n\n\nWith the following `.env` file:\n```\n# weaviate\nWCD_URL=<your_wcd_url>\nWCD_API_KEY=<your_wcd_key>\n\n# openai\nOPENAI_API_KEY=<your_openai_key>\n\n# anthropic\nANTHROPIC_API_KEY=<your_anthropic_key>\n```\n\n\nRun the following python script:\n```\nimport os\n\nfrom dotenv import load_dotenv\nfrom weaviate import WeaviateClient, connect_to_weaviate_cloud\nfrom weaviate.classes.config import Configure\nfrom weaviate.classes.init import Auth\n\nload_dotenv()\n\n\ndef get_client() -> WeaviateClient:\n    \"\"\"Get a weaviate cloud client instance, using WCD_URL, WCD_API_KEY, and OPENAI_API_KEY\n    environment variables.\n\n    **Important:** Note that it is the responsibility of the caller to close the client.\n\n    Returns:\n        WeaviateClient: A configured weaviate cloud client\n    \"\"\"\n    return connect_to_weaviate_cloud(\n        cluster_url=os.environ[\"WCD_URL\"],\n        auth_credentials=Auth.api_key(os.environ[\"WCD_API_KEY\"]),\n        headers={\n            \"X-Anthropic-Api-Key\": os.environ[\"ANTHROPIC_API_KEY\"],\n            \"X-OpenAI-Api-Key\": os.environ[\"OPENAI_API_KEY\"],\n        },\n    )\n\n\nif __name__ == \"__main__\":\n\n\n    with get_client() as client:\n\n        print(\"Creating collection...\")\n        collection_name = \"test_collection\"\n        collection = client.collections.create(\n            name=collection_name,\n            vectorizer_config=Configure.Vectorizer.text2vec_openai(\n            ),\n            generative_config=Configure.Generative.anthropic(\n                # model=\"claude-3-5-sonnet-20240620\",\n                model=\"claude-3-5-sonnet-20241022\",\n                max_tokens=1024,\n            ),\n        )\n\n        print(\"Adding chunk to collection...\")\n        with collection.batch.dynamic() as batch:\n            batch.add_object({\"text\": \"Most dogs have 4 legs... except those that were amputated.\"})\n        print(f\"Nb of chunks in collection: {collection.aggregate.over_all().total_count}\")\n\n        print(\"Call generate...\")\n        query = \"How many legs does a dog have? Answer as a pirate would.\"\n        print(f\"\\tQuery: {query}\")\n        response = collection.generate.near_text(\n            query=\"dog\",\n            limit=1,\n            grouped_task=query,\n        )\n        print(f\"\\tRetrieved chunk: {response.objects[0].properties['text']}\")\n        print(f\"\\tAnswer: {response.generated}\")\n\n        print(\"Delete collection...\")\n        client.collections.delete(collection_name)\n```\n\nYou should get the following error:\n```\nCreating collection...\nAdding chunk to collection...\nNb of chunks in collection: 1\nCall generate...\n\tQuery: How many legs does a dog have? Answer as a pirate would.\nTraceback (most recent call last):\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/weaviate/collections/grpc/query.py\", line 478, in __call\n    res = await _Retry(4).with_exponential_backoff(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/weaviate/collections/grpc/retry.py\", line 31, in with_exponential_backoff\n    raise e\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/weaviate/collections/grpc/retry.py\", line 28, in with_exponential_backoff\n    return await f(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/grpc/aio/_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.UNKNOWN\n\tdetails = \"Anthropic API error: invalid_request_error - max_tokens: must be greater than or equal to 1\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer  {created_time:\"2025-02-21T16:55:50.85583-05:00\", grpc_status:2, grpc_message:\"Anthropic API error: invalid_request_error - max_tokens: must be greater than or equal to 1\"}\"\n>\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate_generate_issue_main.py\", line 56, in <module>\n    response = collection.generate.near_text(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/weaviate/syncify.py\", line 23, in sync_method\n    return _EventLoopSingleton.get_instance().run_until_complete(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/weaviate/event_loop.py\", line 42, in run_until_complete\n    return fut.result()\n           ^^^^^^^^^^^^\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.3/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/_base.py\", line 456, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.3/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/weaviate/collections/queries/near_text/generate.py\", line 101, in near_text\n    res = await self._query.near_text(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/dtourillon/TouriLogica/Kwerty/dev/weaviate-generate-issue/weaviate-issue-venv/lib/python3.12/site-packages/weaviate/collections/grpc/query.py\", line 490, in __call\n    raise WeaviateQueryError(str(e), \"GRPC search\")  # pyright: ignore\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nweaviate.exceptions.WeaviateQueryError: Query call with protocol GRPC search failed with message <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.UNKNOWN\n\tdetails = \"Anthropic API error: invalid_request_error - max_tokens: must be greater than or equal to 1\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer  {created_time:\"2025-02-21T16:55:50.85583-05:00\", grpc_status:2, grpc_message:\"Anthropic API error: invalid_request_error - max_tokens: must be greater than or equal to 1\"}\"\n>.\n\n```\n\n### What is the expected behavior?\n\nThe expectation is that `collection.generate.near_text` should work (i.e. not raise the above exception) with all versions of Claude 3.5 Sonnet model.\n\n### What is the actual behavior?\n\n- I was able to make it work using `claude-3-5-sonnet-20240620` (the second last Claude 3.5 sonnet model).\n- However, it raises \"Anthropic API error: invalid_request_error - max_tokens: must be greater than or equal to 1\" using `claude-3-5-sonnet-20241022`... despite max_tokens being set to 1024.\n\n### Supporting information\n\n_No response_\n\n### Server Version\n\nweaviate-client==4.11.0\n\n### Weaviate Setup\n\nSingle Node\n\n### Nodes count\n\n_No response_\n\n### Code of Conduct\n\n- [x] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "moogacs", "id": 2805614, "node_id": "MDQ6VXNlcjI4MDU2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2805614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moogacs", "html_url": "https://github.com/moogacs", "followers_url": "https://api.github.com/users/moogacs/followers", "following_url": "https://api.github.com/users/moogacs/following{/other_user}", "gists_url": "https://api.github.com/users/moogacs/gists{/gist_id}", "starred_url": "https://api.github.com/users/moogacs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moogacs/subscriptions", "organizations_url": "https://api.github.com/users/moogacs/orgs", "repos_url": "https://api.github.com/users/moogacs/repos", "events_url": "https://api.github.com/users/moogacs/events{/privacy}", "received_events_url": "https://api.github.com/users/moogacs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/7331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/7331/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/6380", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/6380/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/6380/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/6380/events", "html_url": "https://github.com/weaviate/weaviate/issues/6380", "id": 2671047787, "node_id": "I_kwDOA0hXpc6fNPRr", "number": 6380, "title": "Async_replication context deadline exceeded, unable to Activate Tenant", "user": {"login": "harvetech", "id": 13352214, "node_id": "MDQ6VXNlcjEzMzUyMjE0", "avatar_url": "https://avatars.githubusercontent.com/u/13352214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harvetech", "html_url": "https://github.com/harvetech", "followers_url": "https://api.github.com/users/harvetech/followers", "following_url": "https://api.github.com/users/harvetech/following{/other_user}", "gists_url": "https://api.github.com/users/harvetech/gists{/gist_id}", "starred_url": "https://api.github.com/users/harvetech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harvetech/subscriptions", "organizations_url": "https://api.github.com/users/harvetech/orgs", "repos_url": "https://api.github.com/users/harvetech/repos", "events_url": "https://api.github.com/users/harvetech/events{/privacy}", "received_events_url": "https://api.github.com/users/harvetech/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "jeroiraz", "id": 1755729, "node_id": "MDQ6VXNlcjE3NTU3Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1755729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeroiraz", "html_url": "https://github.com/jeroiraz", "followers_url": "https://api.github.com/users/jeroiraz/followers", "following_url": "https://api.github.com/users/jeroiraz/following{/other_user}", "gists_url": "https://api.github.com/users/jeroiraz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeroiraz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeroiraz/subscriptions", "organizations_url": "https://api.github.com/users/jeroiraz/orgs", "repos_url": "https://api.github.com/users/jeroiraz/repos", "events_url": "https://api.github.com/users/jeroiraz/events{/privacy}", "received_events_url": "https://api.github.com/users/jeroiraz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2024-11-19T07:17:45Z", "updated_at": "2025-01-07T08:46:26Z", "closed_at": "2024-12-18T22:46:39Z", "assignee": {"login": "jeroiraz", "id": 1755729, "node_id": "MDQ6VXNlcjE3NTU3Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1755729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeroiraz", "html_url": "https://github.com/jeroiraz", "followers_url": "https://api.github.com/users/jeroiraz/followers", "following_url": "https://api.github.com/users/jeroiraz/following{/other_user}", "gists_url": "https://api.github.com/users/jeroiraz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeroiraz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeroiraz/subscriptions", "organizations_url": "https://api.github.com/users/jeroiraz/orgs", "repos_url": "https://api.github.com/users/jeroiraz/repos", "events_url": "https://api.github.com/users/jeroiraz/events{/privacy}", "received_events_url": "https://api.github.com/users/jeroiraz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\n\nRun weaviate on a geographically spread mixed Arch Kubernetes 1.30.\r\n\r\n- Server Setup Information\r\n- Weaviate Server Version: 1.27\r\n- Deployment Method: Helm Chart\r\n- Multi Node? 4\r\n- Client Language and Version: Python, 4.9.3\r\n- Multitenancy?: Yes\n\n### What is the expected behavior?\n\nIt should just work. Maybe slow because of latencies, but the basic functionality should stay intact. \n\n### What is the actual behavior?\n\nHi all, I am trying to run Weaviate on Mixed Arch Kube ( Arm65 and Amd64). 3-Nodes and 3 Replicas. Nodes are geographically apart (2 Nodes at one place, 1 at another).But I am constantly getting these timeouts, only for a Tenant which has almost 3GB data.\r\n\r\n`{\u201caction\u201d:\u201casync_replication\u201d,\u201cbuild_git_commit\u201d:\u201c64457c2\u201d,\u201cbuild_go_version\u201d:\u201cgo1.22.9\u201d,\u201cbuild_image_tag\u201d:\u201cv1.27.2\u201d,\u201cbuild_wv_version\u201d:\u201c1.27.2\u201d,\u201cclass_name\u201d:\u201cQuestion\u201d,\u201chashbeat_iteration\u201d:1679,\u201clevel\u201d:\u201cwarning\u201d,\u201cmsg\u201d:\u201chashbeat iteration failed: collecting differences: \"10.233.84.228:7001\": connect: Post \"[http://10.233.84.228:7001/replicas/indices/Question/shards/tenantA/objects/hashtree/0?schema_version=0\\](http://10.233.84.228:7001/replicas/indices/Question/shards/tenantA/objects/hashtree/0?schema_version=0%5C)\u201d: context deadline exceeded\",\u201cshard_name\u201d:\u201ctenantA\u201d,\u201ctime\u201d:\u201c2024-11-18T06:48:56Z\u201d}`\n\n### Supporting information\n\nativating client, sometimes works, sometime it times out, usually problem appears after offloading to s3 and then setting the client active again.\r\n![image](https://github.com/user-attachments/assets/71fdb275-a383-42f3-913e-680658a7da17)\r\n\n\n### Server Version\n\n1.27\n\n### Weaviate Setup\n\nMulti-Node Cluster\n\n### Nodes count\n\n4\n\n### Code of Conduct\n\n- [X] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "jeroiraz", "id": 1755729, "node_id": "MDQ6VXNlcjE3NTU3Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1755729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeroiraz", "html_url": "https://github.com/jeroiraz", "followers_url": "https://api.github.com/users/jeroiraz/followers", "following_url": "https://api.github.com/users/jeroiraz/following{/other_user}", "gists_url": "https://api.github.com/users/jeroiraz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeroiraz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeroiraz/subscriptions", "organizations_url": "https://api.github.com/users/jeroiraz/orgs", "repos_url": "https://api.github.com/users/jeroiraz/repos", "events_url": "https://api.github.com/users/jeroiraz/events{/privacy}", "received_events_url": "https://api.github.com/users/jeroiraz/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/6380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/6380/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3043", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/3043/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/3043/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/3043/events", "html_url": "https://github.com/weaviate/weaviate/issues/3043", "id": 1716312553, "node_id": "I_kwDOA0hXpc5mTNnp", "number": 3043, "title": "Error 401 with a Openshift deployment and text2vec-openai vectorizer", "user": {"login": "mcapitanio", "id": 6294802, "node_id": "MDQ6VXNlcjYyOTQ4MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/6294802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcapitanio", "html_url": "https://github.com/mcapitanio", "followers_url": "https://api.github.com/users/mcapitanio/followers", "following_url": "https://api.github.com/users/mcapitanio/following{/other_user}", "gists_url": "https://api.github.com/users/mcapitanio/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcapitanio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcapitanio/subscriptions", "organizations_url": "https://api.github.com/users/mcapitanio/orgs", "repos_url": "https://api.github.com/users/mcapitanio/repos", "events_url": "https://api.github.com/users/mcapitanio/events{/privacy}", "received_events_url": "https://api.github.com/users/mcapitanio/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2023-05-18T21:50:13Z", "updated_at": "2023-06-14T18:22:16Z", "closed_at": "2023-06-14T18:21:52Z", "assignee": {"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hi,\r\n\r\nI am getting this kind of error in a Openshift (v 3.11) deployment of Weaviate version 1.19.0\r\n\r\n`{'error': [{'message': 'update vector: failed with status: 401%!!(MISSING)(EXTRA string=)'}]}`\r\n\r\nI am using the same configuration I use with a local instance, for which I can correctly index using the text2vec-openai vectorizer configured for Azure OpenAI.\r\n\r\nI have checked the schema and it has the correct valorizaton for moduleConfig (the one it is working locally).\r\nAlso the variable for the Azure OpenAI api key is correctly valorized in the Openshift pod, so I can't understand the reason of this error which seems a not managed error.\r\n\r\nSomeone has already faced this kind of problem? ", "closed_by": {"login": "antas-marcin", "id": 11875846, "node_id": "MDQ6VXNlcjExODc1ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11875846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antas-marcin", "html_url": "https://github.com/antas-marcin", "followers_url": "https://api.github.com/users/antas-marcin/followers", "following_url": "https://api.github.com/users/antas-marcin/following{/other_user}", "gists_url": "https://api.github.com/users/antas-marcin/gists{/gist_id}", "starred_url": "https://api.github.com/users/antas-marcin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antas-marcin/subscriptions", "organizations_url": "https://api.github.com/users/antas-marcin/orgs", "repos_url": "https://api.github.com/users/antas-marcin/repos", "events_url": "https://api.github.com/users/antas-marcin/events{/privacy}", "received_events_url": "https://api.github.com/users/antas-marcin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/3043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/3043/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1738", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/1738/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/1738/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/1738/events", "html_url": "https://github.com/weaviate/weaviate/issues/1738", "id": 1040259067, "node_id": "I_kwDOA0hXpc4-ARf7", "number": 1738, "title": "Property of datatype `string[]` is not recognized as a \"vectorizable\" property", "user": {"login": "michaverhagen", "id": 38881596, "node_id": "MDQ6VXNlcjM4ODgxNTk2", "avatar_url": "https://avatars.githubusercontent.com/u/38881596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaverhagen", "html_url": "https://github.com/michaverhagen", "followers_url": "https://api.github.com/users/michaverhagen/followers", "following_url": "https://api.github.com/users/michaverhagen/following{/other_user}", "gists_url": "https://api.github.com/users/michaverhagen/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaverhagen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaverhagen/subscriptions", "organizations_url": "https://api.github.com/users/michaverhagen/orgs", "repos_url": "https://api.github.com/users/michaverhagen/repos", "events_url": "https://api.github.com/users/michaverhagen/events{/privacy}", "received_events_url": "https://api.github.com/users/michaverhagen/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-10-30T17:45:29Z", "updated_at": "2023-03-15T13:56:07Z", "closed_at": "2023-03-15T13:56:06Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "If the schema contains a property of dataType `string[]` and this is the only property that is not excluded from vectorization, the schema will fail to load with the following error message (property names and class names are also not vectorized):\r\n```\r\nweaviate.exceptions.UnexpectedStatusCodeException: Create class! Unexpected status code: 422, with response body: \r\n{'error': [{'message': \"module 'text2vec-contextionary': invalid combination of properties: invalid properties: didn't find a \r\nsingle property which is of type string or text and is not excluded from indexing. In addition the class name is excluded \r\nfrom vectorization as well, meaning that it cannot be used to determine the vector position. To fix this, set 'vectorizeClassName'\r\nto true if the class name is contextionary-valid. Alternatively add at least contextionary-valid text/string property which is not\r\nexcluded from indexing.\"}]}\r\n```", "closed_by": {"login": "dirkkul", "id": 5353192, "node_id": "MDQ6VXNlcjUzNTMxOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5353192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirkkul", "html_url": "https://github.com/dirkkul", "followers_url": "https://api.github.com/users/dirkkul/followers", "following_url": "https://api.github.com/users/dirkkul/following{/other_user}", "gists_url": "https://api.github.com/users/dirkkul/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirkkul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirkkul/subscriptions", "organizations_url": "https://api.github.com/users/dirkkul/orgs", "repos_url": "https://api.github.com/users/dirkkul/repos", "events_url": "https://api.github.com/users/dirkkul/events{/privacy}", "received_events_url": "https://api.github.com/users/dirkkul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/1738/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1067", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/1067/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/1067/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/1067/events", "html_url": "https://github.com/weaviate/weaviate/issues/1067", "id": 551956047, "node_id": "MDU6SXNzdWU1NTE5NTYwNDc=", "number": 1067, "title": "Index settings not visible on /v1/schema", "user": {"login": "bobvanluijt", "id": 5509162, "node_id": "MDQ6VXNlcjU1MDkxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5509162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobvanluijt", "html_url": "https://github.com/bobvanluijt", "followers_url": "https://api.github.com/users/bobvanluijt/followers", "following_url": "https://api.github.com/users/bobvanluijt/following{/other_user}", "gists_url": "https://api.github.com/users/bobvanluijt/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobvanluijt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobvanluijt/subscriptions", "organizations_url": "https://api.github.com/users/bobvanluijt/orgs", "repos_url": "https://api.github.com/users/bobvanluijt/repos", "events_url": "https://api.github.com/users/bobvanluijt/events{/privacy}", "received_events_url": "https://api.github.com/users/bobvanluijt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-01-19T17:39:12Z", "updated_at": "2021-01-05T16:19:47Z", "closed_at": "2021-01-05T16:19:47Z", "assignee": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "- `vectorizePropertyName`\r\n- `vectorizeClassName`\r\n- `index`\r\n\r\nAre not shown on the `/v1/schema` endpoint which makes it difficult to validate if a schema was imported correctly.", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/1067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/1067/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/761", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/761/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/761/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/761/events", "html_url": "https://github.com/weaviate/weaviate/issues/761", "id": 417257349, "node_id": "MDU6SXNzdWU0MTcyNTczNDk=", "number": 761, "title": "Query with fragment on union fails", "user": {"login": "dljcollette", "id": 1950288, "node_id": "MDQ6VXNlcjE5NTAyODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1950288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dljcollette", "html_url": "https://github.com/dljcollette", "followers_url": "https://api.github.com/users/dljcollette/followers", "following_url": "https://api.github.com/users/dljcollette/following{/other_user}", "gists_url": "https://api.github.com/users/dljcollette/gists{/gist_id}", "starred_url": "https://api.github.com/users/dljcollette/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dljcollette/subscriptions", "organizations_url": "https://api.github.com/users/dljcollette/orgs", "repos_url": "https://api.github.com/users/dljcollette/repos", "events_url": "https://api.github.com/users/dljcollette/events{/privacy}", "received_events_url": "https://api.github.com/users/dljcollette/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1164392472, "node_id": "MDU6TGFiZWwxMTY0MzkyNDcy", "url": "https://api.github.com/repos/weaviate/weaviate/labels/Technical%20Debt", "name": "Technical Debt", "color": "d3593b", "default": false, "description": "It's impossible to avoid technical debt, but one of the most important things is to track it!"}, {"id": 1187801464, "node_id": "MDU6TGFiZWwxMTg3ODAxNDY0", "url": "https://api.github.com/repos/weaviate/weaviate/labels/Bad%20UX", "name": "Bad UX", "color": "08e049", "default": false, "description": "Issues that frustrate our Users"}], "state": "closed", "locked": false, "assignees": [{"login": "bobvanluijt", "id": 5509162, "node_id": "MDQ6VXNlcjU1MDkxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5509162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobvanluijt", "html_url": "https://github.com/bobvanluijt", "followers_url": "https://api.github.com/users/bobvanluijt/followers", "following_url": "https://api.github.com/users/bobvanluijt/following{/other_user}", "gists_url": "https://api.github.com/users/bobvanluijt/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobvanluijt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobvanluijt/subscriptions", "organizations_url": "https://api.github.com/users/bobvanluijt/orgs", "repos_url": "https://api.github.com/users/bobvanluijt/repos", "events_url": "https://api.github.com/users/bobvanluijt/events{/privacy}", "received_events_url": "https://api.github.com/users/bobvanluijt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-03-05T11:43:34Z", "updated_at": "2019-04-05T07:02:18Z", "closed_at": "2019-04-05T07:02:18Z", "assignee": {"login": "bobvanluijt", "id": 5509162, "node_id": "MDQ6VXNlcjU1MDkxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5509162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobvanluijt", "html_url": "https://github.com/bobvanluijt", "followers_url": "https://api.github.com/users/bobvanluijt/followers", "following_url": "https://api.github.com/users/bobvanluijt/following{/other_user}", "gists_url": "https://api.github.com/users/bobvanluijt/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobvanluijt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobvanluijt/subscriptions", "organizations_url": "https://api.github.com/users/bobvanluijt/orgs", "repos_url": "https://api.github.com/users/bobvanluijt/repos", "events_url": "https://api.github.com/users/bobvanluijt/events{/privacy}", "received_events_url": "https://api.github.com/users/bobvanluijt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "The following query is correct GraphQL syntax. However, is responds with an error as shown below the query. I was expecting a query response with `Animal` objects nested under `HasAnimals`. \r\n\r\nThe query works when I remove the `localThingsAnimal` fragments and move those fields in `HasAnimals { ... on Animal { <fields> } }`. However, according to the GraphQL spec I should also be able to perform a query with fragments as shown below.\r\n```\r\nquery SelectedClassesWithFilters {\r\n  Local {\r\n    ...localThingsZoo\r\n  }\r\n}\r\n\r\nfragment localThingsAnimal on Animal {\r\n  name\r\n  species\r\n  uuid\r\n}\r\n\r\nfragment localThingsZoo on WeaviateLocalObj {\r\n  Get {\r\n    Things {\r\n      Zoo {\r\n        name\r\n        uuid\r\n        HasAnimals {\r\n          ...localThingsAnimal\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nResponse:\r\n```\r\n{\r\n  \"data\": {\r\n    \"Local\": {\r\n      \"Get\": {\r\n        \"Things\": {\r\n          \"Zoo\": null\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"locations\": [\r\n        {\r\n          \"column\": 7,\r\n          \"line\": 16\r\n        }\r\n      ],\r\n      \"message\": \"Expected a InlineFragment; you need to specify as which type you want to retrieve a reference &ast.FragmentSpread{Kind:\\\"FragmentSpread\\\", Loc:(*ast.Location)(0xc0001bc100), Name:(*ast.Name)(0xc0002a90e0), Directives:[]*ast.Directive{}}\",\r\n      \"path\": [\r\n        \"Local\",\r\n        \"Get\",\r\n        \"Things\",\r\n        \"Zoo\"\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```", "closed_by": {"login": "etiennedi", "id": 8974479, "node_id": "MDQ6VXNlcjg5NzQ0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8974479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etiennedi", "html_url": "https://github.com/etiennedi", "followers_url": "https://api.github.com/users/etiennedi/followers", "following_url": "https://api.github.com/users/etiennedi/following{/other_user}", "gists_url": "https://api.github.com/users/etiennedi/gists{/gist_id}", "starred_url": "https://api.github.com/users/etiennedi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etiennedi/subscriptions", "organizations_url": "https://api.github.com/users/etiennedi/orgs", "repos_url": "https://api.github.com/users/etiennedi/repos", "events_url": "https://api.github.com/users/etiennedi/events{/privacy}", "received_events_url": "https://api.github.com/users/etiennedi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/761/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/weaviate/weaviate/issues/4649", "repository_url": "https://api.github.com/repos/weaviate/weaviate", "labels_url": "https://api.github.com/repos/weaviate/weaviate/issues/4649/labels{/name}", "comments_url": "https://api.github.com/repos/weaviate/weaviate/issues/4649/comments", "events_url": "https://api.github.com/repos/weaviate/weaviate/issues/4649/events", "html_url": "https://github.com/weaviate/weaviate/issues/4649", "id": 2237451191, "node_id": "I_kwDOA0hXpc6FXMu3", "number": 4649, "title": "`X-Azure-Api-Key` doesn't work  in headers. Asking openai api key instead. while calling withNearText search.", "user": {"login": "mihir-kanzariya", "id": 35109112, "node_id": "MDQ6VXNlcjM1MTA5MTEy", "avatar_url": "https://avatars.githubusercontent.com/u/35109112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihir-kanzariya", "html_url": "https://github.com/mihir-kanzariya", "followers_url": "https://api.github.com/users/mihir-kanzariya/followers", "following_url": "https://api.github.com/users/mihir-kanzariya/following{/other_user}", "gists_url": "https://api.github.com/users/mihir-kanzariya/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihir-kanzariya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihir-kanzariya/subscriptions", "organizations_url": "https://api.github.com/users/mihir-kanzariya/orgs", "repos_url": "https://api.github.com/users/mihir-kanzariya/repos", "events_url": "https://api.github.com/users/mihir-kanzariya/events{/privacy}", "received_events_url": "https://api.github.com/users/mihir-kanzariya/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 349970961, "node_id": "MDU6TGFiZWwzNDk5NzA5NjE=", "url": "https://api.github.com/repos/weaviate/weaviate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 8, "created_at": "2024-04-11T10:57:49Z", "updated_at": "2025-01-22T00:55:34Z", "closed_at": "2024-10-18T17:48:13Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### How to reproduce this bug?\r\n\r\nI am using azure openai, i created class and client . \r\n\r\n`const client = weaviate.client({\r\n    scheme: 'https',\r\n    host: 'XXXXX-vv0royyl.weaviate.network',\r\n    headers: { \r\n        \"X-Azure-Api-Key\": PROCESS.ENV.AZURE_OPENAI_KEY\r\n    }\r\n});\r\n`\r\n\r\n\r\nI get below error while calling Below function\r\n\r\nFunction: ` result = await client.graphql\r\n            .get()\r\n            .withClassName(model)\r\n            .withNearText({\r\n                concepts: [question],\r\n                targetVectors: ['content'],\r\n            })\r\n            .withWhere({\r\n                path: ['trainingDataType'],\r\n                operator: 'Equal',\r\n                valueText: trainingDataType,\r\n            })\r\n            .withLimit(limit)\r\n            .withFields('content _additional { distance }')\r\n            .do();`\r\n            \r\n            \r\n Error\r\n `{\r\n  \"response\": {\r\n    \"data\": {\r\n      \"Get\": {\r\n        \"Custcity\": null\r\n      }\r\n    },\r\n    \"errors\": [\r\n      {\r\n        \"locations\": [\r\n          {\r\n            \"column\": 6,\r\n            \"line\": 1\r\n          }\r\n        ],\r\n        \"message\": \"explorer: get class: vectorize params: vectorize params: vectorize params: vectorize keywords: remote client vectorize: API Key: no api key found neither in request header: X-Openai-Api-Key nor in environment variable under OPENAI_APIKEY\",\r\n        \"path\": [\r\n          \"Get\",\r\n          \"Custcity\"\r\n        ]\r\n      }\r\n    ],\r\n    \"status\": 200,\r\n    \"headers\": {}\r\n  },\r\n  \"request\": {\r\n    \"query\": \"{Get{Custcity(where:{operator:Equal,valueText:\\\"SCHEMA\\\",path:[\\\"trainingDataType\\\"]},nearText:{concepts:[\\\"Analyze the correlation between the number of activities (tasks and events) and opportunity win rates.\\\"],targetVectors:[\\\"content\\\"]},limit:8){content _additional { distance }}}}\"\r\n  }\r\n}`\r\n\r\n### What is the expected behavior?\r\n\r\nIt should consider azure open ai key\r\n\r\n### What is the actual behavior?\r\n\r\nIt is not working with azure openai key\r\n\r\nSlack conversation about issue: https://weaviate.slack.com/archives/C02RRQP23K3/p1712830332189929\r\n\r\n### Supporting information\r\n\r\n_No response_\r\n\r\n### Server Version\r\n\r\n1.24.8\r\n\r\n### Code of Conduct\r\n\r\n- [X] I have read and agree to the Weaviate's [Contributor Guide](https://weaviate.io/developers/contributor-guide) and [Code of Conduct](https://weaviate.io/service/code-of-conduct)", "closed_by": {"login": "dirkkul", "id": 5353192, "node_id": "MDQ6VXNlcjUzNTMxOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5353192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirkkul", "html_url": "https://github.com/dirkkul", "followers_url": "https://api.github.com/users/dirkkul/followers", "following_url": "https://api.github.com/users/dirkkul/following{/other_user}", "gists_url": "https://api.github.com/users/dirkkul/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirkkul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirkkul/subscriptions", "organizations_url": "https://api.github.com/users/dirkkul/orgs", "repos_url": "https://api.github.com/users/dirkkul/repos", "events_url": "https://api.github.com/users/dirkkul/events{/privacy}", "received_events_url": "https://api.github.com/users/dirkkul/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/weaviate/weaviate/issues/4649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/weaviate/weaviate/issues/4649/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}