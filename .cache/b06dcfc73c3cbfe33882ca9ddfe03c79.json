{"d": [{"url": "https://api.github.com/repos/expressjs/multer/issues/1245", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/1245/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/1245/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/1245/events", "html_url": "https://github.com/expressjs/multer/issues/1245", "id": 2158593949, "node_id": "I_kwDOAPoIM86AqYed", "number": 1245, "title": "This module only works with node 14 or LOWER", "user": {"login": "mercmobily", "id": 2128734, "node_id": "MDQ6VXNlcjIxMjg3MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2128734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mercmobily", "html_url": "https://github.com/mercmobily", "followers_url": "https://api.github.com/users/mercmobily/followers", "following_url": "https://api.github.com/users/mercmobily/following{/other_user}", "gists_url": "https://api.github.com/users/mercmobily/gists{/gist_id}", "starred_url": "https://api.github.com/users/mercmobily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mercmobily/subscriptions", "organizations_url": "https://api.github.com/users/mercmobily/orgs", "repos_url": "https://api.github.com/users/mercmobily/repos", "events_url": "https://api.github.com/users/mercmobily/events{/privacy}", "received_events_url": "https://api.github.com/users/mercmobily/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 40, "created_at": "2024-02-28T10:14:21Z", "updated_at": "2024-07-31T13:18:13Z", "closed_at": "2024-04-01T15:05:44Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I love the work done on this module, but:\r\n\r\n* The module will only work with Node 14 or LOWER, because of its dependency with fs-temp 1.x\r\n* It's been 5 months after the last commit\r\n* Issues are not being answered\r\n* Version 2 has been \"nearly done\" for years\r\n\r\nNow... I just had to add this to a production machine, to \"fix\" the issue with fs-temp:\r\n\r\n    \"postinstall\": \"sed -i 's/WriteStream.call(this, null, options)/WriteStream.call(this, \\\"\\\", options)/g' node_modules/fs-temp/lib/write-stream.js\"\r\n\r\nIf the module is no longer maintained, please say so and ask for somebody to take it over. ", "closed_by": {"login": "wesleytodd", "id": 1027776, "node_id": "MDQ6VXNlcjEwMjc3NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1027776?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleytodd", "html_url": "https://github.com/wesleytodd", "followers_url": "https://api.github.com/users/wesleytodd/followers", "following_url": "https://api.github.com/users/wesleytodd/following{/other_user}", "gists_url": "https://api.github.com/users/wesleytodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleytodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleytodd/subscriptions", "organizations_url": "https://api.github.com/users/wesleytodd/orgs", "repos_url": "https://api.github.com/users/wesleytodd/repos", "events_url": "https://api.github.com/users/wesleytodd/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleytodd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/1245/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/1245/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/192", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/192/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/192/events", "html_url": "https://github.com/expressjs/multer/issues/192", "id": 99108829, "node_id": "MDU6SXNzdWU5OTEwODgyOQ==", "number": 192, "title": "after enter an Error in fileFilter,it doesn't work", "user": {"login": "zyf0330", "id": 11958657, "node_id": "MDQ6VXNlcjExOTU4NjU3", "avatar_url": "https://avatars.githubusercontent.com/u/11958657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zyf0330", "html_url": "https://github.com/zyf0330", "followers_url": "https://api.github.com/users/zyf0330/followers", "following_url": "https://api.github.com/users/zyf0330/following{/other_user}", "gists_url": "https://api.github.com/users/zyf0330/gists{/gist_id}", "starred_url": "https://api.github.com/users/zyf0330/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zyf0330/subscriptions", "organizations_url": "https://api.github.com/users/zyf0330/orgs", "repos_url": "https://api.github.com/users/zyf0330/repos", "events_url": "https://api.github.com/users/zyf0330/events{/privacy}", "received_events_url": "https://api.github.com/users/zyf0330/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 31, "created_at": "2015-08-05T03:23:39Z", "updated_at": "2022-09-14T22:28:33Z", "closed_at": "2015-09-19T22:19:50Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "``` javascript\nfunction fileFilter (req, file, cb) {\n\n  // The function should call `cb` with a boolean\n  // to indicate if the file should be accepted\n\n  // To reject this file pass `false`, like so:\n  cb(null, false)\n\n  // To accept the file pass `true`, like so:\n  cb(null, true)\n\n  // You can always pass an error if something goes wrong:\n  cb(new Error('I don\\'t have a clue!'))\n\n}\n```\n\nThis line within 'new Error' works not well.\nThough \n\n``` javascript\nres.render('error', {\n      message: err.message,\n      error: err\n    });\n```\n\nhas been executed in app.js error handle,but the page shows it is uploading file.\n", "closed_by": {"login": "LinusU", "id": 189580, "node_id": "MDQ6VXNlcjE4OTU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/189580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusU", "html_url": "https://github.com/LinusU", "followers_url": "https://api.github.com/users/LinusU/followers", "following_url": "https://api.github.com/users/LinusU/following{/other_user}", "gists_url": "https://api.github.com/users/LinusU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusU/subscriptions", "organizations_url": "https://api.github.com/users/LinusU/orgs", "repos_url": "https://api.github.com/users/LinusU/repos", "events_url": "https://api.github.com/users/LinusU/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusU/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/192/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/168", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/168/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/168/events", "html_url": "https://github.com/expressjs/multer/issues/168", "id": 96248332, "node_id": "MDU6SXNzdWU5NjI0ODMzMg==", "number": 168, "title": "Request pending if file limit exceed ", "user": {"login": "vmartis", "id": 10496349, "node_id": "MDQ6VXNlcjEwNDk2MzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/10496349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmartis", "html_url": "https://github.com/vmartis", "followers_url": "https://api.github.com/users/vmartis/followers", "following_url": "https://api.github.com/users/vmartis/following{/other_user}", "gists_url": "https://api.github.com/users/vmartis/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmartis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmartis/subscriptions", "organizations_url": "https://api.github.com/users/vmartis/orgs", "repos_url": "https://api.github.com/users/vmartis/repos", "events_url": "https://api.github.com/users/vmartis/events{/privacy}", "received_events_url": "https://api.github.com/users/vmartis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 19, "created_at": "2015-07-21T07:23:38Z", "updated_at": "2018-02-13T05:06:35Z", "closed_at": "2015-08-06T19:11:28Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I use multer with single file variant.\n\n``` javascript\nvar multer  = require('multer');\n\n  var avatarMulter = multer({\n    dest: './uploads/avatar',\n    limits: {\n      fieldNameSize: 100,\n      fileSize: 1048576,\n      files: 1,\n      fields: 1\n    }\n  });\n\napp.post('/api/photo', avatarMulter.single('file'), auth.requiresLogin, usersCustom.processAvatarImage);\n```\n\nLog:\n\n``` text\nError: File too large\n    at makeError (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\lib\\make-error.js:12:13)\n    at abortWithCode (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\lib\\make-middleware.js:64:22)\n    at FileStream.<anonymous> (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\lib\\make-middleware.js:116:11)\n    at FileStream.emit (events.js:104:17)\n    at PartStream.onData (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\lib\\types\\multipart.js:212:18)\n    at PartStream.emit (events.js:107:17)\n    at readableAddChunk (_stream_readable.js:163:16)\n    at PartStream.Readable.push (_stream_readable.js:126:10)\n    at Dicer._oninfo (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\node_modules\\dicer\\lib\\Dicer.js:192:36)\n    at SBMH.<anonymous> (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\node_modules\\dicer\\lib\\Dicer.js:127:10)\n    at SBMH.emit (events.js:118:17)\n    at SBMH._sbmh_feed (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\node_modules\\dicer\\node_modules\\streamsearch\\lib\\sbmh.js:188:10)\n   at SBMH.push (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\node_modules\\dicer\\node_modules\\streamsearch\\lib\\sbmh.js:56:14)\n    at Dicer._write (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\node_modules\\dicer\\lib\\Dicer.js:109:17)\n    at doWrite (_stream_writable.js:301:12)\n    at writeOrBuffer (_stream_writable.js:288:5)\n    at Dicer.Writable.write (_stream_writable.js:217:11)\n    at Multipart.write (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\lib\\types\\multipart.js:282:24)\n    at Busboy._write (C:\\Users\\Viktor\\Develop\\OnlineKonzultace\\sources\\onlinekonzultace\\node_modules\\multer\\node_modules\\busboy\\lib\\main.js:72:16)\n    at doWrite (_stream_writable.js:301:12)\n    at writeOrBuffer (_stream_writable.js:288:5)\n    at Busboy.Writable.write (_stream_writable.js:217:11)\nPOST /api/photo 500 - - 74.112 ms\n```\n\nBut express still processing request (rrequest is still pending from browser). Also invalid file is not deleted from /upload/avatar directory.\n\nI try use checking err directly (below), but problem is same. My processing avatar function is never run after mutler CB. I also try remove everything except mutler callback and problem is still in.\n\n``` javascript\nmulterInstance(req, res, function (err) {\n      if (err) {\n        console.log(err);\n        return res.status(500).json({error: 'error'});\n      }\n      console.log('OK');\n      res.json({});\n    })\n```\n", "closed_by": {"login": "LinusU", "id": 189580, "node_id": "MDQ6VXNlcjE4OTU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/189580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusU", "html_url": "https://github.com/LinusU", "followers_url": "https://api.github.com/users/LinusU/followers", "following_url": "https://api.github.com/users/LinusU/following{/other_user}", "gists_url": "https://api.github.com/users/LinusU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusU/subscriptions", "organizations_url": "https://api.github.com/users/LinusU/orgs", "repos_url": "https://api.github.com/users/LinusU/repos", "events_url": "https://api.github.com/users/LinusU/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusU/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/168/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/1247", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/1247/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/1247/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/1247/events", "html_url": "https://github.com/expressjs/multer/issues/1247", "id": 2200253308, "node_id": "I_kwDOAPoIM86DJTN8", "number": 1247, "title": "Request not finish when recieve an error", "user": {"login": "pullmann4rent", "id": 123197323, "node_id": "U_kgDOB1fXiw", "avatar_url": "https://avatars.githubusercontent.com/u/123197323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pullmann4rent", "html_url": "https://github.com/pullmann4rent", "followers_url": "https://api.github.com/users/pullmann4rent/followers", "following_url": "https://api.github.com/users/pullmann4rent/following{/other_user}", "gists_url": "https://api.github.com/users/pullmann4rent/gists{/gist_id}", "starred_url": "https://api.github.com/users/pullmann4rent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pullmann4rent/subscriptions", "organizations_url": "https://api.github.com/users/pullmann4rent/orgs", "repos_url": "https://api.github.com/users/pullmann4rent/repos", "events_url": "https://api.github.com/users/pullmann4rent/events{/privacy}", "received_events_url": "https://api.github.com/users/pullmann4rent/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2024-03-21T13:49:06Z", "updated_at": "2025-07-12T01:08:37Z", "closed_at": "2025-07-12T01:08:37Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I use multer for uploading files and if I upload an unexisting file or with a different file name then I get this\r\n\r\n`MulterError: Unexpected field`\r\n\r\nThis is good that I catch the error but I can not send anymore request until I restart. Why ?\r\n\r\nI use all of my files try catch and when I get an error I never got this problem. Only when it goes to my custom error handler:\r\n\r\n```\r\nexport const app = express();\r\n\r\nconst upload = multer({ \r\n limits: {\r\n fileSize: 10 * 1024 * 1024,\r\n  },  \r\n fileFilter: (_req, file, cb) => {\r\n if (!allowedFileMimetypeAndExtensions.includes(file.mimetype)) {\r\n return cb(new Error('Diese Bilddatei ist nicht erlaubt.'));\r\n    }\r\n\r\n cb(null, true)\r\n  }\r\n});\r\n\r\nconst redisStore = new RedisStorage({ client: redis });\r\n\r\n// The request handler must be the first middleware on the app\r\napp.use(Sentry.Handlers.requestHandler());\r\n\r\n// TracingHandler creates a trace for every incoming request\r\napp.use(Sentry.Handlers.tracingHandler());\r\n\r\napp.use(morgan('dev'));\r\n\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.json());\r\n\r\n//Reduce Fingerprint\r\napp.disable('x-powered-by');\r\n\r\napp.use(cors());\r\napp.use(helmet());\r\n\r\napp.post('/api/upload/images', [upload.array('image', 10)], async (req: Request, res: Response) => {\r\n try {\r\n console.log(req.file);\r\n console.log(req.files);\r\n return res.status(201).json({});\r\n  } catch(e) {\r\n console.log(e);\r\n Sentry.captureException(e);\r\n return res.status(500).json({\r\n message: e\r\n    });\r\n  }\r\n});\r\n\r\n// The error handler must be registered before any other error middleware and after all controllers\r\napp.use(Sentry.Handlers.errorHandler());\r\n\r\n// Custom Error Handler HERE I CATCH THE ERROR\r\napp.use(errorHandler);\r\napp.listen(3000, () => {\r\n console.log('SERVER LISTEN ON PORT 3000');\r\n});\r\n```\r\n\r\nAnd here is my custom error handler\r\n\r\n```\r\nimport * as Sentry from '@sentry/node';\r\nimport { NextFunction, Request, Response } from 'express';\r\n\r\nexport const errorHandler = (err: Error, _req: Request, res: Response, _next: NextFunction) => {\r\n  Sentry.captureException(err);\r\n  console.log(`Errorhandler: ${err}`);\r\n  return res.status(500).json({error: 'Etwas ist schief gelaufen.'});\r\n};\r\n```", "closed_by": {"login": "bjohansebas", "id": 103585995, "node_id": "U_kgDOBiyYyw", "avatar_url": "https://avatars.githubusercontent.com/u/103585995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjohansebas", "html_url": "https://github.com/bjohansebas", "followers_url": "https://api.github.com/users/bjohansebas/followers", "following_url": "https://api.github.com/users/bjohansebas/following{/other_user}", "gists_url": "https://api.github.com/users/bjohansebas/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjohansebas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjohansebas/subscriptions", "organizations_url": "https://api.github.com/users/bjohansebas/orgs", "repos_url": "https://api.github.com/users/bjohansebas/repos", "events_url": "https://api.github.com/users/bjohansebas/events{/privacy}", "received_events_url": "https://api.github.com/users/bjohansebas/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/1247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/1247/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/194", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/194/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/194/events", "html_url": "https://github.com/expressjs/multer/issues/194", "id": 99629851, "node_id": "MDU6SXNzdWU5OTYyOTg1MQ==", "number": 194, "title": "Partially uploaded files are not removed when fileSize kicks in", "user": {"login": "qqilihq", "id": 2172260, "node_id": "MDQ6VXNlcjIxNzIyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2172260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qqilihq", "html_url": "https://github.com/qqilihq", "followers_url": "https://api.github.com/users/qqilihq/followers", "following_url": "https://api.github.com/users/qqilihq/following{/other_user}", "gists_url": "https://api.github.com/users/qqilihq/gists{/gist_id}", "starred_url": "https://api.github.com/users/qqilihq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qqilihq/subscriptions", "organizations_url": "https://api.github.com/users/qqilihq/orgs", "repos_url": "https://api.github.com/users/qqilihq/repos", "events_url": "https://api.github.com/users/qqilihq/events{/privacy}", "received_events_url": "https://api.github.com/users/qqilihq/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-08-07T11:13:42Z", "updated_at": "2018-07-05T20:07:43Z", "closed_at": "2015-09-19T22:20:07Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I'm using the `fileSize` property to set a maximum upload size limit. In case, the uploaded file size exceeds the specified `fileSize` limit, the transfer is interrupted (as expected), but the partially uploaded file still exists on disk. \n\nI feel, that such files should be removed automatically (also concerning the fact, that there seems to be no way of retrieving the path of partially uploaded files within my callback methods).\n", "closed_by": {"login": "LinusU", "id": 189580, "node_id": "MDQ6VXNlcjE4OTU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/189580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusU", "html_url": "https://github.com/LinusU", "followers_url": "https://api.github.com/users/LinusU/followers", "following_url": "https://api.github.com/users/LinusU/following{/other_user}", "gists_url": "https://api.github.com/users/LinusU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusU/subscriptions", "organizations_url": "https://api.github.com/users/LinusU/orgs", "repos_url": "https://api.github.com/users/LinusU/repos", "events_url": "https://api.github.com/users/LinusU/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusU/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/194/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/31", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/31/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/31/events", "html_url": "https://github.com/expressjs/multer/issues/31", "id": 35209252, "node_id": "MDU6SXNzdWUzNTIwOTI1Mg==", "number": 31, "title": "regards limits in multer", "user": {"login": "harmnprt", "id": 6390060, "node_id": "MDQ6VXNlcjYzOTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6390060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harmnprt", "html_url": "https://github.com/harmnprt", "followers_url": "https://api.github.com/users/harmnprt/followers", "following_url": "https://api.github.com/users/harmnprt/following{/other_user}", "gists_url": "https://api.github.com/users/harmnprt/gists{/gist_id}", "starred_url": "https://api.github.com/users/harmnprt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harmnprt/subscriptions", "organizations_url": "https://api.github.com/users/harmnprt/orgs", "repos_url": "https://api.github.com/users/harmnprt/repos", "events_url": "https://api.github.com/users/harmnprt/events{/privacy}", "received_events_url": "https://api.github.com/users/harmnprt/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 77859165, "node_id": "MDU6TGFiZWw3Nzg1OTE2NQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 99233813, "node_id": "MDU6TGFiZWw5OTIzMzgxMw==", "url": "https://api.github.com/repos/expressjs/multer/labels/investigate", "name": "investigate", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-06-07T14:12:06Z", "updated_at": "2014-11-03T23:44:42Z", "closed_at": "2014-07-13T14:26:15Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "when we upload file thats bigger than \"fileSize\" limit. multer can store that file with new limited size. How we get limit of file exceed ??\nAnd one simple one, what is the unit type we specify in limits ?\n", "closed_by": {"login": "hacksparrow", "id": 950112, "node_id": "MDQ6VXNlcjk1MDExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/950112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hacksparrow", "html_url": "https://github.com/hacksparrow", "followers_url": "https://api.github.com/users/hacksparrow/followers", "following_url": "https://api.github.com/users/hacksparrow/following{/other_user}", "gists_url": "https://api.github.com/users/hacksparrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/hacksparrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hacksparrow/subscriptions", "organizations_url": "https://api.github.com/users/hacksparrow/orgs", "repos_url": "https://api.github.com/users/hacksparrow/repos", "events_url": "https://api.github.com/users/hacksparrow/events{/privacy}", "received_events_url": "https://api.github.com/users/hacksparrow/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/31/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/31/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/1269", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/1269/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/1269/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/1269/events", "html_url": "https://github.com/expressjs/multer/issues/1269", "id": 2459090194, "node_id": "I_kwDOAPoIM86Skr0S", "number": 1269, "title": "multer fields array returned only first file", "user": {"login": "Webb-orbit", "id": 130279128, "node_id": "U_kgDOB8Pm2A", "avatar_url": "https://avatars.githubusercontent.com/u/130279128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Webb-orbit", "html_url": "https://github.com/Webb-orbit", "followers_url": "https://api.github.com/users/Webb-orbit/followers", "following_url": "https://api.github.com/users/Webb-orbit/following{/other_user}", "gists_url": "https://api.github.com/users/Webb-orbit/gists{/gist_id}", "starred_url": "https://api.github.com/users/Webb-orbit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Webb-orbit/subscriptions", "organizations_url": "https://api.github.com/users/Webb-orbit/orgs", "repos_url": "https://api.github.com/users/Webb-orbit/repos", "events_url": "https://api.github.com/users/Webb-orbit/events{/privacy}", "received_events_url": "https://api.github.com/users/Webb-orbit/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2024-08-10T13:43:52Z", "updated_at": "2024-08-14T03:57:11Z", "closed_at": "2024-08-14T03:57:11Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "The issue with Multer's .fields() method returning only the first file in the array\r\n\r\nFor example:\r\n```\r\nconst upload = multer({ dest: 'uploads/' });\r\n\r\napp.post('/upload', upload.fields([\r\n  { name: 'images' },\r\n  { name: 'documents' }\r\n]), (req, res) => { });\r\n```\r\n\r\nreq.files returns only first value on the object \r\n\r\nplease fixed the problem", "closed_by": {"login": "Webb-orbit", "id": 130279128, "node_id": "U_kgDOB8Pm2A", "avatar_url": "https://avatars.githubusercontent.com/u/130279128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Webb-orbit", "html_url": "https://github.com/Webb-orbit", "followers_url": "https://api.github.com/users/Webb-orbit/followers", "following_url": "https://api.github.com/users/Webb-orbit/following{/other_user}", "gists_url": "https://api.github.com/users/Webb-orbit/gists{/gist_id}", "starred_url": "https://api.github.com/users/Webb-orbit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Webb-orbit/subscriptions", "organizations_url": "https://api.github.com/users/Webb-orbit/orgs", "repos_url": "https://api.github.com/users/Webb-orbit/repos", "events_url": "https://api.github.com/users/Webb-orbit/events{/privacy}", "received_events_url": "https://api.github.com/users/Webb-orbit/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/1269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/1269/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/918", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/918/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/918/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/918/events", "html_url": "https://github.com/expressjs/multer/issues/918", "id": 656448718, "node_id": "MDU6SXNzdWU2NTY0NDg3MTg=", "number": 918, "title": "Update busboy to avoid deprecated Buffer API usage and drop support for Node.js 0.10 and 0.12", "user": {"login": "dmnsgn", "id": 1636460, "node_id": "MDQ6VXNlcjE2MzY0NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1636460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmnsgn", "html_url": "https://github.com/dmnsgn", "followers_url": "https://api.github.com/users/dmnsgn/followers", "following_url": "https://api.github.com/users/dmnsgn/following{/other_user}", "gists_url": "https://api.github.com/users/dmnsgn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmnsgn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmnsgn/subscriptions", "organizations_url": "https://api.github.com/users/dmnsgn/orgs", "repos_url": "https://api.github.com/users/dmnsgn/repos", "events_url": "https://api.github.com/users/dmnsgn/events{/privacy}", "received_events_url": "https://api.github.com/users/dmnsgn/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-14T08:56:31Z", "updated_at": "2022-06-15T14:48:44Z", "closed_at": "2021-09-08T18:39:14Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### Error\r\nFull error message showed in stderr:\r\n\r\n```\r\n(node:5124) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.\r\n    at showFlaggedDeprecation (buffer.js:174:11)\r\n    at new Buffer (buffer.js:257:3)\r\n    at Object.<anonymous> (/Users/my-project/node_modules/dicer/lib/HeaderParser.js:6:15)\r\n    at Module._compile (internal/modules/cjs/loader.js:967:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1004:10)\r\n    at Module.load (internal/modules/cjs/loader.js:815:32)\r\n    at Module._load (internal/modules/cjs/loader.js:727:14)\r\n    at Function.Module._load (electron/js2c/asar.js:769:28)\r\n    at Module.require (internal/modules/cjs/loader.js:852:19)\r\n    at require (internal/modules/cjs/helpers.js:74:18)\r\n```\r\n\r\n### Reason\r\nAs you can see, the error comes from `dicer`, the unique dependency of `busboy`.\r\nAre there any blockers to update busboy to `0.3.x`, version that includes the right `Buffer.from` syntax instead of `new Buffer()`. See following commit https://github.com/mscdex/busboy/commit/5777457431dbcd165c520d632c39d807cb6597a4\r\n\r\n### Solution\r\nThis previously opened PR would fix it:\r\nhttps://github.com/expressjs/multer/pull/736\r\n\r\nIts travis tests only fail on Node.js version 0.10 an 0.12 (https://travis-ci.org/github/expressjs/multer/builds/522381120) which have ended their life 4 years ago (2016-12-31). Even if https://github.com/expressjs/multer/issues/414 is underway, can we at least:\r\n- mark these two version as deprecated\r\n- remove them from travis tests\r\n- update busboy\r\n- publish a minor version\r\n\r\nso the Buffer problem goes away?\r\n\r\nThanks", "closed_by": {"login": "LinusU", "id": 189580, "node_id": "MDQ6VXNlcjE4OTU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/189580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusU", "html_url": "https://github.com/LinusU", "followers_url": "https://api.github.com/users/LinusU/followers", "following_url": "https://api.github.com/users/LinusU/following{/other_user}", "gists_url": "https://api.github.com/users/LinusU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusU/subscriptions", "organizations_url": "https://api.github.com/users/LinusU/orgs", "repos_url": "https://api.github.com/users/LinusU/repos", "events_url": "https://api.github.com/users/LinusU/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusU/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/918/reactions", "total_count": 18, "+1": 18, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/918/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/1336", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/1336/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/1336/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/1336/events", "html_url": "https://github.com/expressjs/multer/issues/1336", "id": 3148443773, "node_id": "I_kwDOAPoIM867qXB9", "number": 1336, "title": "Blackduck scan  reported security issue  BDSA 2025-5419", "user": {"login": "raju-gspann", "id": 198697277, "node_id": "U_kgDOC9fhPQ", "avatar_url": "https://avatars.githubusercontent.com/u/198697277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raju-gspann", "html_url": "https://github.com/raju-gspann", "followers_url": "https://api.github.com/users/raju-gspann/followers", "following_url": "https://api.github.com/users/raju-gspann/following{/other_user}", "gists_url": "https://api.github.com/users/raju-gspann/gists{/gist_id}", "starred_url": "https://api.github.com/users/raju-gspann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raju-gspann/subscriptions", "organizations_url": "https://api.github.com/users/raju-gspann/orgs", "repos_url": "https://api.github.com/users/raju-gspann/repos", "events_url": "https://api.github.com/users/raju-gspann/events{/privacy}", "received_events_url": "https://api.github.com/users/raju-gspann/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 3, "created_at": "2025-06-16T03:46:57Z", "updated_at": "2025-06-18T13:34:46Z", "closed_at": "2025-06-16T15:48:49Z", "assignee": null, "author_association": "NONE", "type": {"id": 447795, "node_id": "IT_kwDOAFZWcs4ABtUz", "name": "Bug", "description": "An unexpected problem or behavior", "color": "red", "created_at": "2024-01-25T09:49:38Z", "updated_at": "2024-07-26T10:10:17Z", "is_enabled": true}, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Blackduck scan reported security issue on  multer latest version 2.0.1, \nPlease refer the below screenshot.\n\n![Image](https://github.com/user-attachments/assets/422f072a-6d9b-4638-9266-8e27bd5f2693)", "closed_by": {"login": "ctcpip", "id": 15326526, "node_id": "MDQ6VXNlcjE1MzI2NTI2", "avatar_url": "https://avatars.githubusercontent.com/u/15326526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctcpip", "html_url": "https://github.com/ctcpip", "followers_url": "https://api.github.com/users/ctcpip/followers", "following_url": "https://api.github.com/users/ctcpip/following{/other_user}", "gists_url": "https://api.github.com/users/ctcpip/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctcpip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctcpip/subscriptions", "organizations_url": "https://api.github.com/users/ctcpip/orgs", "repos_url": "https://api.github.com/users/ctcpip/repos", "events_url": "https://api.github.com/users/ctcpip/events{/privacy}", "received_events_url": "https://api.github.com/users/ctcpip/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/1336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/1336/timeline", "performed_via_github_app": null, "state_reason": "not_planned", "pinned_comment": null}, {"url": "https://api.github.com/repos/expressjs/multer/issues/45", "repository_url": "https://api.github.com/repos/expressjs/multer", "labels_url": "https://api.github.com/repos/expressjs/multer/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/expressjs/multer/issues/45/comments", "events_url": "https://api.github.com/repos/expressjs/multer/issues/45/events", "html_url": "https://github.com/expressjs/multer/pull/45", "id": 37394855, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgxMTcxMTA=", "number": 45, "title": "Fixed problem when uploading small files", "user": {"login": "maxclaus", "id": 680356, "node_id": "MDQ6VXNlcjY4MDM1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/680356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxclaus", "html_url": "https://github.com/maxclaus", "followers_url": "https://api.github.com/users/maxclaus/followers", "following_url": "https://api.github.com/users/maxclaus/following{/other_user}", "gists_url": "https://api.github.com/users/maxclaus/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxclaus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxclaus/subscriptions", "organizations_url": "https://api.github.com/users/maxclaus/orgs", "repos_url": "https://api.github.com/users/maxclaus/repos", "events_url": "https://api.github.com/users/maxclaus/events{/privacy}", "received_events_url": "https://api.github.com/users/maxclaus/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 77859161, "node_id": "MDU6TGFiZWw3Nzg1OTE2MQ==", "url": "https://api.github.com/repos/expressjs/multer/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 99233813, "node_id": "MDU6TGFiZWw5OTIzMzgxMw==", "url": "https://api.github.com/repos/expressjs/multer/labels/investigate", "name": "investigate", "color": "bfdadc", "default": false, "description": null}, {"id": 100714209, "node_id": "MDU6TGFiZWwxMDA3MTQyMDk=", "url": "https://api.github.com/repos/expressjs/multer/labels/pr", "name": "pr", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-07-08T17:42:59Z", "updated_at": "2014-07-13T12:28:32Z", "closed_at": "2014-07-13T12:28:32Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/expressjs/multer/pulls/45", "html_url": "https://github.com/expressjs/multer/pull/45", "diff_url": "https://github.com/expressjs/multer/pull/45.diff", "patch_url": "https://github.com/expressjs/multer/pull/45.patch", "merged_at": "2014-07-13T12:28:32Z"}, "body": "I have changed to pass the control to the next middleware in stack only if the read and write stream are finished.\n\nThe reason to do that is because I had some problems when uploading a small file (e.g. less than 50kb).\nApparently was reading so fast that was passing to the next middleware in the stack even before the files was really saved in the hard disk.\n\nTherefore is only going to consider finished if the read is finished and all files was already processed.\n", "closed_by": {"login": "hacksparrow", "id": 950112, "node_id": "MDQ6VXNlcjk1MDExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/950112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hacksparrow", "html_url": "https://github.com/hacksparrow", "followers_url": "https://api.github.com/users/hacksparrow/followers", "following_url": "https://api.github.com/users/hacksparrow/following{/other_user}", "gists_url": "https://api.github.com/users/hacksparrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/hacksparrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hacksparrow/subscriptions", "organizations_url": "https://api.github.com/users/hacksparrow/orgs", "repos_url": "https://api.github.com/users/hacksparrow/repos", "events_url": "https://api.github.com/users/hacksparrow/events{/privacy}", "received_events_url": "https://api.github.com/users/hacksparrow/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/expressjs/multer/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/expressjs/multer/issues/45/timeline", "performed_via_github_app": null, "state_reason": null}]}