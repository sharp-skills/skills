{"d": [{"url": "https://api.github.com/repos/honojs/hono/issues/1695", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/1695/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/1695/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/1695/events", "html_url": "https://github.com/honojs/hono/issues/1695", "id": 1992492062, "node_id": "I_kwDOGiE5WM52wwQe", "number": 1695, "title": "TypeError: Response body object should not be disturbed or locked", "user": {"login": "RobertSasak", "id": 281281, "node_id": "MDQ6VXNlcjI4MTI4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/281281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RobertSasak", "html_url": "https://github.com/RobertSasak", "followers_url": "https://api.github.com/users/RobertSasak/followers", "following_url": "https://api.github.com/users/RobertSasak/following{/other_user}", "gists_url": "https://api.github.com/users/RobertSasak/gists{/gist_id}", "starred_url": "https://api.github.com/users/RobertSasak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RobertSasak/subscriptions", "organizations_url": "https://api.github.com/users/RobertSasak/orgs", "repos_url": "https://api.github.com/users/RobertSasak/repos", "events_url": "https://api.github.com/users/RobertSasak/events{/privacy}", "received_events_url": "https://api.github.com/users/RobertSasak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 44, "created_at": "2023-11-14T10:50:21Z", "updated_at": "2026-02-11T05:03:01Z", "closed_at": "2025-01-30T22:09:32Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n3.9.0\n\n### What runtime/platform is your app running on?\n\nFirebase functions\n\n### What steps can reproduce the bug?\n\nHere is a simple example with POST end point. \r\n\r\n```ts\r\nimport { getRequestListener } from '@hono/node-server'\r\nimport { Hono } from 'hono'\r\n\r\nconst app = new Hono()\r\n\r\napp.post('/hello', async (c) => {\r\n  return c.text('Hello World!')\r\n})\r\n\r\nexport const web = onRequest(getRequestListener(app.fetch))\r\n```\n\n### What is the expected behavior?\n\nRequst should reach Heno and Hello World should appear.\n\n### What do you see instead?\n\nThere is an following silent error 500 when doing a POST request with payload. By placing an console.log in https://github.com/honojs/node-server/blob/3575d60a15e345700b81e22376825e98b0a69ebe/src/listener.ts#L42 it is possible to see this error.\r\n```\r\nTypeError: Response body object should not be disturbed or locked\r\n    at extractBody (node:internal/deps/undici/undici:6433:17)\r\n    at new Request (node:internal/deps/undici/undici:7314:48)\r\n    at /<path>/functions/node_modules/@hono/node-server/dist/listener.js:48:33\r\n    at /<path>/functions/lib/functions/src/index.js:79:64\r\n    at /<path>/functions/node_modules/firebase-functions/lib/v2/providers/https.js:57:29\r\n    at cors (/<path>/functions/node_modules/cors/lib/index.js:188:7)\r\n    at /<path>/functions/node_modules/cors/lib/index.js:224:17\r\n    at originCallback (/<path>/functions/node_modules/cors/lib/index.js:214:15)\r\n    at /<path>/functions/node_modules/cors/lib/index.js:219:13\r\n    at optionsCallback (/<path>/functions/node_modules/cors/lib/index.js:199:9)\r\n```\n\n### Additional information\n\nSimilar issue is documented here https://github.com/honojs/node-server/issues/84\r\n\r\nAs far as I understand the issue occurs in https://github.com/honojs/node-server/blob/3575d60a15e345700b81e22376825e98b0a69ebe/src/listener.ts#L40 . Here the new Request is created from incoming request. \r\n\r\nFirebase use expressjs to process all request and also expose _Express JS Request_ object as an _incoming_. However this request is already \"processed\" and the actual body stream is already read. \r\n\r\nSo when on line https://github.com/honojs/node-server/blob/3575d60a15e345700b81e22376825e98b0a69ebe/src/listener.ts#L38 the read stream is create there is nothing to read. \r\n\r\nI am not sure if this is an issue of Hono or how to approach it. \r\n\r\nMy workaround is to patch listner file and restore body from rawBody.\r\n```ts\r\ndiff --git a/node_modules/@hono/node-server/dist/listener.js b/node_modules/@hono/node-server/dist/listener.js\r\nindex 3f5eaf7..e3541d0 100644\r\n--- a/node_modules/@hono/node-server/dist/listener.js\r\n+++ b/node_modules/@hono/node-server/dist/listener.js\r\n@@ -38,7 +38,14 @@ const getRequestListener = (fetchCallback) => {\r\n       headers: headerRecord\r\n     };\r\n     if (!(method === \"GET\" || method === \"HEAD\")) {\r\n-      init.body = import_node_stream.Readable.toWeb(incoming);\r\n+      // init.body = import_node_stream.Readable.toWeb(incoming);\r\n+      init.body = new ReadableStream({\r\n+        start(controller){\r\n+          controller.enqueue(incoming.rawBody);\r\n+          // controller.enqueue('{\"c\":\"d\"}');\r\n+            controller.close();\r\n+        }\r\n+      });\r\n       init.duplex = \"half\";\r\n     }\r\n     let res;\r\n\r\n```", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/1695/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/1695/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/1800", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/1800/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/1800/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/1800/events", "html_url": "https://github.com/honojs/hono/issues/1800", "id": 2034452431, "node_id": "I_kwDOGiE5WM55Q0fP", "number": 1800, "title": "JSON response can't contain Dates", "user": {"login": "DeanMauro", "id": 8672064, "node_id": "MDQ6VXNlcjg2NzIwNjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8672064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeanMauro", "html_url": "https://github.com/DeanMauro", "followers_url": "https://api.github.com/users/DeanMauro/followers", "following_url": "https://api.github.com/users/DeanMauro/following{/other_user}", "gists_url": "https://api.github.com/users/DeanMauro/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeanMauro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeanMauro/subscriptions", "organizations_url": "https://api.github.com/users/DeanMauro/orgs", "repos_url": "https://api.github.com/users/DeanMauro/repos", "events_url": "https://api.github.com/users/DeanMauro/events{/privacy}", "received_events_url": "https://api.github.com/users/DeanMauro/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 29, "created_at": "2023-12-10T17:02:29Z", "updated_at": "2025-04-11T01:08:29Z", "closed_at": "2023-12-13T00:01:36Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n3.11.4\n\n### What runtime/platform is your app running on?\n\nCloudflare Pages Function\n\n### What steps can reproduce the bug?\n\nReturn an object containing a Date with `context.json`. For example:\r\n\r\n```\r\n  const router = new Hono();\r\n\r\n  router.get('/test', (context) => {\r\n    const response = {\r\n      dateValue: new Date()\r\n    };\r\n\r\n    return context.json(response);\r\n  });\r\n```\n\n### What is the expected behavior?\n\nBecause Hono uses JSON.stringify() under the hood, I would expect the code above to be valid.\n\n### What do you see instead?\n\nA type error is shown because `Date` is not considered a `JSONObject` or `JSONPrimitive`.\r\n\r\n```\r\nNo overload matches this call.\r\n  Overload 1 of 2, '(object: JSONValue, status?: number | undefined, headers?: HeaderRecord | undefined): Response & TypedResponse<never>', gave the following error.\r\n    Argument of type '{ dateValue: Date; }' is not assignable to parameter of type 'JSONValue'.\r\n      Type '{ dateValue: Date; }' is not assignable to type 'JSONObject'.\r\n        Property 'dateValue' is incompatible with index signature.\r\n          Type 'Date' is not assignable to type 'JSONObject | JSONArray | JSONPrimitive'.\r\n            Type 'Date' is not assignable to type 'JSONObject'.\r\n              Index signature for type 'string' is missing in type 'Date'.\r\n  Overload 2 of 2, '(object: JSONValue, init?: ResponseInit | undefined): Response & TypedResponse<never>', gave the following error.\r\n    Argument of type '{ dateValue: Date; }' is not assignable to parameter of type 'JSONValue'.ts(2769)\r\n```\n\n### Additional information\n\nThe code executes fine, with the Date being stringified in the response as expected. For this reason especially, I consider the typing to be inaccurate. It disallows a valid type.", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/1800/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/1800/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/3518", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/3518/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/3518/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/3518/events", "html_url": "https://github.com/honojs/hono/issues/3518", "id": 2586331656, "node_id": "I_kwDOGiE5WM6aKEoI", "number": 3518, "title": "Proxying compressed response do not work out of the box", "user": {"login": "haochenx", "id": 2413116, "node_id": "MDQ6VXNlcjI0MTMxMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2413116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haochenx", "html_url": "https://github.com/haochenx", "followers_url": "https://api.github.com/users/haochenx/followers", "following_url": "https://api.github.com/users/haochenx/following{/other_user}", "gists_url": "https://api.github.com/users/haochenx/gists{/gist_id}", "starred_url": "https://api.github.com/users/haochenx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haochenx/subscriptions", "organizations_url": "https://api.github.com/users/haochenx/orgs", "repos_url": "https://api.github.com/users/haochenx/repos", "events_url": "https://api.github.com/users/haochenx/events{/privacy}", "received_events_url": "https://api.github.com/users/haochenx/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 26, "created_at": "2024-10-14T15:05:53Z", "updated_at": "2025-04-01T09:04:12Z", "closed_at": "2025-04-01T09:04:11Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\n4.6.4\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nLocal Dev Server (with `@hono/vite-dev-server`) and Cloudflare Workers Local Dev Server (via `wrangler dev`)\r\n\r\n### What steps can reproduce the bug?\r\n\r\nrun\r\n* a wrangler dev server that serves at `localhost:8787` (e.g. with `wrangler dev src/index.ts`)\r\n* a vite dev server that serves at `localhost:5173` (e.g. with `vite`)\r\n\r\n### Part 1\r\n\r\nhaving the following middleware:\r\n\r\n```ts\r\napp.use(\"*\", async (c, next) => {\r\n  function shouldProxy() {\r\n    const pathname = c.req.path;\r\n    return (\r\n      pathname.startsWith(\"/api/\") ||\r\n    );\r\n  }\r\n  if (c.env.IS_VITE_DEVSERVER && shouldProxy()) {\r\n    const target = new URL(c.req.url);\r\n    target.port = \"8787\";\r\n    console.log(`proxying to ${target.toString()}`);\r\n    const response = await fetch(new Request(target, c.req.raw));\r\n    return new Response(response.body, response);\r\n  } else {\r\n    return next();\r\n  }\r\n});\r\n```\r\n\r\nnow, attempt to access `localhost:5173/api/hello` (e.g. using httpie command ``) gives the following error:\r\n```\r\nhttp -v GET :5173/api/hello\r\nGET /api/hello HTTP/1.1\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate\r\nConnection: keep-alive\r\nHost: localhost:5173\r\nUser-Agent: HTTPie/3.2.2\r\n\r\n\r\n\r\nHTTP/1.1 200 OK\r\nConnection: keep-alive\r\nDate: Mon, 14 Oct 2024 14:59:42 GMT\r\nKeep-Alive: timeout=5\r\ncontent-encoding: gzip\r\ncontent-type: text/plain;charset=UTF-8\r\ntransfer-encoding: chunked\r\n\r\n\r\nhttp: error: ContentDecodingError: ('Received response with content-encoding: gzip, but failed to decode it.', error('Error -3 while decompressing data: incorrect header check'))\r\n```\r\n\r\non the vite devserver log, we can see the following output:\r\n```\r\nproxying to http://localhost:8787/api/hello\r\n```\r\n\r\nnote that directly accessing http://localhost:8787/api/hello gives the following result:\r\n```\r\nhttp -v GET :8787/api/hello\r\nGET /api/hello HTTP/1.1\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate\r\nConnection: keep-alive\r\nHost: localhost:8787\r\nUser-Agent: HTTPie/3.2.2\r\n\r\n\r\n\r\nHTTP/1.1 200 OK\r\nContent-Encoding: gzip\r\nContent-Type: text/plain;charset=UTF-8\r\nTransfer-Encoding: chunked\r\n\r\nhi!\r\n```\r\n\r\n### Part 2\r\n\r\nif the middleware is modified so that the \"content-encoding\" header is stripped before returning, everything works fine.\r\ne.g. changing the returning line to the following:\r\n\r\n```ts\r\n    return new Response(response.body, {\r\n      ...response,\r\n      headers: [...response.headers.entries()].filter(\r\n        ([k]) => k.toLocaleLowerCase() !== \"content-encoding\",\r\n      ),\r\n    });\r\n```\r\n\r\ngives the expected result.\r\n\r\n### What is the expected behavior?\r\n\r\nmanually stripping the \"content-encoding\" from the proxy'ed response should not be required for the proxying route to work.\r\n\r\n### What do you see instead?\r\n\r\n(explained above)\r\n\r\n### Additional information\r\n\r\n_No response_", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/3518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/3518/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2428", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2428/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2428/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2428/events", "html_url": "https://github.com/honojs/hono/issues/2428", "id": 2211211768, "node_id": "I_kwDOGiE5WM6DzGn4", "number": 2428, "title": "hono/zod-openapi + RPC not working ", "user": {"login": "Octo8080X", "id": 64694349, "node_id": "MDQ6VXNlcjY0Njk0MzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/64694349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Octo8080X", "html_url": "https://github.com/Octo8080X", "followers_url": "https://api.github.com/users/Octo8080X/followers", "following_url": "https://api.github.com/users/Octo8080X/following{/other_user}", "gists_url": "https://api.github.com/users/Octo8080X/gists{/gist_id}", "starred_url": "https://api.github.com/users/Octo8080X/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Octo8080X/subscriptions", "organizations_url": "https://api.github.com/users/Octo8080X/orgs", "repos_url": "https://api.github.com/users/Octo8080X/repos", "events_url": "https://api.github.com/users/Octo8080X/events{/privacy}", "received_events_url": "https://api.github.com/users/Octo8080X/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 19, "created_at": "2024-03-27T16:11:32Z", "updated_at": "2024-03-30T09:58:44Z", "closed_at": "2024-03-30T09:44:47Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\nHono\uff204.0.10, @hono/zod-openapi@0.9.9\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nDeno(1.41.3)\r\n\r\n### What steps can reproduce the bug?\r\n\r\nI have prepared a minimally configured project in this repository.\r\n\r\nhttps://github.com/Octo8080X/inspect-fresh-hono-openapi-rpc\r\n\r\nDue to some issues, it appears that hono(RPC) + hono/zod-openapi is not working.\r\n\r\nAs one of the causes, there seems to be no `openapi()` in the object provided by the `z` method provided by `@hono/zod-openapi`.\r\n\r\n```ts routes\\api\\[...path].ts\r\nimport { Handler } from \"$fresh/server.ts\";\r\nimport { OpenAPIHono, createRoute, z } from \"@hono/zod-openapi\";\r\n\r\nconst ParamsSchema = z.object({});\r\n\r\nconsole.log(z.string());\r\n// => ZodString {\r\n//      spa: [Function: bound safeParseAsync] AsyncFunction,\r\n//      _def: { checks: [], typeName: \"ZodString\", coerce: false },\r\n//      parse: [Function: bound parse],\r\n//      safeParse: [Function: bound safeParse],\r\n//      parseAsync: [Function: bound parseAsync] AsyncFunction,\r\n//      safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,\r\n//      refine: [Function: bound ],\r\n//      refinement: [Function: bound refinement],\r\n//      superRefine: [Function: bound superRefine],\r\n//      optional: [Function: bound ],\r\n//      nullable: [Function: bound ],\r\n//      nullish: [Function: bound nullish],\r\n//      array: [Function: bound array],\r\n//      promise: [Function: bound promise],\r\n//      or: [Function: bound or],\r\n//      and: [Function: bound and],\r\n//      transform: [Function: bound ],\r\n//      brand: [Function: bound brand],\r\n//      default: [Function: bound ],\r\n//      catch: [Function: bound catch],\r\n//      describe: [Function: bound describe],\r\n//      pipe: [Function: bound pipe],\r\n//      readonly: [Function: bound readonly],\r\n//      isNullable: [Function: bound isNullable],\r\n//      isOptional: [Function: bound isOptional]\r\n//    }\r\n\r\nconst HeloWorldSchema = z\r\n  .object({\r\n    message: z.string().openapi({  // <= Property 'openapi' does not exist on type 'ZodString'.\r\n      example: \"Hello World!\",\r\n    }),\r\n  })\r\n  .openapi(\"HeloWorldResponse\");  // <= Property 'openapi' does not exist on type 'ZodObject<{ message: any; }, \"strip\", ZodTypeAny, { [x: string]: any; message?: any; }, { [x: string]: any; message?: any; }>'\r\n\r\nconst route = createRoute({\r\n  method: \"get\",\r\n  path: \"/api/hello_world\",\r\n  request: {\r\n    params: ParamsSchema,\r\n  },\r\n  responses: {\r\n    200: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: HeloWorldSchema,\r\n        },\r\n      },\r\n      description: \"Retrieve the user\",\r\n    },\r\n  },\r\n});\r\n\r\nconst app = new OpenAPIHono();\r\n\r\nconst appRoutes = app.openapi(route, (c) => {\r\n  return c.json({\r\n    message: \"Hello World!\",\r\n  });\r\n});\r\n\r\nexport type AppRoutesType = typeof appRoutes;\r\n```\r\n\r\nAgain, an error is made here by creating a client using a type created from a definition that is probably faulty in some way.\r\n\r\n```ts islands\\HelloWorld.tsx\r\nimport { useEffect, useState } from \"preact/hooks\";\r\nimport { hc } from \"$hono/mod.ts\";\r\nimport type { AppRoutesType } from \"../routes/api/[...path].ts\";\r\nconst client = hc<AppRoutesType>(\"http://localhost:8000/\");   //  <= Type mismatch\r\n\r\nexport default function HelloWorld() {\r\n  // omission\r\n}\r\n```\r\n\r\nRPC with openapi removed works correctly.\r\n\r\n\r\n\r\n\r\n\r\n### What is the expected behavior?\r\n\r\nRPC can be used without causing type errors.\r\n\r\n### What do you see instead?\r\n\r\n_No response_\r\n\r\n### Additional information\r\n\r\n\r\nPerhaps this issue illustrates the same problem.\r\nhttps://github.com/honojs/hono/issues/1784", "closed_by": {"login": "Octo8080X", "id": 64694349, "node_id": "MDQ6VXNlcjY0Njk0MzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/64694349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Octo8080X", "html_url": "https://github.com/Octo8080X", "followers_url": "https://api.github.com/users/Octo8080X/followers", "following_url": "https://api.github.com/users/Octo8080X/following{/other_user}", "gists_url": "https://api.github.com/users/Octo8080X/gists{/gist_id}", "starred_url": "https://api.github.com/users/Octo8080X/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Octo8080X/subscriptions", "organizations_url": "https://api.github.com/users/Octo8080X/orgs", "repos_url": "https://api.github.com/users/Octo8080X/repos", "events_url": "https://api.github.com/users/Octo8080X/events{/privacy}", "received_events_url": "https://api.github.com/users/Octo8080X/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2428/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/3851", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/3851/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/3851/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/3851/events", "html_url": "https://github.com/honojs/hono/issues/3851", "id": 2808266736, "node_id": "I_kwDOGiE5WM6nYr_w", "number": 3851, "title": "Paths fail to match when using regex match", "user": {"login": "lukaso", "id": 5034, "node_id": "MDQ6VXNlcjUwMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukaso", "html_url": "https://github.com/lukaso", "followers_url": "https://api.github.com/users/lukaso/followers", "following_url": "https://api.github.com/users/lukaso/following{/other_user}", "gists_url": "https://api.github.com/users/lukaso/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukaso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukaso/subscriptions", "organizations_url": "https://api.github.com/users/lukaso/orgs", "repos_url": "https://api.github.com/users/lukaso/repos", "events_url": "https://api.github.com/users/lukaso/events{/privacy}", "received_events_url": "https://api.github.com/users/lukaso/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 18, "created_at": "2025-01-24T01:06:12Z", "updated_at": "2025-02-23T07:20:04Z", "closed_at": "2025-02-23T07:20:03Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n4.6.18\n\n### What runtime/platform is your app running on? (with version if possible)\n\nCloudflare workers but this happens in plain node as well\n\n### What steps can reproduce the bug?\n\nRun the following:\n\n```ts\nimport { Hono } from 'hono';\n\nconst app = new Hono({ strict: false });\n\napp.get('/:first{.+}/middle-a/:reference?', (c) => {\n  const first = c.req.param('first');\n  const reference = c.req.param('reference');\n  return c.text(first + ':' + reference);\n});\n\napp.get('/:first{.+}/middle-b/end-c/:uuid', async (c) => {\n  return c.text('if this path enabled, and next path enabled, no paths work');\n});\n\n// if this path is commented out, then we get matching\napp.get('/:first{.+}/middle-b/:digest', async (c) => {\n  return c.text('if this path and last path enabled, no paths work');\n});\n\nlet res = await app.request('/part1/part2/middle-a/latest');\nconsole.log(await res.text()); // 404\n\nres = await app.request('/part1/middle-b/end-c/latest');\nconsole.log(await res.text()); // 404\n```\n\nhttps://stackblitz.com/edit/hono-regex?file=src%2Fapp.ts\n\n### What is the expected behavior?\n\nThe requests would succeed and return the result:\n\n```\npart1/part2:latest\nif this path enabled, and next path enabled, no paths work\n```\n\n### What do you see instead?\n\nThe requests fail and return the following:\n\n```\n404 Not Found\n404 Not Found\n```\n\n### Additional information\n\nIf you comment out either the second or third path, the remaining paths work. So it appears there is some internal conflict with the matcher that is affecting all paths.\n\nI've noticed it doesn't affect other paths, and it doesn't affect any paths if the \"greedy\" matcher isn't used, namely `{.+}`.\n\nI've run into this because it's a genuine requirement for a project I'm working on.", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/3851/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/3851/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/4233", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/4233/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/4233/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/4233/events", "html_url": "https://github.com/honojs/hono/issues/4233", "id": 3156860953, "node_id": "I_kwDOGiE5WM68KeAZ", "number": 4233, "title": "Cannot transpile hono using esbuild due to dynamic import of cloudflare:workers when using inspectRoutes", "user": {"login": "vaderkos", "id": 13507416, "node_id": "MDQ6VXNlcjEzNTA3NDE2", "avatar_url": "https://avatars.githubusercontent.com/u/13507416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaderkos", "html_url": "https://github.com/vaderkos", "followers_url": "https://api.github.com/users/vaderkos/followers", "following_url": "https://api.github.com/users/vaderkos/following{/other_user}", "gists_url": "https://api.github.com/users/vaderkos/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaderkos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaderkos/subscriptions", "organizations_url": "https://api.github.com/users/vaderkos/orgs", "repos_url": "https://api.github.com/users/vaderkos/repos", "events_url": "https://api.github.com/users/vaderkos/events{/privacy}", "received_events_url": "https://api.github.com/users/vaderkos/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 17, "created_at": "2025-06-18T13:19:59Z", "updated_at": "2025-07-24T00:20:16Z", "closed_at": "2025-06-23T01:07:17Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n4.8.0\n\n### What runtime/platform is your app running on? (with version if possible)\n\nNode.js 24.0.2\n\n### What steps can reproduce the bug?\n\n**Description:**\nAs I'm using Node I do not need `cloudflare:workers` dependency. My application is transpiled using esbuild.\nUsing inspectRoutes fails transpilation beacuse of dynamic import.\n\n**Steps:**\nTry transpiling specified app code using specified esbuild configuration.\n\n\n### What is the expected behavior?\n\n`inspectRoutes` from `hono/dev` does not dynamically import `cloudflare:workers`. App should be transpilable when using `hono/dev`.\n\n### What do you see instead?\n\n```\nCould not resolve \"cloudflare:workers\"\n\n    ../../node_modules/.pnpm/hono@4.8.0/node_modules/hono/dist/utils/color.js:9:120:\n      9 \u2502 ...= \"Cloudflare-Workers\" ? \"NO_COLOR\" in ((await import(\"cloudflare:workers\")).env ?? {}) : !getColorEnabled();\n        \u2575                                                          ~~~~~~~~~~~~~~~~~~~~\n\n  You can mark the path \"cloudflare:workers\" as external to exclude it from the bundle, which will\n  remove this error and leave the unresolved path in the bundle. You can also add \".catch()\" here to\n  handle this failure at run-time instead of bundle-time.\n```\n\n### Additional information\n\nAs a workaround I specified `cloudflare:workers` as an external dependency of `esbuild`. \n\nEsbuild configuration:\n```ts\nimport { resolve } from 'node:path'\nimport { cwd } from 'node:process'\n\nimport { build } from 'esbuild'\n\nconst srcDirPath = resolve(cwd(), 'src')\nconst distDirPath = resolve(cwd(), 'dist')\n\nconst entrypoint = resolve(srcDirPath, 'index.ts')\n await build({\n  format: 'esm',\n  bundle: true,\n  minify: true,\n  outdir: distDirPath,\n  outbase: srcDirPath,\n  platform: 'node',\n  metafile: true,\n  sourcemap: true,\n  keepNames: false,\n  mainFields: ['module', 'main'],\n  treeShaking: true,\n  entryPoints: [entrypoint],\n  sourcesContent: false,\n  // external: ['cloudflare:workers'],\n})\n```\nTranspiled file:\n```ts\nimport { serve } from '@hono/node-server'\nimport { Hono } from 'hono'\nimport { inspectRoutes } from 'hono/dev'\n\nconst app = new Hono()\n\napp.all('*', (c) => c.text(`Hello ${Date.now()}`))\n\nserve({\n  fetch: app.fetch,\n  port: 8000,\n})\n\n// inspectRoutes adds dynamic import of cloudflare:workers\nconsole.log(inspectRoutes(app))\n```", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/4233/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/4233/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2912", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2912/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2912/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2912/events", "html_url": "https://github.com/honojs/hono/issues/2912", "id": 2336958780, "node_id": "I_kwDOGiE5WM6LSyk8", "number": 2912, "title": "RPC output type becomes `never` when returning an array of interface", "user": {"login": "cormojs", "id": 920314, "node_id": "MDQ6VXNlcjkyMDMxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/920314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cormojs", "html_url": "https://github.com/cormojs", "followers_url": "https://api.github.com/users/cormojs/followers", "following_url": "https://api.github.com/users/cormojs/following{/other_user}", "gists_url": "https://api.github.com/users/cormojs/gists{/gist_id}", "starred_url": "https://api.github.com/users/cormojs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cormojs/subscriptions", "organizations_url": "https://api.github.com/users/cormojs/orgs", "repos_url": "https://api.github.com/users/cormojs/repos", "events_url": "https://api.github.com/users/cormojs/events{/privacy}", "received_events_url": "https://api.github.com/users/cormojs/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 17, "created_at": "2024-06-05T22:54:27Z", "updated_at": "2024-06-06T07:44:20Z", "closed_at": "2024-06-06T07:44:20Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\n4.4.2\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nBun\r\n\r\n### What steps can reproduce the bug?\r\n\r\n```typescript\r\nimport { Hono } from \"hono\";\r\nimport { hc } from \"hono/client\";\r\n\r\n// common\r\ninterface TestInterface {\r\n  test: string\r\n}\r\nconst testValue: TestInterface[] = [{ test: 'test' }]\r\n\r\n// server\r\n\r\nconst testApi = new Hono()\r\n  .get(\r\n    '/test',\r\n    async c => {\r\n      return c.json(testValue)\r\n    }\r\n  )\r\n\r\nexport type Test = typeof testApi\r\n\r\n// client\r\ntype WrongType = {\r\n  wrong: string\r\n}\r\n\r\nconst testFunction = (test: WrongType) => {\r\n  console.log(test)\r\n}\r\n\r\nconst client = hc<Test>('http://localhost')\r\nconst resp = await client.test.$get()\r\nconst result = await resp.json()\r\n\r\ntestFunction(testValue) // this case reports an error\r\ntestFunction(result)  // this case does not report any errors(type of result is never)\r\n```\r\n\r\n### What is the expected behavior?\r\n\r\nType checking should be failed in both case.\r\n\r\n### What do you see instead?\r\n\r\nThe latter case does not report any type error.\r\n\r\n### Additional information\r\n\r\nThe problems does not reproduce when using type alias instead of interface.", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2912/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/1526", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/1526/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/1526/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/1526/events", "html_url": "https://github.com/honojs/hono/issues/1526", "id": 1919998474, "node_id": "I_kwDOGiE5WM5ycNoK", "number": 1526, "title": "Response headers get discarded without using context", "user": {"login": "joshamaju", "id": 127889846, "node_id": "U_kgDOB59xtg", "avatar_url": "https://avatars.githubusercontent.com/u/127889846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshamaju", "html_url": "https://github.com/joshamaju", "followers_url": "https://api.github.com/users/joshamaju/followers", "following_url": "https://api.github.com/users/joshamaju/following{/other_user}", "gists_url": "https://api.github.com/users/joshamaju/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshamaju/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshamaju/subscriptions", "organizations_url": "https://api.github.com/users/joshamaju/orgs", "repos_url": "https://api.github.com/users/joshamaju/repos", "events_url": "https://api.github.com/users/joshamaju/events{/privacy}", "received_events_url": "https://api.github.com/users/joshamaju/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 16, "created_at": "2023-09-29T23:05:58Z", "updated_at": "2023-12-02T16:47:13Z", "closed_at": "2023-09-30T12:33:37Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n3.7.2\n\n### What runtime/platform is your app running on?\n\nNode\n\n### What steps can reproduce the bug?\n\nSending a response using any context method i.e `html`, `text` etc doesn't work the same way when you just return a `Response` object. Headers don't get set when using `Response`\r\n\r\n```js\r\nconst app = new Hono();\r\n\r\napp.get('/', ctx => {\r\n  setCookie(ctx, 'cookie', 'value');\r\n  return ctx.text('html')\r\n})\r\n```\r\n\r\nThe cookie header gets discarded in the example below, while it works fine in the example above\r\n\r\n```js\r\nconst app = new Hono();\r\n\r\napp.get('/', ctx => {\r\n  setCookie(ctx, 'cookie', 'value');\r\n  return new Response('html', {'Content-Type': 'text/html'})\r\n})\r\n```\n\n### What is the expected behavior?\n\nThere should be not difference in behaviour, cookies should get set in both scenarios\n\n### What do you see instead?\n\nCookies get discarded in the other example\n\n### Additional information\n\n[Reproduction](https://github.com/joshamaju/hono-handler-response-issue)", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/1526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/1526/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/1513", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/1513/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/1513/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/1513/events", "html_url": "https://github.com/honojs/hono/issues/1513", "id": 1916337567, "node_id": "I_kwDOGiE5WM5yOP2f", "number": 1513, "title": "Weird 500 error during routing", "user": {"login": "vanodevium", "id": 16780069, "node_id": "MDQ6VXNlcjE2NzgwMDY5", "avatar_url": "https://avatars.githubusercontent.com/u/16780069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vanodevium", "html_url": "https://github.com/vanodevium", "followers_url": "https://api.github.com/users/vanodevium/followers", "following_url": "https://api.github.com/users/vanodevium/following{/other_user}", "gists_url": "https://api.github.com/users/vanodevium/gists{/gist_id}", "starred_url": "https://api.github.com/users/vanodevium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vanodevium/subscriptions", "organizations_url": "https://api.github.com/users/vanodevium/orgs", "repos_url": "https://api.github.com/users/vanodevium/repos", "events_url": "https://api.github.com/users/vanodevium/events{/privacy}", "received_events_url": "https://api.github.com/users/vanodevium/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 15, "created_at": "2023-09-27T21:14:59Z", "updated_at": "2023-10-02T09:37:37Z", "closed_at": "2023-10-02T09:37:37Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n3.7.2\n\n### What runtime/platform is your app running on?\n\nNode\n\n### What steps can reproduce the bug?\n\n```js\r\nimport { Hono } from 'hono';\r\nimport {serve} from \"@hono/node-server\";\r\n\r\nconst app = new Hono();\r\n\r\napp.get('/:url{.*}', async (ctx) => {\r\n\r\n    // I want receive ctx.req.param('url');\r\n\r\n    return ctx.html(\"ok\");\r\n});\r\n\r\nserve(app);\r\n```\n\n### What is the expected behavior?\n\nI want receive `ctx.req.param('url')` without problems for any requested path.\n\n### What do you see instead?\n\nAbsolutely empty 500 error\n\n### Additional information\n\n_No response_", "closed_by": {"login": "vanodevium", "id": 16780069, "node_id": "MDQ6VXNlcjE2NzgwMDY5", "avatar_url": "https://avatars.githubusercontent.com/u/16780069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vanodevium", "html_url": "https://github.com/vanodevium", "followers_url": "https://api.github.com/users/vanodevium/followers", "following_url": "https://api.github.com/users/vanodevium/following{/other_user}", "gists_url": "https://api.github.com/users/vanodevium/gists{/gist_id}", "starred_url": "https://api.github.com/users/vanodevium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vanodevium/subscriptions", "organizations_url": "https://api.github.com/users/vanodevium/orgs", "repos_url": "https://api.github.com/users/vanodevium/repos", "events_url": "https://api.github.com/users/vanodevium/events{/privacy}", "received_events_url": "https://api.github.com/users/vanodevium/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/1513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/1513/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/1572", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/1572/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/1572/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/1572/events", "html_url": "https://github.com/honojs/hono/issues/1572", "id": 1941389135, "node_id": "I_kwDOGiE5WM5ztz9P", "number": 1572, "title": "Cors Middleware error: Can't modify immutable headers.", "user": {"login": "anarkrypto", "id": 32111208, "node_id": "MDQ6VXNlcjMyMTExMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/32111208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anarkrypto", "html_url": "https://github.com/anarkrypto", "followers_url": "https://api.github.com/users/anarkrypto/followers", "following_url": "https://api.github.com/users/anarkrypto/following{/other_user}", "gists_url": "https://api.github.com/users/anarkrypto/gists{/gist_id}", "starred_url": "https://api.github.com/users/anarkrypto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anarkrypto/subscriptions", "organizations_url": "https://api.github.com/users/anarkrypto/orgs", "repos_url": "https://api.github.com/users/anarkrypto/repos", "events_url": "https://api.github.com/users/anarkrypto/events{/privacy}", "received_events_url": "https://api.github.com/users/anarkrypto/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 14, "created_at": "2023-10-13T07:20:56Z", "updated_at": "2024-01-30T15:10:29Z", "closed_at": "2024-01-30T15:10:29Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n3.2.7\n\n### What runtime/platform is your app running on?\n\nClodflare Workers\n\n### What steps can reproduce the bug?\n\n```js\r\napp.use('*', cors({ origin: '*' }))\r\n```\n\n### What is the expected behavior?\n\nModify the response headers\n\n### What do you see instead?\n\nServer Internal Error - Status Code 500\r\n\r\nLog:\r\n`Trace: TypeError: Can't modify immutable headers.`\n\n### Additional information\n\nresponse headers cannot be modified\r\n\r\nhttps://github.com/honojs/hono/blob/main/src/middleware/cors/index.ts#L36C18-L36C18", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/1572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/1572/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2602", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2602/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2602/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2602/events", "html_url": "https://github.com/honojs/hono/issues/2602", "id": 2277580690, "node_id": "I_kwDOGiE5WM6HwR-S", "number": 2602, "title": "c.render with jsxRenderer has type errors for 2 arguments", "user": {"login": "janat08", "id": 11337345, "node_id": "MDQ6VXNlcjExMzM3MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/11337345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janat08", "html_url": "https://github.com/janat08", "followers_url": "https://api.github.com/users/janat08/followers", "following_url": "https://api.github.com/users/janat08/following{/other_user}", "gists_url": "https://api.github.com/users/janat08/gists{/gist_id}", "starred_url": "https://api.github.com/users/janat08/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janat08/subscriptions", "organizations_url": "https://api.github.com/users/janat08/orgs", "repos_url": "https://api.github.com/users/janat08/repos", "events_url": "https://api.github.com/users/janat08/events{/privacy}", "received_events_url": "https://api.github.com/users/janat08/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2024-05-03T12:29:11Z", "updated_at": "2024-06-06T11:08:38Z", "closed_at": "2024-06-06T11:08:38Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\n4.2.7\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nWorkers\r\n\r\n### What steps can reproduce the bug?\r\nexport const Layout: FC = ({ children, c, title }) => {\r\napp.get(\"*\", jsxRenderer(Layout));\r\n  return c.render(index(c), { c, title: \"Home\", search: true });\r\nExpected 1 arguments, but got 2\r\n\r\n### What is the expected behavior?\r\n\r\n_No response_\r\n\r\n### What do you see instead?\r\n\r\n_No response_\r\n\r\n### Additional information\r\n\r\n_No response_", "closed_by": {"login": "janat08", "id": 11337345, "node_id": "MDQ6VXNlcjExMzM3MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/11337345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janat08", "html_url": "https://github.com/janat08", "followers_url": "https://api.github.com/users/janat08/followers", "following_url": "https://api.github.com/users/janat08/following{/other_user}", "gists_url": "https://api.github.com/users/janat08/gists{/gist_id}", "starred_url": "https://api.github.com/users/janat08/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janat08/subscriptions", "organizations_url": "https://api.github.com/users/janat08/orgs", "repos_url": "https://api.github.com/users/janat08/repos", "events_url": "https://api.github.com/users/janat08/events{/privacy}", "received_events_url": "https://api.github.com/users/janat08/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2602/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2832", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2832/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2832/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2832/events", "html_url": "https://github.com/honojs/hono/issues/2832", "id": 2319996055, "node_id": "I_kwDOGiE5WM6KSFSX", "number": 2832, "title": "bug: types broken after setting a basepath", "user": {"login": "thenbe", "id": 33713262, "node_id": "MDQ6VXNlcjMzNzEzMjYy", "avatar_url": "https://avatars.githubusercontent.com/u/33713262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenbe", "html_url": "https://github.com/thenbe", "followers_url": "https://api.github.com/users/thenbe/followers", "following_url": "https://api.github.com/users/thenbe/following{/other_user}", "gists_url": "https://api.github.com/users/thenbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenbe/subscriptions", "organizations_url": "https://api.github.com/users/thenbe/orgs", "repos_url": "https://api.github.com/users/thenbe/repos", "events_url": "https://api.github.com/users/thenbe/events{/privacy}", "received_events_url": "https://api.github.com/users/thenbe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2024-05-28T02:15:17Z", "updated_at": "2024-05-29T08:41:54Z", "closed_at": "2024-05-29T08:41:54Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n4.4.0\n\n### What runtime/platform is your app running on?\n\nnode\n\n### What steps can reproduce the bug?\n\nTypescript playground repro: [link](https://www.typescriptlang.org/play/?#code/JYWwDg9gTgLgBAbzgCQgOwnAvnAZlCEOAcgAt0JiBuAKFElkThgFMBnGAYQBtgW14OfIRLkMAelYdgaAObUaNceLgAVAJ5h2cAIZQWcAPIBpOAHdS-OBngBXNjNm64AIx1sWABR0xSNAMboHLpgYACMcAC81ixmKBQAFACUtIFowQS2rBHROqFhAHSyLDAJxOLArCBsxAA0umzqaP5wLZEAfK0FAFZs6AlIwAAmAFxwEVhJKTQwmgYAgvkaWlHMcxC4cJnZqUHwecA5zOxcvPwwADyL4css7Ql54dMAbhDDIYcFlSzVBQAkxVK0yUKlubF0+msEHgJnMljQcHsjmcbg83l8AT2ITAACZVmhYvEMMkCqivD5SGVxCB1GSwBTiNM0hkIFkWHjcqEcUUSlTvtU6g0mi02p1-D0+mgBnBhmM8ZNprMVtccbdVkqWBstqzWDjdul9mBgBzjhweHwBFcubd7o8cdNlHAnc6Xa63e7XQA9AD8NFe7wO3JpdIpXyqbH+gOStCAA)\n\n### What is the expected behavior?\n\nThere should be a way to create a typed testClient when using a basepath.\n\n### What do you see instead?\n\ntestClient types are broken when using a basepath.\n\n### Additional information\n\n_No response_", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2832/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2651", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2651/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2651/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2651/events", "html_url": "https://github.com/honojs/hono/issues/2651", "id": 2288572962, "node_id": "I_kwDOGiE5WM6IaNoi", "number": 2651, "title": "Inconsistent Handling of Empty JSON Request Body in Hono Validator", "user": {"login": "ilshm", "id": 129096750, "node_id": "U_kgDOB7HcLg", "avatar_url": "https://avatars.githubusercontent.com/u/129096750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilshm", "html_url": "https://github.com/ilshm", "followers_url": "https://api.github.com/users/ilshm/followers", "following_url": "https://api.github.com/users/ilshm/following{/other_user}", "gists_url": "https://api.github.com/users/ilshm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilshm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilshm/subscriptions", "organizations_url": "https://api.github.com/users/ilshm/orgs", "repos_url": "https://api.github.com/users/ilshm/repos", "events_url": "https://api.github.com/users/ilshm/events{/privacy}", "received_events_url": "https://api.github.com/users/ilshm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2024-05-09T22:41:40Z", "updated_at": "2024-12-29T22:17:04Z", "closed_at": "2024-07-28T09:24:59Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\n4.3.3\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nBun\r\n\r\n### What steps can reproduce the bug?\r\n\r\n1. Send a request with an empty JSON body to a route utilizing hono/validator middleware.\r\n2. Observe the unexpected 400 Bad Request response due to the middleware's exception handling for empty JSON bodies.\r\n\r\n### What is the expected behavior?\r\n\r\nThe hono/validator middleware should gracefully handle empty JSON request bodies, considering them valid without triggering exceptions. This behavior is crucial for scenarios where empty JSON bodies are legitimate or expected.\r\n\r\n### What do you see instead?\r\n\r\nThe current behavior negatively affects applications where empty JSON request bodies should be permitted. This inconsistency leads to unexpected errors and hinders the module's usability.\r\n\r\n### Additional information\r\n\r\nThis issue is critical for applications relying on hono/validator. A swift resolution or workaround would greatly benefit the developer community.", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2651/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2227", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2227/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2227/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2227/events", "html_url": "https://github.com/honojs/hono/issues/2227", "id": 2139025414, "node_id": "I_kwDOGiE5WM5_fvAG", "number": 2227, "title": "Uncaught Error: Disallowed operation called within global scope with hono/jwt in CloudflareWorkers", "user": {"login": "yamato0211", "id": 88587703, "node_id": "MDQ6VXNlcjg4NTg3NzAz", "avatar_url": "https://avatars.githubusercontent.com/u/88587703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yamato0211", "html_url": "https://github.com/yamato0211", "followers_url": "https://api.github.com/users/yamato0211/followers", "following_url": "https://api.github.com/users/yamato0211/following{/other_user}", "gists_url": "https://api.github.com/users/yamato0211/gists{/gist_id}", "starred_url": "https://api.github.com/users/yamato0211/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yamato0211/subscriptions", "organizations_url": "https://api.github.com/users/yamato0211/orgs", "repos_url": "https://api.github.com/users/yamato0211/repos", "events_url": "https://api.github.com/users/yamato0211/events{/privacy}", "received_events_url": "https://api.github.com/users/yamato0211/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2024-02-16T17:08:48Z", "updated_at": "2025-05-15T21:13:52Z", "closed_at": "2024-02-17T13:14:20Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n4.0.2\n\n### What runtime/platform is your app running on?\n\nCloudflare Workers\n\n### What steps can reproduce the bug?\n\n```js\r\nimport { Hono } from 'hono'\r\nimport { sign } from 'hono/jwt'\r\n\r\nconst app = new Hono()\r\n\r\napp.get('/', async (c) => {\r\n  const payload = {\r\n    sub: 'user123',\r\n    role: 'admin',\r\n  }\r\n  const secret = 'mySecretKey'\r\n  const token = await sign(payload, secret)\r\n  return c.json({ token }, 200)\r\n})\r\n\r\nexport default app\r\n```\r\n\r\nThe above code calls the sign function of ```hono/jwt``` and creates an endpoint that creates and returns a JWT token.\r\n\r\nRun a local environment for ```CloudflareWorkers```.\r\nThe package manager is ```pnpm```.\r\n\r\n\n\n### What is the expected behavior?\n\nAbility to create JWT tokens by calling the ```sign``` function within Hono's handler.\n\n### What do you see instead?\n\nI ran the above code in the local environment of CloudflareWorkers and got the following error.\r\n\r\n```\r\n\u2394 Starting local server...\r\n[wrangler:inf] Ready on http://localhost:8787\r\n\u2718 [ERROR] service core:user:carcharhinus: Uncaught Error: Disallowed operation called within global scope. Asynchronous I/O (ex: fetch() or connect()), setting a timeout, and generating random values are not allowed within global scope. To fix this error, perform this operation within a handler. https://developers.cloudflare.com/workers/runtime-apis/handlers/\r\n\r\n    at null.<anonymous> (index.js:27321:29)\r\n\r\n\r\n\u2718 [ERROR] MiniflareCoreError [ERR_RUNTIME_FAILURE]: The Workers runtime failed to start. There is likely additional logging output above.\r\n```\r\n\r\nIt is suggested to use it in the handler instead of the global scope, but I am getting an error even though I am using it in a Hono handler.\n\n### Additional information\n\nThe error about ```hono/jwt``` confirms that there is also an error about the JWT Auth Middleware.\r\n\r\nI confirmed the same error as above when I run it in Cloudflare Workers local environment using jwt Middleware as per the official documentation.\r\n\r\n```js\r\nimport { Hono } from 'hono'\r\nimport { jwt } from 'hono/jwt'\r\n\r\nconst app = new Hono()\r\n\r\napp.use(\r\n  '/auth/*',\r\n  jwt({\r\n    secret: 'it-is-very-secret',\r\n  })\r\n)\r\n\r\napp.get('/auth/page', (c) => {\r\n  return c.text('You are authorized')\r\n})\r\n\r\nexport default app\r\n\r\n```", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2227/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2227/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/1782", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/1782/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/1782/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/1782/events", "html_url": "https://github.com/honojs/hono/issues/1782", "id": 2026877118, "node_id": "I_kwDOGiE5WM54z7C-", "number": 1782, "title": "Incorrect return type when using custom fetch function with Hono Client", "user": {"login": "nvsd", "id": 7391612, "node_id": "MDQ6VXNlcjczOTE2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/7391612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nvsd", "html_url": "https://github.com/nvsd", "followers_url": "https://api.github.com/users/nvsd/followers", "following_url": "https://api.github.com/users/nvsd/following{/other_user}", "gists_url": "https://api.github.com/users/nvsd/gists{/gist_id}", "starred_url": "https://api.github.com/users/nvsd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nvsd/subscriptions", "organizations_url": "https://api.github.com/users/nvsd/orgs", "repos_url": "https://api.github.com/users/nvsd/repos", "events_url": "https://api.github.com/users/nvsd/events{/privacy}", "received_events_url": "https://api.github.com/users/nvsd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2023-12-05T18:34:27Z", "updated_at": "2023-12-08T00:20:35Z", "closed_at": "2023-12-08T00:20:35Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\n3.10.5\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nBun/Expo\r\n\r\n### What steps can reproduce the bug?\r\n\r\nGiven the code below\r\n```typescript\r\nconst fetcher = async (input: RequestInfo | URL, init?: RequestInit | undefined) => {\r\n  const token = await getItemAsync(localStorageKey);\r\n  const headers = new Headers(init?.headers);\r\n  if (token) headers.set('Authorization', `Bearer ${token}`);\r\n\r\n  return fetch(input, { ...init, headers }).then(async (response) => {\r\n    if (response.ok) {\r\n      return await response.json();\r\n    } else {\r\n      const errorMessage = await response.text();\r\n      return Promise.reject(new Error(errorMessage));\r\n    }\r\n  });\r\n};\r\n\r\nexport const api = hc<AppType>(url, {\r\n  fetch: fetcher,\r\n});\r\n```\r\nThe resulting type is `Promise<ClientResponse<InferResponseType<T>>>`\r\n\r\n### What is the expected behavior?\r\n\r\nI would expect to get the type `Promise<InferResponseType<T>>`\r\n\r\n### What do you see instead?\r\n\r\nThe returned type is `Promise<ClientResponse<InferResponseType<T>>>` where the `ClientResponse` isn't correct.\r\n\r\n### Additional information\r\n\r\n~~I believe the `Fetch` type is incorrect at `hono/src/client/types.ts :48`~~\r\n```\r\nexport type Fetch<T> = (\r\n  args?: InferRequestType<T>,\r\n  opt?: ClientRequestOptions\r\n) => Promise<ClientResponse<InferResponseType<T>>>\r\n```\r\n~~If I'm reading this correctly, no matter what fetch returns, it's always assumed to have the base `ClientResponse` structure. Could be wrong though.~~\r\nSee below comment\r\n\r\n", "closed_by": {"login": "nvsd", "id": 7391612, "node_id": "MDQ6VXNlcjczOTE2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/7391612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nvsd", "html_url": "https://github.com/nvsd", "followers_url": "https://api.github.com/users/nvsd/followers", "following_url": "https://api.github.com/users/nvsd/following{/other_user}", "gists_url": "https://api.github.com/users/nvsd/gists{/gist_id}", "starred_url": "https://api.github.com/users/nvsd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nvsd/subscriptions", "organizations_url": "https://api.github.com/users/nvsd/orgs", "repos_url": "https://api.github.com/users/nvsd/repos", "events_url": "https://api.github.com/users/nvsd/events{/privacy}", "received_events_url": "https://api.github.com/users/nvsd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/1782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/1782/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/1534", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/1534/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/1534/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/1534/events", "html_url": "https://github.com/honojs/hono/issues/1534", "id": 1923798613, "node_id": "I_kwDOGiE5WM5yqtZV", "number": 1534, "title": "bun build --target=bun displays [object Object] for JSX", "user": {"login": "Spioune", "id": 8796095, "node_id": "MDQ6VXNlcjg3OTYwOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8796095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Spioune", "html_url": "https://github.com/Spioune", "followers_url": "https://api.github.com/users/Spioune/followers", "following_url": "https://api.github.com/users/Spioune/following{/other_user}", "gists_url": "https://api.github.com/users/Spioune/gists{/gist_id}", "starred_url": "https://api.github.com/users/Spioune/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Spioune/subscriptions", "organizations_url": "https://api.github.com/users/Spioune/orgs", "repos_url": "https://api.github.com/users/Spioune/repos", "events_url": "https://api.github.com/users/Spioune/events{/privacy}", "received_events_url": "https://api.github.com/users/Spioune/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2023-10-03T10:15:02Z", "updated_at": "2023-10-07T05:24:58Z", "closed_at": "2023-10-07T05:24:58Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n3.7.3\n\n### What runtime/platform is your app running on?\n\nBun 1.0.3\n\n### What steps can reproduce the bug?\n\nindex.tsx\r\n```\r\nimport { Hono } from \"hono\";\r\nconst app = new Hono();\r\n\r\napp.get(\"/\", async (c) => c.html(<div>hello</div>));\r\n\r\nexport default {\r\n  port: 3000,\r\n  fetch: app.fetch,\r\n};\r\n```\r\ntsconfig.json\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"jsx\": \"preserve\",\r\n    \"jsxFactory\": \"jsx\",\r\n    \"jsxFragmentFactory\": \"Fragment\",\r\n    \"jsxImportSource\": \"hono/jsx\"\r\n  }\r\n}\r\n```\r\n`bun build ./index.tsx --target=bun --outdir ./build`\r\n`bun run ./build/index.js`\r\n```\r\n// http://localhost:3000\r\n[object Object]\r\n```\n\n### What is the expected behavior?\n\nI expect the webpage to show `hello`\n\n### What do you see instead?\n\nThe webpage return `[object Object]`\n\n### Additional information\n\nThis issue only happens with target=bun\r\n\r\n`bun build ./index.tsx --target=node --outdir ./build` OK\r\n`bun build ./index.tsx --target=browser --outdir ./build` OK\r\n`bun build ./index.tsx --target=bun --outdir ./build` NOT OK", "closed_by": {"login": "Spioune", "id": 8796095, "node_id": "MDQ6VXNlcjg3OTYwOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8796095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Spioune", "html_url": "https://github.com/Spioune", "followers_url": "https://api.github.com/users/Spioune/followers", "following_url": "https://api.github.com/users/Spioune/following{/other_user}", "gists_url": "https://api.github.com/users/Spioune/gists{/gist_id}", "starred_url": "https://api.github.com/users/Spioune/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Spioune/subscriptions", "organizations_url": "https://api.github.com/users/Spioune/orgs", "repos_url": "https://api.github.com/users/Spioune/repos", "events_url": "https://api.github.com/users/Spioune/events{/privacy}", "received_events_url": "https://api.github.com/users/Spioune/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/1534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/1534/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/3088", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/3088/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/3088/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/3088/events", "html_url": "https://github.com/honojs/hono/issues/3088", "id": 2390426568, "node_id": "I_kwDOGiE5WM6OewPI", "number": 3088, "title": "SSG route called ", "user": {"login": "RobertSasak", "id": 281281, "node_id": "MDQ6VXNlcjI4MTI4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/281281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RobertSasak", "html_url": "https://github.com/RobertSasak", "followers_url": "https://api.github.com/users/RobertSasak/followers", "following_url": "https://api.github.com/users/RobertSasak/following{/other_user}", "gists_url": "https://api.github.com/users/RobertSasak/gists{/gist_id}", "starred_url": "https://api.github.com/users/RobertSasak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RobertSasak/subscriptions", "organizations_url": "https://api.github.com/users/RobertSasak/orgs", "repos_url": "https://api.github.com/users/RobertSasak/repos", "events_url": "https://api.github.com/users/RobertSasak/events{/privacy}", "received_events_url": "https://api.github.com/users/RobertSasak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-07-04T09:41:07Z", "updated_at": "2025-07-04T01:20:59Z", "closed_at": "2025-07-04T01:20:59Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\n4.4.11\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nNodeJS\r\n\r\n### What steps can reproduce the bug?\r\n\r\n```ts\r\n// build.ts\r\nimport fs from 'fs/promises'\r\nimport { Hono } from 'hono'\r\nimport { ssgParams, toSSG } from 'hono/ssg'\r\n\r\nconst app = new Hono()\r\napp.get(\r\n    '/shops/:id',\r\n    ssgParams(() => [{ id: 'shop1' }]),\r\n    async (c) => {\r\n        const id = c.req.param('id')\r\n        console.warn(id)\r\n        return c.html(id)\r\n    },\r\n)\r\n\r\ntoSSG(app, fs)\r\n```\r\n```\r\n$ npx vite-node src/build.ts\r\n```\r\n\r\n### What is the expected behavior?\r\n\r\nIt is expected to log \r\n```\r\nshop1\r\n```\r\n\r\n### What do you see instead?\r\n\r\n\r\n```ts\r\n:id\r\nshop1\r\n```\r\n\r\n### Additional information\r\n\r\nRoute is called twice instead of once. First time the route is called the parameter *id* is not replaced with the actual value but stays \":id\".\r\n\r\nI think it might be related to https://github.com/honojs/hono/issues/2175", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/3088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/3088/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/3027", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/3027/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/3027/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/3027/events", "html_url": "https://github.com/honojs/hono/issues/3027", "id": 2368840605, "node_id": "I_kwDOGiE5WM6NMaOd", "number": 3027, "title": "`c.req.valid` does not work in route without path", "user": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-06-23T19:26:56Z", "updated_at": "2025-05-12T00:47:32Z", "closed_at": "2024-07-01T12:29:47Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n4.4.7\n\n### What runtime/platform is your app running on?\n\nany\n\n### What steps can reproduce the bug?\n\n```ts\r\nconst app = new Hono()\r\n\r\napp\r\n  .get('/', (c) => {\r\n    return c.json(0)\r\n  })\r\n  .post(\r\n    validator('json', () => {\r\n      return {\r\n        foo: 'bar',\r\n      }\r\n    }),\r\n    (c) => {\r\n      const foo = c.req.valid('json')\r\n      return c.json(1)\r\n    }\r\n  )\r\n```\n\n### What is the expected behavior?\n\nIt does not throw a type error.\n\n### What do you see instead?\n\n![CleanShot 2024-06-24 at 04 24 58@2x](https://github.com/honojs/hono/assets/10682/0ac0d3a0-0219-4546-8985-4ce9705e90f0)\r\n\n\n### Additional information\n\nThis will be fixed when changing the order for overloading in `HandlerInterface`.\r\n\r\n```diff\r\ndiff --git a/src/types.ts b/src/types.ts\r\nindex 7c9ba8c..ce95d6b 100644\r\n--- a/src/types.ts\r\n+++ b/src/types.ts\r\n@@ -121,22 +121,6 @@ export interface HandlerInterface<\r\n     handler: H<E2, P, I, R>\r\n   ): Hono<IntersectNonAnyTypes<[E, E2]>, S & ToSchema<M, P, I, MergeTypedResponse<R>>, BasePath>\r\n\r\n-  // app.get(path, handler)\r\n-  <\r\n-    P extends string,\r\n-    MergedPath extends MergePath<BasePath, P> = MergePath<BasePath, P>,\r\n-    R extends HandlerResponse<any> = any,\r\n-    I extends Input = BlankInput,\r\n-    E2 extends Env = E\r\n-  >(\r\n-    path: P,\r\n-    handler: H<E2, MergedPath, I, R>\r\n-  ): Hono<\r\n-    IntersectNonAnyTypes<[E, E2]>,\r\n-    S & ToSchema<M, MergePath<BasePath, P>, I, MergeTypedResponse<R>>,\r\n-    BasePath\r\n-  >\r\n-\r\n   // app.get(handler x2)\r\n   <\r\n     P extends string = ExtractKey<S> extends never ? BasePath : ExtractKey<S>,\r\n@@ -153,6 +137,22 @@ export interface HandlerInterface<\r\n     BasePath\r\n   >\r\n\r\n+  // app.get(path, handler)\r\n+  <\r\n+    P extends string,\r\n+    MergedPath extends MergePath<BasePath, P> = MergePath<BasePath, P>,\r\n+    R extends HandlerResponse<any> = any,\r\n+    I extends Input = BlankInput,\r\n+    E2 extends Env = E\r\n+  >(\r\n+    path: P,\r\n+    handler: H<E2, MergedPath, I, R>\r\n+  ): Hono<\r\n+    IntersectNonAnyTypes<[E, E2]>,\r\n+    S & ToSchema<M, MergePath<BasePath, P>, I, MergeTypedResponse<R>>,\r\n+    BasePath\r\n+  >\r\n+\r\n   // app.get(path, handler x2)\r\n   <\r\n     P extends string,\r\n```", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/3027/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/3027/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2200", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2200/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2200/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2200/events", "html_url": "https://github.com/honojs/hono/issues/2200", "id": 2130915864, "node_id": "I_kwDOGiE5WM5_AzIY", "number": 2200, "title": "Bun \"serveStatic\" doesn't seem to serve at url", "user": {"login": "Hmoulvad", "id": 14860871, "node_id": "MDQ6VXNlcjE0ODYwODcx", "avatar_url": "https://avatars.githubusercontent.com/u/14860871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hmoulvad", "html_url": "https://github.com/Hmoulvad", "followers_url": "https://api.github.com/users/Hmoulvad/followers", "following_url": "https://api.github.com/users/Hmoulvad/following{/other_user}", "gists_url": "https://api.github.com/users/Hmoulvad/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hmoulvad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hmoulvad/subscriptions", "organizations_url": "https://api.github.com/users/Hmoulvad/orgs", "repos_url": "https://api.github.com/users/Hmoulvad/repos", "events_url": "https://api.github.com/users/Hmoulvad/events{/privacy}", "received_events_url": "https://api.github.com/users/Hmoulvad/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-02-12T20:17:04Z", "updated_at": "2024-09-29T10:17:53Z", "closed_at": "2024-09-29T10:17:53Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\r\n\r\n3.12.8\r\n\r\n### What runtime/platform is your app running on?\r\n\r\nBun\r\n\r\n### What steps can reproduce the bug?\r\n\r\nI am trying to recreate the example: https://hono.dev/getting-started/bun#serve-static-files but I can't seem to get it working. \r\n\r\n### What is the expected behavior?\r\n\r\nThat I can access the static files provided with the `serverStatic` function\r\n\r\n### What do you see instead?\r\n\r\nI am getting status 404 whatever I try.\r\n\r\n### Additional information\r\n\r\n```js\r\nimport apiRoutes from \"api/routes\";\r\nimport appRoutes from \"app/routes\";\r\nimport { Hono } from \"hono\";\r\nimport { serveStatic } from \"hono/bun\";\r\n\r\nconst app = new Hono();\r\n\r\n\r\napp.use(\r\n  \"/static/*\",\r\n  serveStatic({\r\n    root: \"/\",\r\n    onNotFound: (path, c) => {\r\n      console.log(`${path} is not found, you access ${c.req.path}`);\r\n    },\r\n  })\r\n);\r\napp.use(\"/favicon.ico\", serveStatic({ path: \"./favicon.ico\" }));\r\napp.route(\"/\", appRoutes);\r\napp.route(\"/api\", apiRoutes);\r\n\r\nexport default app;\r\n```\r\n\r\nTrying to access it from RootLayout: \r\n\r\n```js\r\nimport { Style } from \"hono/css\";\r\nimport type { FC } from \"hono/jsx\";\r\nimport Footer from \"../components/Footer\";\r\nimport Header from \"../components/Header\";\r\n\r\ntype Props = {\r\n  title: string;\r\n};\r\n\r\nconst RootLayout: FC<Props> = ({ children, title }) => (\r\n  <html>\r\n    <head>\r\n      {/* CSS Style for Hono */}\r\n      <Style />\r\n      {/* StyleSheets */}\r\n      <StyleSheets />\r\n      {/* Scripts */}\r\n      <Scripts />\r\n      <title>{title}</title>\r\n    </head>\r\n    <body>\r\n      <Header />\r\n      {children}\r\n      <Footer />\r\n    </body>\r\n  </html>\r\n);\r\n\r\nconst StyleSheets: FC = () => (\r\n  <>\r\n    {/* Open Props Variables */}\r\n    <link rel=\"stylesheet\" href=\"https://unpkg.com/open-props\" />\r\n    {/* Normalize CSS */}\r\n    <link\r\n      rel=\"stylesheet\"\r\n      href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css\"\r\n    />\r\n    <link rel=\"stylesheet\" href=\"static/css/style.css\" />\r\n  </>\r\n);\r\n\r\nconst Scripts: FC = () => (\r\n  <>\r\n    {/* AlpineJS */}\r\n    <script\r\n      defer\r\n      src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\"\r\n    ></script>\r\n  </>\r\n);\r\n\r\nexport default RootLayout;\r\n\r\n```\r\n\r\nThis is my structure: \r\n```markdown\r\n\u251c\u2500\u2500 api\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 routes.ts\r\n\u251c\u2500\u2500 app\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 routes.tsx\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 components\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Footer.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Grid\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Grid.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Header\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Header.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Modules\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Hero\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 Hero.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 UI\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 Accordion\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Accordion.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 Button\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Button.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 Dialog\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Dialog.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 Icons\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ArrowLeft.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ArrowRight.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Spinner.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 X.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 Link\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Link.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2514\u2500\u2500 Typography\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u251c\u2500\u2500 Headline\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 Headline.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2514\u2500\u2500 Text\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0             \u251c\u2500\u2500 Text.tsx\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0             \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0             \u2514\u2500\u2500 styles.ts\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 layout\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 Root.tsx\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 pages\r\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 Home.tsx\r\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 UI\r\n\u2502\u00a0\u00a0             \u251c\u2500\u2500 UI.tsx\r\n\u2502\u00a0\u00a0             \u251c\u2500\u2500 index.ts\r\n\u2502\u00a0\u00a0             \u2514\u2500\u2500 styles.ts\r\n\u251c\u2500\u2500 directory.structure\r\n\u251c\u2500\u2500 index.ts\r\n\u2514\u2500\u2500 static\r\n    \u251c\u2500\u2500 css\r\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 style.css\r\n    \u251c\u2500\u2500 favicon.ico\r\n    \u2514\u2500\u2500 placeholder.jpg\r\n\r\n23 directories, 44 files\r\n```\r\n", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2200/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/honojs/hono/issues/2164", "repository_url": "https://api.github.com/repos/honojs/hono", "labels_url": "https://api.github.com/repos/honojs/hono/issues/2164/labels{/name}", "comments_url": "https://api.github.com/repos/honojs/hono/issues/2164/comments", "events_url": "https://api.github.com/repos/honojs/hono/issues/2164/events", "html_url": "https://github.com/honojs/hono/issues/2164", "id": 2122893992, "node_id": "I_kwDOGiE5WM5-iMqo", "number": 2164, "title": "Throwing (unhandled) exception in streamSSE brings down server", "user": {"login": "jonasb", "id": 2461, "node_id": "MDQ6VXNlcjI0NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonasb", "html_url": "https://github.com/jonasb", "followers_url": "https://api.github.com/users/jonasb/followers", "following_url": "https://api.github.com/users/jonasb/following{/other_user}", "gists_url": "https://api.github.com/users/jonasb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonasb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonasb/subscriptions", "organizations_url": "https://api.github.com/users/jonasb/orgs", "repos_url": "https://api.github.com/users/jonasb/repos", "events_url": "https://api.github.com/users/jonasb/events{/privacy}", "received_events_url": "https://api.github.com/users/jonasb/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 5831663291, "node_id": "LA_kwDOGiE5WM8AAAABW5geuw", "url": "https://api.github.com/repos/honojs/hono/labels/bug", "name": "bug", "color": "D69931", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2024-02-07T12:10:55Z", "updated_at": "2024-02-24T13:12:33Z", "closed_at": "2024-02-24T13:12:33Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### What version of Hono are you using?\n\n3.12.11\n\n### What runtime/platform is your app running on?\n\nNode\n\n### What steps can reproduce the bug?\n\n```ts\r\napp.get(\"/sse-error\", (c) =>\r\n  streamSSE(c, async (stream) => {\r\n    stream.writeSSE({ data: \"Hello\" });\r\n    throw new Error(\"Test error\");\r\n  }),\r\n);\r\n```\r\n\r\nFrom the client the first call looks good, but the second one can't connect\r\n\r\n```\r\n$ curl http://localhost:8000/sse-error\r\ndata: Hello\r\n\r\n$ curl http://localhost:8000/sse-error\r\ncurl: (7) Failed to connect to localhost port 8000 after 0 ms: Couldn't connect to server\r\n```\r\n\r\nThe log on the server\r\n```\r\n  <-- GET /sse-error\r\n  --> GET /sse-error 200 6ms\r\n/project/src/index.ts:114\r\n    throw new Error(\"Test error\");\r\n          ^\r\n\r\n\r\nError: Test error\r\n    at <anonymous> (/project/src/index.ts:114:11)\r\n    at streamSSE (file:///project/node_modules/hono/dist/helper/streaming/sse.js:24:3)\r\n    at <anonymous> (/project/src/index.ts:112:3)\r\n    at dispatch (file:///project/node_modules/hono/dist/compose.js:29:23)\r\n    at file:///project/node_modules/hono/dist/compose.js:30:20\r\n    at logger2 (file:///project/node_modules/hono/dist/middleware/logger/index.js:35:11)\r\n    at dispatch (file:///project/node_modules/hono/dist/compose.js:29:23)\r\n    at file:///project/node_modules/hono/dist/compose.js:6:12\r\n    at file:///project/node_modules/hono/dist/hono-base.js:243:31\r\n    at Hono.dispatch (file:///project/node_modules/hono/dist/hono-base.js:253:7)\r\n\r\nNode.js v20.9.0\r\n\r\n```\n\n### What is the expected behavior?\n\nI expect the server to keep on running even if I throw an exception. I will make sure that I catch all exceptions going forward, but still I think Hono could be more robust.\n\n### What do you see instead?\n\nThe server stops responding.\n\n### Additional information\n\n_No response_", "closed_by": {"login": "yusukebe", "id": 10682, "node_id": "MDQ6VXNlcjEwNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/10682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusukebe", "html_url": "https://github.com/yusukebe", "followers_url": "https://api.github.com/users/yusukebe/followers", "following_url": "https://api.github.com/users/yusukebe/following{/other_user}", "gists_url": "https://api.github.com/users/yusukebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusukebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusukebe/subscriptions", "organizations_url": "https://api.github.com/users/yusukebe/orgs", "repos_url": "https://api.github.com/users/yusukebe/repos", "events_url": "https://api.github.com/users/yusukebe/events{/privacy}", "received_events_url": "https://api.github.com/users/yusukebe/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/honojs/hono/issues/2164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/honojs/hono/issues/2164/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}