{"d": [{"url": "https://api.github.com/repos/golang-migrate/migrate/issues/97", "repository_url": "https://api.github.com/repos/golang-migrate/migrate", "labels_url": "https://api.github.com/repos/golang-migrate/migrate/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/golang-migrate/migrate/issues/97/comments", "events_url": "https://api.github.com/repos/golang-migrate/migrate/issues/97/events", "html_url": "https://github.com/golang-migrate/migrate/issues/97", "id": 357786791, "node_id": "MDU6SXNzdWUzNTc3ODY3OTE=", "number": 97, "title": "underlying *sql.DB not being Closed", "user": {"login": "Kay-Zee", "id": 2775157, "node_id": "MDQ6VXNlcjI3NzUxNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/2775157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kay-Zee", "html_url": "https://github.com/Kay-Zee", "followers_url": "https://api.github.com/users/Kay-Zee/followers", "following_url": "https://api.github.com/users/Kay-Zee/following{/other_user}", "gists_url": "https://api.github.com/users/Kay-Zee/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kay-Zee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kay-Zee/subscriptions", "organizations_url": "https://api.github.com/users/Kay-Zee/orgs", "repos_url": "https://api.github.com/users/Kay-Zee/repos", "events_url": "https://api.github.com/users/Kay-Zee/events{/privacy}", "received_events_url": "https://api.github.com/users/Kay-Zee/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 809771391, "node_id": "MDU6TGFiZWw4MDk3NzEzOTE=", "url": "https://api.github.com/repos/golang-migrate/migrate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-09-06T19:08:36Z", "updated_at": "2019-02-20T10:52:52Z", "closed_at": "2018-09-20T07:57:11Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the Bug**\r\nWhile running some tests, I've noticed that even when making sure to `defer migrate.Migrate.Close()` I still run into ` pq: sorry, too many clients already`\r\n\r\nI've taken the liberty of digging a little bit and noticed that the `*sql.DB`, [after it is used to create the `sql.Conn`, it is never closed](https://github.com/golang-migrate/migrate/blob/master/database/postgres/postgres.go#L74)\r\n\r\n\r\n**Steps to Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Choose any migration with both up and down\r\n2. Create a `migrate.Migrate` with `migrate.New(...)`\r\n3. Migrate up and down (Optional)\r\n4. Call `migrate.Migrate.Close()`\r\n5. Repeat based on max number of connections. (for me it was postgres default 100 connections)\r\n\r\n**Expected Behavior**\r\nExpect `Close()` to close both the `sql.Conn` as well as the `sql.DB`\r\n\r\n**Migrate Version**\r\nv3.2.0\r\n\r\n**Loaded Source Drivers**\r\nfile\r\n\r\n**Loaded Database Drivers**\r\npostgres\r\n\r\n**Stacktrace**\r\nPlease provide if available\r\n\r\n**Additional context**\r\nNot sure if theres any reason to not close the `*sql.DB` connection but since it is created from within the `Open` function and never stored, theres no external way to close this db.\r\n\r\nI'll be fixing it on a personal fork, so if theres no objections to closing the `*sql.DB` connection when `migrate.Migrate.Close()` is called, I'd be happy to open a PR.\r\n", "closed_by": {"login": "dhui", "id": 896205, "node_id": "MDQ6VXNlcjg5NjIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/896205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhui", "html_url": "https://github.com/dhui", "followers_url": "https://api.github.com/users/dhui/followers", "following_url": "https://api.github.com/users/dhui/following{/other_user}", "gists_url": "https://api.github.com/users/dhui/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhui/subscriptions", "organizations_url": "https://api.github.com/users/dhui/orgs", "repos_url": "https://api.github.com/users/dhui/repos", "events_url": "https://api.github.com/users/dhui/events{/privacy}", "received_events_url": "https://api.github.com/users/dhui/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/97/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/golang-migrate/migrate/issues/97/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/624", "repository_url": "https://api.github.com/repos/golang-migrate/migrate", "labels_url": "https://api.github.com/repos/golang-migrate/migrate/issues/624/labels{/name}", "comments_url": "https://api.github.com/repos/golang-migrate/migrate/issues/624/comments", "events_url": "https://api.github.com/repos/golang-migrate/migrate/issues/624/events", "html_url": "https://github.com/golang-migrate/migrate/issues/624", "id": 1005706199, "node_id": "I_kwDOBwolXM478dvX", "number": 624, "title": "Postgres schema table updates should use serializable transactions", "user": {"login": "johanbrandhorst", "id": 6604151, "node_id": "MDQ6VXNlcjY2MDQxNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6604151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanbrandhorst", "html_url": "https://github.com/johanbrandhorst", "followers_url": "https://api.github.com/users/johanbrandhorst/followers", "following_url": "https://api.github.com/users/johanbrandhorst/following{/other_user}", "gists_url": "https://api.github.com/users/johanbrandhorst/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanbrandhorst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanbrandhorst/subscriptions", "organizations_url": "https://api.github.com/users/johanbrandhorst/orgs", "repos_url": "https://api.github.com/users/johanbrandhorst/repos", "events_url": "https://api.github.com/users/johanbrandhorst/events{/privacy}", "received_events_url": "https://api.github.com/users/johanbrandhorst/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 809771391, "node_id": "MDU6TGFiZWw4MDk3NzEzOTE=", "url": "https://api.github.com/repos/golang-migrate/migrate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}, {"id": 3287142649, "node_id": "MDU6TGFiZWwzMjg3MTQyNjQ5", "url": "https://api.github.com/repos/golang-migrate/migrate/labels/database", "name": "database", "color": "0052CC", "default": false, "description": "Updates database drivers"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-09-23T18:01:47Z", "updated_at": "2021-10-27T02:18:30Z", "closed_at": "2021-10-27T02:18:30Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the Bug**\r\nBoth the [postgres](https://github.com/golang-migrate/migrate/blob/10a92d0cc81953b21fae28c9becd4d594dcef868/database/pgx/pgx.go#L343) and [pgx](https://github.com/golang-migrate/migrate/blob/master/database/pgx/pgx.go#L343) packages use the default transaction isolation level (read committed). In my testing, this can sometimes result in non-repeatable reads of `dirty: true` after a successful migration sets it to `false`. If the serialization level was `serializable`, I think this problem would go away.\r\n\r\n**Steps to Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Create a simple migration\r\n2. Try to run 10 concurrent migrations, checking for the `dirty` value using `Version()` before migrating.\r\n3. Repeat until you get an unexpected `dirty: true`.\r\n\r\n**Expected Behavior**\r\nI would expect the `dirty` value to always be `false` after a successful migration.\r\n\r\n**Migrate Version**\r\nv4.15.0\r\n\r\n**Loaded Source Drivers**\r\n`go-bindata`\r\n\r\n**Loaded Database Drivers**\r\n`postgres`, `pgx`.\r\n\r\n**Go Version**\r\n1.17.1\r\n", "closed_by": {"login": "johanbrandhorst", "id": 6604151, "node_id": "MDQ6VXNlcjY2MDQxNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6604151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanbrandhorst", "html_url": "https://github.com/johanbrandhorst", "followers_url": "https://api.github.com/users/johanbrandhorst/followers", "following_url": "https://api.github.com/users/johanbrandhorst/following{/other_user}", "gists_url": "https://api.github.com/users/johanbrandhorst/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanbrandhorst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanbrandhorst/subscriptions", "organizations_url": "https://api.github.com/users/johanbrandhorst/orgs", "repos_url": "https://api.github.com/users/johanbrandhorst/repos", "events_url": "https://api.github.com/users/johanbrandhorst/events{/privacy}", "received_events_url": "https://api.github.com/users/johanbrandhorst/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/golang-migrate/migrate/issues/624/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/26", "repository_url": "https://api.github.com/repos/golang-migrate/migrate", "labels_url": "https://api.github.com/repos/golang-migrate/migrate/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/golang-migrate/migrate/issues/26/comments", "events_url": "https://api.github.com/repos/golang-migrate/migrate/issues/26/events", "html_url": "https://github.com/golang-migrate/migrate/issues/26", "id": 321674064, "node_id": "MDU6SXNzdWUzMjE2NzQwNjQ=", "number": 26, "title": "Fix broken builds", "user": {"login": "dhui", "id": 896205, "node_id": "MDQ6VXNlcjg5NjIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/896205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhui", "html_url": "https://github.com/dhui", "followers_url": "https://api.github.com/users/dhui/followers", "following_url": "https://api.github.com/users/dhui/following{/other_user}", "gists_url": "https://api.github.com/users/dhui/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhui/subscriptions", "organizations_url": "https://api.github.com/users/dhui/orgs", "repos_url": "https://api.github.com/users/dhui/repos", "events_url": "https://api.github.com/users/dhui/events{/privacy}", "received_events_url": "https://api.github.com/users/dhui/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 809771391, "node_id": "MDU6TGFiZWw4MDk3NzEzOTE=", "url": "https://api.github.com/repos/golang-migrate/migrate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-05-09T18:18:29Z", "updated_at": "2018-05-31T23:22:36Z", "closed_at": "2018-05-31T23:22:36Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "We're having the following issues with the builds:\r\n* Detecting the MySQL 8 docker image as being up and ready to run when it's ready\r\n  * Could be an issue with binding to 2 sockets or an issue w/ our docker networking config\r\n* Race condition in Cassandra\r\n  * Probably a result of the Cassandra docker image not being ready or gocql driver not being thread-safe\r\n\r\nThis issue blocks future releases as the releases are dependent on successful builds", "closed_by": {"login": "dhui", "id": 896205, "node_id": "MDQ6VXNlcjg5NjIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/896205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhui", "html_url": "https://github.com/dhui", "followers_url": "https://api.github.com/users/dhui/followers", "following_url": "https://api.github.com/users/dhui/following{/other_user}", "gists_url": "https://api.github.com/users/dhui/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhui/subscriptions", "organizations_url": "https://api.github.com/users/dhui/orgs", "repos_url": "https://api.github.com/users/dhui/repos", "events_url": "https://api.github.com/users/dhui/events{/privacy}", "received_events_url": "https://api.github.com/users/dhui/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/golang-migrate/migrate/issues/26/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/77", "repository_url": "https://api.github.com/repos/golang-migrate/migrate", "labels_url": "https://api.github.com/repos/golang-migrate/migrate/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/golang-migrate/migrate/issues/77/comments", "events_url": "https://api.github.com/repos/golang-migrate/migrate/issues/77/events", "html_url": "https://github.com/golang-migrate/migrate/issues/77", "id": 343804431, "node_id": "MDU6SXNzdWUzNDM4MDQ0MzE=", "number": 77, "title": "Encoding error in DB connection string", "user": {"login": "greensombrero", "id": 22554256, "node_id": "MDQ6VXNlcjIyNTU0MjU2", "avatar_url": "https://avatars.githubusercontent.com/u/22554256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greensombrero", "html_url": "https://github.com/greensombrero", "followers_url": "https://api.github.com/users/greensombrero/followers", "following_url": "https://api.github.com/users/greensombrero/following{/other_user}", "gists_url": "https://api.github.com/users/greensombrero/gists{/gist_id}", "starred_url": "https://api.github.com/users/greensombrero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greensombrero/subscriptions", "organizations_url": "https://api.github.com/users/greensombrero/orgs", "repos_url": "https://api.github.com/users/greensombrero/repos", "events_url": "https://api.github.com/users/greensombrero/events{/privacy}", "received_events_url": "https://api.github.com/users/greensombrero/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 809771391, "node_id": "MDU6TGFiZWw4MDk3NzEzOTE=", "url": "https://api.github.com/repos/golang-migrate/migrate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-23T21:35:05Z", "updated_at": "2018-08-07T02:45:40Z", "closed_at": "2018-08-07T02:45:40Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "We are trying to use migrate with a MySQL database hosted in Azure with Azure Database for MySQL and have hit an issue.  Azure MySQL usernames contain an @ sign.  Unfortunately this messes up migrate because the database connection is being parsed as a URL.  I was on an older version and the @ sign was being escaped.  I just pulled the latest version and see that this [commit ](https://github.com/golang-migrate/migrate/commit/48a4062f75edb912575c7ec26f681b5f398aa822#diff-b3d7d27134a0bcb9b24a9b90943bf404) changed the order of when the mysql:// is removed so passwords aren't escaped.  Unfortunately now I get an error parsing the url \"first path segment in URL cannot contain colon\".  A sample connection string looks like mysql://someuser@samplehost:password@tcp(samplehost.mysql.database.azure.com:3306)/SampleDB?tls=skip-verify&allowNativePasswords=true\r\n\r\nAny ideas how to work around this?  ", "closed_by": {"login": "dhui", "id": 896205, "node_id": "MDQ6VXNlcjg5NjIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/896205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhui", "html_url": "https://github.com/dhui", "followers_url": "https://api.github.com/users/dhui/followers", "following_url": "https://api.github.com/users/dhui/following{/other_user}", "gists_url": "https://api.github.com/users/dhui/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhui/subscriptions", "organizations_url": "https://api.github.com/users/dhui/orgs", "repos_url": "https://api.github.com/users/dhui/repos", "events_url": "https://api.github.com/users/dhui/events{/privacy}", "received_events_url": "https://api.github.com/users/dhui/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/golang-migrate/migrate/issues/77/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/607", "repository_url": "https://api.github.com/repos/golang-migrate/migrate", "labels_url": "https://api.github.com/repos/golang-migrate/migrate/issues/607/labels{/name}", "comments_url": "https://api.github.com/repos/golang-migrate/migrate/issues/607/comments", "events_url": "https://api.github.com/repos/golang-migrate/migrate/issues/607/events", "html_url": "https://github.com/golang-migrate/migrate/issues/607", "id": 961750559, "node_id": "MDU6SXNzdWU5NjE3NTA1NTk=", "number": 607, "title": "Entrypoint issue on latest", "user": {"login": "bartwrobel", "id": 9806450, "node_id": "MDQ6VXNlcjk4MDY0NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/9806450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bartwrobel", "html_url": "https://github.com/bartwrobel", "followers_url": "https://api.github.com/users/bartwrobel/followers", "following_url": "https://api.github.com/users/bartwrobel/following{/other_user}", "gists_url": "https://api.github.com/users/bartwrobel/gists{/gist_id}", "starred_url": "https://api.github.com/users/bartwrobel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bartwrobel/subscriptions", "organizations_url": "https://api.github.com/users/bartwrobel/orgs", "repos_url": "https://api.github.com/users/bartwrobel/repos", "events_url": "https://api.github.com/users/bartwrobel/events{/privacy}", "received_events_url": "https://api.github.com/users/bartwrobel/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 809771391, "node_id": "MDU6TGFiZWw4MDk3NzEzOTE=", "url": "https://api.github.com/repos/golang-migrate/migrate/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [{"login": "Fontinalis", "id": 11632400, "node_id": "MDQ6VXNlcjExNjMyNDAw", "avatar_url": "https://avatars.githubusercontent.com/u/11632400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fontinalis", "html_url": "https://github.com/Fontinalis", "followers_url": "https://api.github.com/users/Fontinalis/followers", "following_url": "https://api.github.com/users/Fontinalis/following{/other_user}", "gists_url": "https://api.github.com/users/Fontinalis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fontinalis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fontinalis/subscriptions", "organizations_url": "https://api.github.com/users/Fontinalis/orgs", "repos_url": "https://api.github.com/users/Fontinalis/repos", "events_url": "https://api.github.com/users/Fontinalis/events{/privacy}", "received_events_url": "https://api.github.com/users/Fontinalis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-08-05T11:59:57Z", "updated_at": "2021-08-06T16:58:36Z", "closed_at": "2021-08-06T16:58:36Z", "assignee": {"login": "Fontinalis", "id": 11632400, "node_id": "MDQ6VXNlcjExNjMyNDAw", "avatar_url": "https://avatars.githubusercontent.com/u/11632400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fontinalis", "html_url": "https://github.com/Fontinalis", "followers_url": "https://api.github.com/users/Fontinalis/followers", "following_url": "https://api.github.com/users/Fontinalis/following{/other_user}", "gists_url": "https://api.github.com/users/Fontinalis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fontinalis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fontinalis/subscriptions", "organizations_url": "https://api.github.com/users/Fontinalis/orgs", "repos_url": "https://api.github.com/users/Fontinalis/repos", "events_url": "https://api.github.com/users/Fontinalis/events{/privacy}", "received_events_url": "https://api.github.com/users/Fontinalis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "**Describe the Bug**\r\nGetting `Error response from daemon: OCI runtime create failed: container_linux.go:367: starting container process caused: exec: \"/migrate\": stat /migrate: no such file or directory: unknown`\r\n\r\n**Steps to Reproduce**\r\nSteps to reproduce the behavior:\r\n1. My migrations look like 'not related'\r\n2. I ran migrate with the following options\r\n`  migration:\r\n    image: \"migrate/migrate\"\r\n    depends_on:\r\n      - postgres\r\n    volumes:\r\n      - ./migration:/migration\r\n    env_file:\r\n      - _env\r\n    entrypoint: [\"/migrate\", \"-path\", \"/migration\", \"-database\", \"postgres://dbuser:dbpass@postgres:5432/test?sslmode=disable\", \"-verbose\"]\r\n    command: up`\r\n3. See error\r\n`Error response from daemon: OCI runtime create failed: container_linux.go:367: starting container process caused: exec: \"/migrate\": stat /migrate: no such file or directory: unknown`\r\n\r\n**Expected Behavior**\r\nMigrations should be executed.\r\n**Migrate Version**\r\nlatest\r\n\r\n**Go Version**\r\ngo version go1.15.5 darwin/amd64\r\n\r\n**Stacktrace**\r\n`Pulling migration (migrate/migrate:)...\r\nlatest: Pulling from migrate/migrate\r\n540db60ca938: Pull complete\r\n61a2117da40b: Pull complete\r\n32fa9a378efd: Pull complete\r\nDigest: sha256:f348f98babe047ba7ab3890ccbf5ead7623e51ee3596cc4c440ecae01766cbd7\r\nStatus: Downloaded newer image for migrate/migrate:latest\r\nCreating my_service_migration_run ... done\r\nError response from daemon: OCI runtime create failed: container_linux.go:367: starting container process caused: exec: \"/migrate\": stat /migrate: no such file or directory: unknown`\r\n\r\n**Additional context**\r\nWorks with `migrate/migrate:v4.14.1`", "closed_by": {"login": "dhui", "id": 896205, "node_id": "MDQ6VXNlcjg5NjIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/896205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhui", "html_url": "https://github.com/dhui", "followers_url": "https://api.github.com/users/dhui/followers", "following_url": "https://api.github.com/users/dhui/following{/other_user}", "gists_url": "https://api.github.com/users/dhui/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhui/subscriptions", "organizations_url": "https://api.github.com/users/dhui/orgs", "repos_url": "https://api.github.com/users/dhui/repos", "events_url": "https://api.github.com/users/dhui/events{/privacy}", "received_events_url": "https://api.github.com/users/dhui/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/golang-migrate/migrate/issues/607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/golang-migrate/migrate/issues/607/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}