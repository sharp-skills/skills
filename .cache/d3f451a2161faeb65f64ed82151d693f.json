{"d": [{"url": "https://api.github.com/repos/typicode/husky/issues/627", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/627/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/627/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/627/events", "html_url": "https://github.com/typicode/husky/issues/627", "id": 546497337, "node_id": "MDU6SXNzdWU1NDY0OTczMzc=", "number": 627, "title": "[4.0.0 | Git Bash | Windows 10] stdin is not a tty", "user": {"login": "wKovacs64", "id": 1288694, "node_id": "MDQ6VXNlcjEyODg2OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1288694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wKovacs64", "html_url": "https://github.com/wKovacs64", "followers_url": "https://api.github.com/users/wKovacs64/followers", "following_url": "https://api.github.com/users/wKovacs64/following{/other_user}", "gists_url": "https://api.github.com/users/wKovacs64/gists{/gist_id}", "starred_url": "https://api.github.com/users/wKovacs64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wKovacs64/subscriptions", "organizations_url": "https://api.github.com/users/wKovacs64/orgs", "repos_url": "https://api.github.com/users/wKovacs64/repos", "events_url": "https://api.github.com/users/wKovacs64/events{/privacy}", "received_events_url": "https://api.github.com/users/wKovacs64/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [{"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 45, "created_at": "2020-01-07T20:43:26Z", "updated_at": "2024-12-06T08:29:22Z", "closed_at": "2021-01-23T03:33:11Z", "assignee": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Husky 4.0.0 isn't working in Git Bash for Windows 10, triggering a `stdin is not a tty` error for every git operation that triggers a hook.\r\n\r\n#### Versions\r\n\r\nOS: Windows 10 1903\r\nShell: Git Bash (`GNU bash, version 4.4.23(1)-release (x86_64-pc-msys)`)\r\nGit: `git 2.24.1.windows.2`\r\n\r\n#### `HUSKY_DEBUG=1 npm install husky --save-dev`\r\n\r\n```\r\n$ HUSKY_DEBUG=1 npm install husky --save-dev\r\n\r\n> husky@4.0.0 install C:\\dev\\test\\husky4-tty-test\\node_modules\\husky\r\n> node husky install\r\n\r\nhusky > Setting up git hooks\r\nhusky:debug Current working directory is C:\\dev\\test\\husky4-tty-test\\node_modules\\husky\r\nhusky:debug INIT_CWD is set to C:\\dev\\test\\husky4-tty-test\r\nhusky:debug Git rev-parse command returned:\r\nhusky:debug   --git-common-dir: undefined\r\nhusky:debug   --show-prefix:\r\nThe \"path\" argument must be of type string. Received type undefined\r\nhusky:debug TypeError [ERR_INVALID_ARG_TYPE]: The \"path\" argument must be of type string. Received type undefined\r\n    at validateString (internal/validators.js:112:11)\r\n    at Object.resolve (path.js:139:9)\r\n    at getDirs (C:\\dev\\test\\husky4-tty-test\\node_modules\\husky\\lib\\installer\\bin.js:27:49)\r\n    at run (C:\\dev\\test\\husky4-tty-test\\node_modules\\husky\\lib\\installer\\bin.js:62:62)\r\n    at Object.<anonymous> (C:\\dev\\test\\husky4-tty-test\\node_modules\\husky\\lib\\installer\\bin.js:85:1)\r\n    at Module._compile (internal/modules/cjs/loader.js:959:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)\r\n    at Module.load (internal/modules/cjs/loader.js:815:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:727:14)\r\n    at Module.require (internal/modules/cjs/loader.js:852:19)\r\nhusky > Failed to install\r\n\r\n> husky@4.0.0 postinstall C:\\dev\\test\\husky4-tty-test\\node_modules\\husky\r\n> opencollective-postinstall || exit 0\r\n\r\nThank you for using husky!\r\nIf you rely on this package, please consider supporting our open collective:\r\n> https://opencollective.com/husky/donate\r\n\r\nnpm notice created a lockfile as package-lock.json. You should commit this file.\r\nnpm WARN husky4-tty-test@1.0.0 No description\r\nnpm WARN husky4-tty-test@1.0.0 No repository field.\r\n\r\n+ husky@4.0.0\r\nadded 48 packages from 22 contributors and audited 48 packages in 2.047s\r\n\r\n3 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\nfound 0 vulnerabilities\r\n```\r\n\r\n#### `HUSKY_DEBUG=1 git commit`\r\n\r\nNote: on the fresh test repo, this command worked because the first command failed so the hooks did not install properly. On an existing repo with existing hooks, it looks like this:\r\n\r\n```\r\nhusky:debug husky v4.0.0 (created at 1/7/2020, 1:24:18 PM)\r\nhusky:debug pre-commit hook started\r\nhusky:debug Current working directory is /c/dev/test/existing-repo\r\nhusky:debug pre-commit hook started\r\nstdin is not a tty\r\nhusky:debug yarn husky-run exited with 1 exit code\r\n```\r\n", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/627/reactions", "total_count": 9, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/627/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/655", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/655/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/655/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/655/events", "html_url": "https://github.com/typicode/husky/issues/655", "id": 552973047, "node_id": "MDU6SXNzdWU1NTI5NzMwNDc=", "number": 655, "title": "Husky failed to install with `Cannot read property 'toString' of null` message.", "user": {"login": "panosangelopoulos", "id": 5301730, "node_id": "MDQ6VXNlcjUzMDE3MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5301730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/panosangelopoulos", "html_url": "https://github.com/panosangelopoulos", "followers_url": "https://api.github.com/users/panosangelopoulos/followers", "following_url": "https://api.github.com/users/panosangelopoulos/following{/other_user}", "gists_url": "https://api.github.com/users/panosangelopoulos/gists{/gist_id}", "starred_url": "https://api.github.com/users/panosangelopoulos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/panosangelopoulos/subscriptions", "organizations_url": "https://api.github.com/users/panosangelopoulos/orgs", "repos_url": "https://api.github.com/users/panosangelopoulos/repos", "events_url": "https://api.github.com/users/panosangelopoulos/events{/privacy}", "received_events_url": "https://api.github.com/users/panosangelopoulos/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 21, "created_at": "2020-01-21T16:04:36Z", "updated_at": "2021-04-03T11:06:45Z", "closed_at": "2021-04-03T11:06:45Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "OS: MacOS 10.15.2 (19C57)\r\nGit: git version 2.23.0\r\n\r\n\u276f node -v\r\nv12.14.0\r\n\r\n```\r\n\"husky\": \"^4.0.6\",\r\n```\r\nDuring the installation i'm getting the following error.\r\n\r\n```sh\r\nhusky > Setting up git hooks \r\nCannot read property 'toString' of null \r\nhusky > Failed to install\r\n```\r\n", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/655/reactions", "total_count": 23, "+1": 23, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/655/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/513", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/513/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/513/events", "html_url": "https://github.com/typicode/husky/issues/513", "id": 460744676, "node_id": "MDU6SXNzdWU0NjA3NDQ2NzY=", "number": 513, "title": "v2.5.0 install git hooks fail", "user": {"login": "kwaiksa", "id": 9345919, "node_id": "MDQ6VXNlcjkzNDU5MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/9345919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwaiksa", "html_url": "https://github.com/kwaiksa", "followers_url": "https://api.github.com/users/kwaiksa/followers", "following_url": "https://api.github.com/users/kwaiksa/following{/other_user}", "gists_url": "https://api.github.com/users/kwaiksa/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwaiksa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwaiksa/subscriptions", "organizations_url": "https://api.github.com/users/kwaiksa/orgs", "repos_url": "https://api.github.com/users/kwaiksa/repos", "events_url": "https://api.github.com/users/kwaiksa/events{/privacy}", "received_events_url": "https://api.github.com/users/kwaiksa/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 16, "created_at": "2019-06-26T03:44:13Z", "updated_at": "2019-07-01T19:18:14Z", "closed_at": "2019-07-01T19:18:14Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hi, v2.5.0 can not install git hooks automatically, but v2.4.1 works good.\r\n\r\nv2.5.0\r\n![\u5716\u7247](https://user-images.githubusercontent.com/9345919/60149240-9e071200-9806-11e9-8a1d-ab33b1c5dbee.png)\r\n\r\nv2.4.1\r\n![\u5716\u7247](https://user-images.githubusercontent.com/9345919/60149436-41f0bd80-9807-11e9-9807-2e5c031be73e.png)\r\n\r\nOS: Windows 10 1803\r\nNodeJS: v10.16.0\r\nNPM: 6.9.0", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/513/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/513/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/103", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/103/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/103/events", "html_url": "https://github.com/typicode/husky/issues/103", "id": 210769481, "node_id": "MDU6SXNzdWUyMTA3Njk0ODE=", "number": 103, "title": "husky with sourcetree?", "user": {"login": "badtant", "id": 400265, "node_id": "MDQ6VXNlcjQwMDI2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/400265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badtant", "html_url": "https://github.com/badtant", "followers_url": "https://api.github.com/users/badtant/followers", "following_url": "https://api.github.com/users/badtant/following{/other_user}", "gists_url": "https://api.github.com/users/badtant/gists{/gist_id}", "starred_url": "https://api.github.com/users/badtant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badtant/subscriptions", "organizations_url": "https://api.github.com/users/badtant/orgs", "repos_url": "https://api.github.com/users/badtant/repos", "events_url": "https://api.github.com/users/badtant/events{/privacy}", "received_events_url": "https://api.github.com/users/badtant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-02-28T12:12:16Z", "updated_at": "2019-09-18T09:29:18Z", "closed_at": "2017-03-03T11:20:47Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I'm trying to use husky precommit with sourcetree. The precommit command is run but i get the following error:\r\nenv: node: No such file or directory\r\n\r\nDoes anybody know what's wrong? I'm using nvm.", "closed_by": {"login": "badtant", "id": 400265, "node_id": "MDQ6VXNlcjQwMDI2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/400265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badtant", "html_url": "https://github.com/badtant", "followers_url": "https://api.github.com/users/badtant/followers", "following_url": "https://api.github.com/users/badtant/following{/other_user}", "gists_url": "https://api.github.com/users/badtant/gists{/gist_id}", "starred_url": "https://api.github.com/users/badtant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badtant/subscriptions", "organizations_url": "https://api.github.com/users/badtant/orgs", "repos_url": "https://api.github.com/users/badtant/repos", "events_url": "https://api.github.com/users/badtant/events{/privacy}", "received_events_url": "https://api.github.com/users/badtant/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/103/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/143", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/143/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/143/events", "html_url": "https://github.com/typicode/husky/issues/143", "id": 237969543, "node_id": "MDU6SXNzdWUyMzc5Njk1NDM=", "number": 143, "title": "can't find .git dir on windows", "user": {"login": "AntonPuko", "id": 8849922, "node_id": "MDQ6VXNlcjg4NDk5MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/8849922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AntonPuko", "html_url": "https://github.com/AntonPuko", "followers_url": "https://api.github.com/users/AntonPuko/followers", "following_url": "https://api.github.com/users/AntonPuko/following{/other_user}", "gists_url": "https://api.github.com/users/AntonPuko/gists{/gist_id}", "starred_url": "https://api.github.com/users/AntonPuko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AntonPuko/subscriptions", "organizations_url": "https://api.github.com/users/AntonPuko/orgs", "repos_url": "https://api.github.com/users/AntonPuko/repos", "events_url": "https://api.github.com/users/AntonPuko/events{/privacy}", "received_events_url": "https://api.github.com/users/AntonPuko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-22T20:48:24Z", "updated_at": "2017-06-24T16:56:10Z", "closed_at": "2017-06-24T16:56:10Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hi, when I'm trying to install husky on windows, I get an error:\r\n`can't find .git directory, skipping Git hooks installation`\r\nI noticed that the problem is in find-parent.js. It splits by `/` separator, but in windows, I have paths with `\\`.", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/143/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/143/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/626", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/626/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/626/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/626/events", "html_url": "https://github.com/typicode/husky/issues/626", "id": 546366613, "node_id": "MDU6SXNzdWU1NDYzNjY2MTM=", "number": 626, "title": "Additional message", "user": {"login": "fwh1990", "id": 11069720, "node_id": "MDQ6VXNlcjExMDY5NzIw", "avatar_url": "https://avatars.githubusercontent.com/u/11069720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fwh1990", "html_url": "https://github.com/fwh1990", "followers_url": "https://api.github.com/users/fwh1990/followers", "following_url": "https://api.github.com/users/fwh1990/following{/other_user}", "gists_url": "https://api.github.com/users/fwh1990/gists{/gist_id}", "starred_url": "https://api.github.com/users/fwh1990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fwh1990/subscriptions", "organizations_url": "https://api.github.com/users/fwh1990/orgs", "repos_url": "https://api.github.com/users/fwh1990/repos", "events_url": "https://api.github.com/users/fwh1990/events{/privacy}", "received_events_url": "https://api.github.com/users/fwh1990/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-07T16:03:58Z", "updated_at": "2020-01-08T07:00:33Z", "closed_at": "2020-01-08T07:00:33Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "How to dismiss message like\r\n`node_modules/.bin/husky-run pre-commit ''`\r\n and\r\n`/node_modules/.bin/husky-run prepare-commit-msg '.git/COMMIT_EDITMSG message'`\r\n\r\nMy configuration is:\r\n```bash\r\n{\r\n  \"hooks\": {\r\n    \"commit-msg\": \"commitlint -E HUSKY_GIT_PARAMS\"\r\n  }\r\n}\r\n```\r\n\r\nHusky version: 4.0", "closed_by": {"login": "fwh1990", "id": 11069720, "node_id": "MDQ6VXNlcjExMDY5NzIw", "avatar_url": "https://avatars.githubusercontent.com/u/11069720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fwh1990", "html_url": "https://github.com/fwh1990", "followers_url": "https://api.github.com/users/fwh1990/followers", "following_url": "https://api.github.com/users/fwh1990/following{/other_user}", "gists_url": "https://api.github.com/users/fwh1990/gists{/gist_id}", "starred_url": "https://api.github.com/users/fwh1990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fwh1990/subscriptions", "organizations_url": "https://api.github.com/users/fwh1990/orgs", "repos_url": "https://api.github.com/users/fwh1990/repos", "events_url": "https://api.github.com/users/fwh1990/events{/privacy}", "received_events_url": "https://api.github.com/users/fwh1990/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/626/reactions", "total_count": 4, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/626/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/450", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/450/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/450/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/450/events", "html_url": "https://github.com/typicode/husky/issues/450", "id": 405138876, "node_id": "MDU6SXNzdWU0MDUxMzg4NzY=", "number": 450, "title": "Cannot find git directory due to `package.json` npm package", "user": {"login": "sgronblo", "id": 320449, "node_id": "MDQ6VXNlcjMyMDQ0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/320449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgronblo", "html_url": "https://github.com/sgronblo", "followers_url": "https://api.github.com/users/sgronblo/followers", "following_url": "https://api.github.com/users/sgronblo/following{/other_user}", "gists_url": "https://api.github.com/users/sgronblo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgronblo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgronblo/subscriptions", "organizations_url": "https://api.github.com/users/sgronblo/orgs", "repos_url": "https://api.github.com/users/sgronblo/repos", "events_url": "https://api.github.com/users/sgronblo/events{/privacy}", "received_events_url": "https://api.github.com/users/sgronblo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-31T08:49:41Z", "updated_at": "2020-01-11T05:22:51Z", "closed_at": "2020-01-11T05:22:51Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I had to manually regenerate my husky hooks and found (by inspecting package.json) that one way of doing it would be to run `node node_modules/husky/husky.js install`. However the command was mysteriously failing because it could not find the .git directory.\r\n\r\nAfter some debugging I noticed that we have a transitive dependency that is actually named `package.json` https://www.npmjs.com/package/package.json which causes husky to think that node_modules is the project root and therefore causes the .git folder lookup to fail.\r\n\r\nI worked around it for now by temporarily renaming the `package.json` package and then re-running the husky install command and then restoring the name.\r\n\r\nI recommend adding a fix that checks whether package.json is a file before returning that directory as the project root.", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/450/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/450/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/144", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/144/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/144/events", "html_url": "https://github.com/typicode/husky/issues/144", "id": 238070826, "node_id": "MDU6SXNzdWUyMzgwNzA4MjY=", "number": 144, "title": "Pre-commit can't find nvm.sh", "user": {"login": "michalkvasnicak", "id": 174716, "node_id": "MDQ6VXNlcjE3NDcxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/174716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michalkvasnicak", "html_url": "https://github.com/michalkvasnicak", "followers_url": "https://api.github.com/users/michalkvasnicak/followers", "following_url": "https://api.github.com/users/michalkvasnicak/following{/other_user}", "gists_url": "https://api.github.com/users/michalkvasnicak/gists{/gist_id}", "starred_url": "https://api.github.com/users/michalkvasnicak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michalkvasnicak/subscriptions", "organizations_url": "https://api.github.com/users/michalkvasnicak/orgs", "repos_url": "https://api.github.com/users/michalkvasnicak/repos", "events_url": "https://api.github.com/users/michalkvasnicak/events{/privacy}", "received_events_url": "https://api.github.com/users/michalkvasnicak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-23T08:10:26Z", "updated_at": "2017-10-02T02:27:57Z", "closed_at": "2017-06-24T16:55:45Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "After update from `0.13.4` to `0.14.0` `pre-commit` hook stopped working with the following message:\r\n\r\n```\r\n.git/hooks/pre-commit: line 19: /Users/Michal/.nvm/nvm.sh: No such file or directory\r\n```\r\n\r\nI downgraded back to `0.13.4` and everything works fine.", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/144/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/144/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/106", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/106/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/106/events", "html_url": "https://github.com/typicode/husky/issues/106", "id": 212178118, "node_id": "MDU6SXNzdWUyMTIxNzgxMTg=", "number": 106, "title": "nvm shouldn't be skipped even if a global Node installation (e.g. via Homebrew) is present", "user": {"login": "mgol", "id": 1758366, "node_id": "MDQ6VXNlcjE3NTgzNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1758366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgol", "html_url": "https://github.com/mgol", "followers_url": "https://api.github.com/users/mgol/followers", "following_url": "https://api.github.com/users/mgol/following{/other_user}", "gists_url": "https://api.github.com/users/mgol/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgol/subscriptions", "organizations_url": "https://api.github.com/users/mgol/orgs", "repos_url": "https://api.github.com/users/mgol/repos", "events_url": "https://api.github.com/users/mgol/events{/privacy}", "received_events_url": "https://api.github.com/users/mgol/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-06T16:37:07Z", "updated_at": "2017-03-24T22:17:24Z", "closed_at": "2017-03-24T22:17:24Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I have a few Node.js versions installed via nvm but I also have one from Homebrew. nvm supports such scenario; it lists the globally installed Node as \"system\", allows to switch to it etc.\r\n\r\nIn one of my projects I require a Node version matching `>=6.5.0 <7.0.0`; other versions are rejected. However, the global package is now at 7.1.1. I have a proper `.nvmrc` (with contents: `6`) in my project but now it seems not invoked. The hooks get invoked with the global Node.js and the whole script fails.\r\n\r\nI've seen the following entry in the `0.13.0` changelog entry:\r\n> Fixes issue with `OS X + brew` where `nvm` was loaded even when `npm` was already present\r\n\r\nIt seems this change is doing exactly opposite to what I'd expect. :/\r\n\r\nIt works fine in 0.12.0.", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/106/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/541", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/541/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/541/events", "html_url": "https://github.com/typicode/husky/issues/541", "id": 468161312, "node_id": "MDU6SXNzdWU0NjgxNjEzMTI=", "number": 541, "title": "HUSKY_SKIP_INSTALL=true don't skip install and return a null error", "user": {"login": "williangd", "id": 16259047, "node_id": "MDQ6VXNlcjE2MjU5MDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/16259047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williangd", "html_url": "https://github.com/williangd", "followers_url": "https://api.github.com/users/williangd/followers", "following_url": "https://api.github.com/users/williangd/following{/other_user}", "gists_url": "https://api.github.com/users/williangd/gists{/gist_id}", "starred_url": "https://api.github.com/users/williangd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williangd/subscriptions", "organizations_url": "https://api.github.com/users/williangd/orgs", "repos_url": "https://api.github.com/users/williangd/repos", "events_url": "https://api.github.com/users/williangd/events{/privacy}", "received_events_url": "https://api.github.com/users/williangd/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-15T14:29:38Z", "updated_at": "2019-07-18T21:25:20Z", "closed_at": "2019-07-18T21:25:20Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I'm trying to skip automatic installation of Git hooks. I tested with `HUSKY_SKIP_INSTALL=true` and `HUSKY_SKIP_INSTALL=1`, but it still tries to install and returns a null error.\r\n\r\n```\r\n$ echo $HUSKY_SKIP_INSTALL\r\ntrue\r\n$ npm i\r\n\r\n> husky@3.0.0 install /builds/williangd/husky-test/node_modules/husky\r\n> node husky install\r\n\r\nhusky > Setting up git hooks\r\nnull\r\nhusky > Failed to install\r\n```\r\n\r\nLink to test project with same problem: https://gitlab.com/williangd/husky-test/", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/541/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/431", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/431/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/431/events", "html_url": "https://github.com/typicode/husky/issues/431", "id": 393423438, "node_id": "MDU6SXNzdWUzOTM0MjM0Mzg=", "number": 431, "title": "pre-commit hangs indefinitely on git bash", "user": {"login": "nerdchacha", "id": 20509624, "node_id": "MDQ6VXNlcjIwNTA5NjI0", "avatar_url": "https://avatars.githubusercontent.com/u/20509624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nerdchacha", "html_url": "https://github.com/nerdchacha", "followers_url": "https://api.github.com/users/nerdchacha/followers", "following_url": "https://api.github.com/users/nerdchacha/following{/other_user}", "gists_url": "https://api.github.com/users/nerdchacha/gists{/gist_id}", "starred_url": "https://api.github.com/users/nerdchacha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nerdchacha/subscriptions", "organizations_url": "https://api.github.com/users/nerdchacha/orgs", "repos_url": "https://api.github.com/users/nerdchacha/repos", "events_url": "https://api.github.com/users/nerdchacha/events{/privacy}", "received_events_url": "https://api.github.com/users/nerdchacha/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-21T11:20:16Z", "updated_at": "2021-01-08T18:58:10Z", "closed_at": "2021-01-08T18:58:10Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I am using trying to use `husky` on a windows machine using `git-bash`.\r\nThis is how my `.huskyrc` looks like\r\n```\r\n{\r\n  \"hooks\": {\r\n    \"pre-commit\": \"npm run precommit\"\r\n  }\r\n}\r\n```\r\nThe pre commit hook runs perfectly fine when running `git commit -m \"...\"` but when i try to run `git commit --amend --no-edit`, the shell hangs indefinitely when using `git bash` but runs perfectly fine when firing the same command from `powershell`", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/431/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/430", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/430/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/430/events", "html_url": "https://github.com/typicode/husky/issues/430", "id": 393090976, "node_id": "MDU6SXNzdWUzOTMwOTA5NzY=", "number": 430, "title": "`git push` freezes unslees it is run from .git/hooks", "user": {"login": "kyrrelm", "id": 2325983, "node_id": "MDQ6VXNlcjIzMjU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2325983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyrrelm", "html_url": "https://github.com/kyrrelm", "followers_url": "https://api.github.com/users/kyrrelm/followers", "following_url": "https://api.github.com/users/kyrrelm/following{/other_user}", "gists_url": "https://api.github.com/users/kyrrelm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyrrelm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyrrelm/subscriptions", "organizations_url": "https://api.github.com/users/kyrrelm/orgs", "repos_url": "https://api.github.com/users/kyrrelm/repos", "events_url": "https://api.github.com/users/kyrrelm/events{/privacy}", "received_events_url": "https://api.github.com/users/kyrrelm/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-20T15:20:27Z", "updated_at": "2020-01-11T05:29:50Z", "closed_at": "2020-01-11T05:29:50Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Running windows 7 with cygwin. My package.json looks like this:\r\n\r\n```\r\n{\r\n  \"husky\": {\r\n    \"hooks\": {\r\n      \"pre-commit\": \"yarn prettier:check\"\r\n    }\r\n  },\r\n...\r\n \"devDependencies\": {\r\n    \"husky\": \"^1.3.0\",\r\n    ...\r\n}\r\n```\r\nAs you can see I have no pre-push hooks setup. If I run `git push` from `.git/hooks` everything works fine, and I get the following:\r\n\r\n```\r\nCan't find Husky, skipping pre-push hook\r\nYou can reinstall it using 'npm install husky --save-dev' or delete this hook\r\nCounting objects: 3, done.\r\nDelta compression using up to 4 threads.\r\nCompressing objects: 100% (3/3), done.\r\nWriting objects: 100% (3/3), 282 bytes | 282.00 KiB/s, done.\r\nTotal 3 (delta 2), reused 0 (delta 0)\r\nremote: Resolving deltas: 100% (2/2), completed with 2 local objects.\r\n...\r\n```\r\nIf I run `git push` from the root of the project, the terminal freezes. The terminal is still responsive, but nothing is printed, and the process does not finish.\r\n\r\nIf I delete `/hooks` pushing from any directory works again.", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/430/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/430/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/429", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/429/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/429/events", "html_url": "https://github.com/typicode/husky/issues/429", "id": 392787130, "node_id": "MDU6SXNzdWUzOTI3ODcxMzA=", "number": 429, "title": "Pre-push fail from stdin for windows git-bash", "user": {"login": "jmfadeley", "id": 4026454, "node_id": "MDQ6VXNlcjQwMjY0NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4026454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmfadeley", "html_url": "https://github.com/jmfadeley", "followers_url": "https://api.github.com/users/jmfadeley/followers", "following_url": "https://api.github.com/users/jmfadeley/following{/other_user}", "gists_url": "https://api.github.com/users/jmfadeley/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmfadeley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmfadeley/subscriptions", "organizations_url": "https://api.github.com/users/jmfadeley/orgs", "repos_url": "https://api.github.com/users/jmfadeley/repos", "events_url": "https://api.github.com/users/jmfadeley/events{/privacy}", "received_events_url": "https://api.github.com/users/jmfadeley/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-19T21:38:11Z", "updated_at": "2021-01-08T18:58:44Z", "closed_at": "2021-01-08T18:58:44Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "For version 1.3.0 of Husky, I am using Git and GitBash for Windows 10 (we tried both version 2.10.1 and 20.20.1, the latest) with Yarn version 1.7.0. When I attempt to run `git push --set-upstream origin XXX/branch` it hangs indefinitely and if I cancel it, I see:\r\n\r\n`error: failed to push some refs to 'https://github.com/BLAHBLAH.git'`\r\n\r\nI am using tokens, and we believe stdin is hanging because it's expecting input. We tried using `<&-` to forcefully close the stdin, but it failed to work. For the time being we've locked ourselves to version 1.2.1 to workaround this.", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/429/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/429/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typicode/husky/issues/117", "repository_url": "https://api.github.com/repos/typicode/husky", "labels_url": "https://api.github.com/repos/typicode/husky/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/typicode/husky/issues/117/comments", "events_url": "https://api.github.com/repos/typicode/husky/issues/117/events", "html_url": "https://github.com/typicode/husky/issues/117", "id": 220893626, "node_id": "MDU6SXNzdWUyMjA4OTM2MjY=", "number": 117, "title": "Hooks fail if user directory has apostrophe in it", "user": {"login": "luke-oneill", "id": 5530491, "node_id": "MDQ6VXNlcjU1MzA0OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5530491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luke-oneill", "html_url": "https://github.com/luke-oneill", "followers_url": "https://api.github.com/users/luke-oneill/followers", "following_url": "https://api.github.com/users/luke-oneill/following{/other_user}", "gists_url": "https://api.github.com/users/luke-oneill/gists{/gist_id}", "starred_url": "https://api.github.com/users/luke-oneill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luke-oneill/subscriptions", "organizations_url": "https://api.github.com/users/luke-oneill/orgs", "repos_url": "https://api.github.com/users/luke-oneill/repos", "events_url": "https://api.github.com/users/luke-oneill/events{/privacy}", "received_events_url": "https://api.github.com/users/luke-oneill/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 108969703, "node_id": "MDU6TGFiZWwxMDg5Njk3MDM=", "url": "https://api.github.com/repos/typicode/husky/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 108969706, "node_id": "MDU6TGFiZWwxMDg5Njk3MDY=", "url": "https://api.github.com/repos/typicode/husky/labels/help%20wanted", "name": "help wanted", "color": "43db83", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-11T09:37:49Z", "updated_at": "2017-06-30T23:09:35Z", "closed_at": "2017-06-30T23:09:35Z", "assignee": null, "author_association": "NONE", "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "My user directory has an apostrophe in it (I know... not a good idea, I've found similar bugs in many different scripts). This means that any hooks fail with the following message:\r\n\r\n```\r\n.git/hooks/pre-commit: line 39: syntax error near unexpected token `('\r\n.git/hooks/pre-commit: line 39: `#  echo \"> husky - pre-commit hook failed (add --no-verify to bypass)\"'\r\n```\r\n\r\nThe problem line in question is actually line 24 in `pre-commit`:\r\n```\r\nload_nvm NVM_DIR /Users/luke.o'neill/.nvm\r\n```\r\n\r\nI can fix manually but changing it to:\r\n```\r\nload_nvm NVM_DIR /Users/luke.o\\'neill/.nvm\r\n```\r\n\r\nbut I need to do this after each time I clear my node_modules and run npm install again.\r\n\r\n", "closed_by": {"login": "typicode", "id": 5502029, "node_id": "MDQ6VXNlcjU1MDIwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/5502029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/typicode", "html_url": "https://github.com/typicode", "followers_url": "https://api.github.com/users/typicode/followers", "following_url": "https://api.github.com/users/typicode/following{/other_user}", "gists_url": "https://api.github.com/users/typicode/gists{/gist_id}", "starred_url": "https://api.github.com/users/typicode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/typicode/subscriptions", "organizations_url": "https://api.github.com/users/typicode/orgs", "repos_url": "https://api.github.com/users/typicode/repos", "events_url": "https://api.github.com/users/typicode/events{/privacy}", "received_events_url": "https://api.github.com/users/typicode/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typicode/husky/issues/117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typicode/husky/issues/117/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}