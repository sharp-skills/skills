{"d": [{"url": "https://api.github.com/repos/serverless/serverless/issues/8066", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/8066/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/8066/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/8066/events", "html_url": "https://github.com/serverless/serverless/pull/8066", "id": 675642774, "node_id": "MDExOlB1bGxSZXF1ZXN0NDY1MTExNTI1", "number": 8066, "title": "Fix lambda logical version id for layers in same stack", "user": {"login": "pwithams", "id": 59623218, "node_id": "MDQ6VXNlcjU5NjIzMjE4", "avatar_url": "https://avatars.githubusercontent.com/u/59623218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pwithams", "html_url": "https://github.com/pwithams", "followers_url": "https://api.github.com/users/pwithams/followers", "following_url": "https://api.github.com/users/pwithams/following{/other_user}", "gists_url": "https://api.github.com/users/pwithams/gists{/gist_id}", "starred_url": "https://api.github.com/users/pwithams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pwithams/subscriptions", "organizations_url": "https://api.github.com/users/pwithams/orgs", "repos_url": "https://api.github.com/users/pwithams/repos", "events_url": "https://api.github.com/users/pwithams/events{/privacy}", "received_events_url": "https://api.github.com/users/pwithams/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 1215893475, "node_id": "MDU6TGFiZWwxMjE1ODkzNDc1", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/lambda", "name": "cat/lambda", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [{"login": "pwithams", "id": 59623218, "node_id": "MDQ6VXNlcjU5NjIzMjE4", "avatar_url": "https://avatars.githubusercontent.com/u/59623218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pwithams", "html_url": "https://github.com/pwithams", "followers_url": "https://api.github.com/users/pwithams/followers", "following_url": "https://api.github.com/users/pwithams/following{/other_user}", "gists_url": "https://api.github.com/users/pwithams/gists{/gist_id}", "starred_url": "https://api.github.com/users/pwithams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pwithams/subscriptions", "organizations_url": "https://api.github.com/users/pwithams/orgs", "repos_url": "https://api.github.com/users/pwithams/repos", "events_url": "https://api.github.com/users/pwithams/events{/privacy}", "received_events_url": "https://api.github.com/users/pwithams/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-08-09T05:55:46Z", "updated_at": "2020-09-25T00:45:04Z", "closed_at": "2020-09-24T10:19:44Z", "assignee": {"login": "pwithams", "id": 59623218, "node_id": "MDQ6VXNlcjU5NjIzMjE4", "avatar_url": "https://avatars.githubusercontent.com/u/59623218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pwithams", "html_url": "https://github.com/pwithams", "followers_url": "https://api.github.com/users/pwithams/followers", "following_url": "https://api.github.com/users/pwithams/following{/other_user}", "gists_url": "https://api.github.com/users/pwithams/gists{/gist_id}", "starred_url": "https://api.github.com/users/pwithams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pwithams/subscriptions", "organizations_url": "https://api.github.com/users/pwithams/orgs", "repos_url": "https://api.github.com/users/pwithams/repos", "events_url": "https://api.github.com/users/pwithams/events{/privacy}", "received_events_url": "https://api.github.com/users/pwithams/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/serverless/serverless/pulls/8066", "html_url": "https://github.com/serverless/serverless/pull/8066", "diff_url": "https://github.com/serverless/serverless/pull/8066.diff", "patch_url": "https://github.com/serverless/serverless/pull/8066.patch", "merged_at": "2020-09-24T10:19:43Z"}, "body": "<!-- \u26a0\ufe0f\u26a0\ufe0f Acknowledge ALL below remarks -->\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f PR will not be processed if it doesn't meet outlined criteria -->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Do not propose PR's without prior agreement on solution in corresponding issue -->\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Only documentation updates and obvious bug fixes are welcome without it -->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f Ensure to follow code style guidelines\r\nhttps://github.com/serverless/serverless/blob/master/CONTRIBUTING.md#code-style\r\n-->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f Ensure to cover changes with tests written according to test guidelines\r\nhttps://github.com/serverless/serverless/blob/master/tests/README.md\r\n-->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Ensure that support for Node.js v6 is maintained. -->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f Ensure that proposed change passes CI. Confirm on that by running following scripts:\r\n\u2022 npm run prettier-check\r\n\u2022 npm run lint\r\n\u2022 npm test\r\n-->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f If proposed change touches integration with AWS services, confirm integration tests pass:\r\nhttps://github.com/serverless/serverless/blob/master/tests/README.md#aws-integration-tests\r\n-->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f After your PR is submitted, review the final CI status and address eventual failure -->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Answer below questions -->\r\n\r\n<!--\r\nQ1: Provide link to corresponding issue\r\n\r\n\u2022 If PR *partially* addresses issue, ensure to rename \"Closes\" to \"Addresses\" (\"Closes\" term will automatically close an issue on PR merge)\r\n\u2022 If it's a documentation update or obvious bug fix that has no corresponding issue, replace this line with short description of made changes\r\n-->\r\n\r\nCloses: #8053\r\n\r\n### Problem\r\nLambda version ids were created only using the function properties. If a layer is referenced in the same stack, the property value (i.e. layer: [{'Ref': 'ExampleLambdaLayer'}]) will only change if the layer name is changed. This means that code changes in a layer will not trigger a new lambda version to be created.\r\n\r\n### Proposed fix\r\nIn addition to the function properties, the following have been added to the version id hash:\r\n - the contents of each referenced layer zip file\r\n - the properties of each referenced layer, except S3Key as it timestamped and therefore changes on every deploy\r\n\r\n### Note\r\nI tried to avoid both bluebird and Lodash where possible but did use them in a few cases, especially where they were already being used. Unfortunately I am not a JS developer so any suggestions for where those can be removed or improvements in general are more than welcome.\r\n\r\n\r\n\r\n\r\n", "closed_by": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/8066/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/8066/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/serverless/serverless/issues/3821", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/3821/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/3821/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/3821/events", "html_url": "https://github.com/serverless/serverless/issues/3821", "id": 237485664, "node_id": "MDU6SXNzdWUyMzc0ODU2NjQ=", "number": 3821, "title": "Rate exceeded", "user": {"login": "StephanPraetsch", "id": 9827763, "node_id": "MDQ6VXNlcjk4Mjc3NjM=", "avatar_url": "https://avatars.githubusercontent.com/u/9827763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StephanPraetsch", "html_url": "https://github.com/StephanPraetsch", "followers_url": "https://api.github.com/users/StephanPraetsch/followers", "following_url": "https://api.github.com/users/StephanPraetsch/following{/other_user}", "gists_url": "https://api.github.com/users/StephanPraetsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/StephanPraetsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StephanPraetsch/subscriptions", "organizations_url": "https://api.github.com/users/StephanPraetsch/orgs", "repos_url": "https://api.github.com/users/StephanPraetsch/repos", "events_url": "https://api.github.com/users/StephanPraetsch/events{/privacy}", "received_events_url": "https://api.github.com/users/StephanPraetsch/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [{"login": "HyperBrain", "id": 5524702, "node_id": "MDQ6VXNlcjU1MjQ3MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/5524702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HyperBrain", "html_url": "https://github.com/HyperBrain", "followers_url": "https://api.github.com/users/HyperBrain/followers", "following_url": "https://api.github.com/users/HyperBrain/following{/other_user}", "gists_url": "https://api.github.com/users/HyperBrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/HyperBrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HyperBrain/subscriptions", "organizations_url": "https://api.github.com/users/HyperBrain/orgs", "repos_url": "https://api.github.com/users/HyperBrain/repos", "events_url": "https://api.github.com/users/HyperBrain/events{/privacy}", "received_events_url": "https://api.github.com/users/HyperBrain/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/serverless/serverless/milestones/40", "html_url": "https://github.com/serverless/serverless/milestone/40", "labels_url": "https://api.github.com/repos/serverless/serverless/milestones/40/labels", "id": 2874489, "node_id": "MDk6TWlsZXN0b25lMjg3NDQ4OQ==", "number": 40, "title": "1.25", "description": "", "creator": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 63, "state": "closed", "created_at": "2017-10-30T11:53:54Z", "updated_at": "2017-12-20T12:43:15Z", "due_on": null, "closed_at": "2017-12-20T12:43:15Z"}, "comments": 60, "created_at": "2017-06-21T10:20:22Z", "updated_at": "2018-04-07T01:32:17Z", "closed_at": "2017-12-06T11:29:45Z", "assignee": {"login": "HyperBrain", "id": 5524702, "node_id": "MDQ6VXNlcjU1MjQ3MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/5524702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HyperBrain", "html_url": "https://github.com/HyperBrain", "followers_url": "https://api.github.com/users/HyperBrain/followers", "following_url": "https://api.github.com/users/HyperBrain/following{/other_user}", "gists_url": "https://api.github.com/users/HyperBrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/HyperBrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HyperBrain/subscriptions", "organizations_url": "https://api.github.com/users/HyperBrain/orgs", "repos_url": "https://api.github.com/users/HyperBrain/repos", "events_url": "https://api.github.com/users/HyperBrain/events{/privacy}", "received_events_url": "https://api.github.com/users/HyperBrain/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nI have 8 times ${cf:..} in my serverless.yaml and I get 3 out of 5 times \"Rate exceeded\" while running serverless. I suppose I've reached a limit for cloudformation's API calls (DescribeStack for instance). Is there any chance to avoid this error except of increase my limits? Why doesn't serverless calls the api only once for all stacks? Or at least only once per stack? \r\n\r\nLast but not least: Which limit do I reach? I don't know which one mentiond on [aws limits](http://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html)\r\n\r\nFor bug reports:\r\n* What went wrong?\r\nI run \"serverless deploy -v\" and I get an error \"Rate exceeded\"\r\n* What did you expect should have happened?\r\ndeploying without that error\r\n* What was the config you used?\r\n```\r\ncustom:\r\n  stage: ${cf:StackA.StagePrefix}\r\n  vpcStackName: ${cf:StackA.VpcStackName}\r\n  topicGeneral: ${cf:StackB.In}\r\n  topicBs: ${cf:StackC.In}\r\n  dnsName: ${cf:StackD.LoadBalancerDNSName}\r\n  securityGroupIds: ${cf:StackD.AlbSecurityGroup}\r\n  privateSubnet1: ${cf:StackE.PrivateSubnet1}\r\n  privateSubnet2: ${cf:StackE.PrivateSubnet2}\r\n```\r\n* What stacktrace or error message from your provider did you see?\r\n```\r\n> sls package\r\n \r\n  Serverless Error ---------------------------------------\r\n \r\n     Rate exceeded\r\n \r\n  Get Support --------------------------------------------\r\n     Docs:          docs.serverless.com\r\n     Bugs:          github.com/serverless/serverless/issues\r\n     Forums:        forum.serverless.com\r\n     Chat:          gitter.im/serverless/serverless\r\n \r\n  Your Environment Information -----------------------------\r\n     OS:                 linux\r\n     Node Version:       6.9.1\r\n     Serverless Version: 1.14.0\r\n```\r\n\r\nFor feature proposals:\r\n* What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.\r\n* If there is additional config how would it look\r\n\r\nSimilar or dependent issues:\r\n* #3339\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: 1.14.0\r\n* ***Operating System***: Fedora / Linux\r\n* ***Stack Trace***: Rate exceeded\r\n* ***Provider Error messages***:\r\n", "closed_by": {"login": "HyperBrain", "id": 5524702, "node_id": "MDQ6VXNlcjU1MjQ3MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/5524702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HyperBrain", "html_url": "https://github.com/HyperBrain", "followers_url": "https://api.github.com/users/HyperBrain/followers", "following_url": "https://api.github.com/users/HyperBrain/following{/other_user}", "gists_url": "https://api.github.com/users/HyperBrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/HyperBrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HyperBrain/subscriptions", "organizations_url": "https://api.github.com/users/HyperBrain/orgs", "repos_url": "https://api.github.com/users/HyperBrain/repos", "events_url": "https://api.github.com/users/HyperBrain/events{/privacy}", "received_events_url": "https://api.github.com/users/HyperBrain/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/3821/reactions", "total_count": 8, "+1": 8, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/3821/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/10259", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/10259/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/10259/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/10259/events", "html_url": "https://github.com/serverless/serverless/pull/10259", "id": 1059453070, "node_id": "PR_kwDOAgtq6s4u0Pv2", "number": 10259, "title": "Exclude local plugins from bundle", "user": {"login": "shalvah", "id": 14361073, "node_id": "MDQ6VXNlcjE0MzYxMDcz", "avatar_url": "https://avatars.githubusercontent.com/u/14361073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shalvah", "html_url": "https://github.com/shalvah", "followers_url": "https://api.github.com/users/shalvah/followers", "following_url": "https://api.github.com/users/shalvah/following{/other_user}", "gists_url": "https://api.github.com/users/shalvah/gists{/gist_id}", "starred_url": "https://api.github.com/users/shalvah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shalvah/subscriptions", "organizations_url": "https://api.github.com/users/shalvah/orgs", "repos_url": "https://api.github.com/users/shalvah/repos", "events_url": "https://api.github.com/users/shalvah/events{/privacy}", "received_events_url": "https://api.github.com/users/shalvah/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 1215891782, "node_id": "MDU6TGFiZWwxMjE1ODkxNzgy", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/packaging", "name": "cat/packaging", "color": "bfdadc", "default": false, "description": ""}, {"id": 1215892919, "node_id": "MDU6TGFiZWwxMjE1ODkyOTE5", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/plugin", "name": "cat/plugin", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [{"login": "shalvah", "id": 14361073, "node_id": "MDQ6VXNlcjE0MzYxMDcz", "avatar_url": "https://avatars.githubusercontent.com/u/14361073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shalvah", "html_url": "https://github.com/shalvah", "followers_url": "https://api.github.com/users/shalvah/followers", "following_url": "https://api.github.com/users/shalvah/following{/other_user}", "gists_url": "https://api.github.com/users/shalvah/gists{/gist_id}", "starred_url": "https://api.github.com/users/shalvah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shalvah/subscriptions", "organizations_url": "https://api.github.com/users/shalvah/orgs", "repos_url": "https://api.github.com/users/shalvah/repos", "events_url": "https://api.github.com/users/shalvah/events{/privacy}", "received_events_url": "https://api.github.com/users/shalvah/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2021-11-21T18:36:29Z", "updated_at": "2022-01-10T11:34:38Z", "closed_at": "2022-01-06T15:18:17Z", "assignee": {"login": "shalvah", "id": 14361073, "node_id": "MDQ6VXNlcjE0MzYxMDcz", "avatar_url": "https://avatars.githubusercontent.com/u/14361073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shalvah", "html_url": "https://github.com/shalvah", "followers_url": "https://api.github.com/users/shalvah/followers", "following_url": "https://api.github.com/users/shalvah/following{/other_user}", "gists_url": "https://api.github.com/users/shalvah/gists{/gist_id}", "starred_url": "https://api.github.com/users/shalvah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shalvah/subscriptions", "organizations_url": "https://api.github.com/users/shalvah/orgs", "repos_url": "https://api.github.com/users/shalvah/repos", "events_url": "https://api.github.com/users/shalvah/events{/privacy}", "received_events_url": "https://api.github.com/users/shalvah/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/serverless/serverless/pulls/10259", "html_url": "https://github.com/serverless/serverless/pull/10259", "diff_url": "https://github.com/serverless/serverless/pull/10259.diff", "patch_url": "https://github.com/serverless/serverless/pull/10259.patch", "merged_at": "2022-01-06T15:18:17Z"}, "body": "\r\nCloses: #7908\r\n\r\nAuto-excludes local plugins in `serverless.yml` from the serverless bundle. Supports files and folders, eg:\r\n\r\n```yaml\r\n- plugins:\r\n  # Path to a folder\r\n  - ./custom-plugins/Plugin1\r\n  # Same, but with trailing slash\r\n  - ./custom-plugins/Plugin2/\r\n  # Path to a specific file\r\n  - ./custom-plugins/Plugin3/index.js\r\n  # Path to a specific file, but without extension\r\n  - ./custom-plugins/Plugin3/index\r\n```\r\n\r\n\r\n## How does this work?\r\n- When loading local plugins, the PluginManager records the CJS-resolved path as well as the original path as written in `serverless.yml`. Note that the CJS-resolved path always points to an entry file\u2014usually `index.js, but not always.\r\n- During packaging, `getLocalPluginsPaths()` compares each entry file to the original specified path and returns an absolute path pointing to the file or folder to exclude.\r\n\r\n----\r\n\r\nPS: I'm a big fan and looking to contribute. Would like to implement https://github.com/serverless/serverless/issues/9116, but decided to start with this, since this is one of its dependencies. Hopefully we can get this in soon\ud83e\udd1e", "closed_by": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/10259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/10259/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/serverless/serverless/issues/10944", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/10944/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/10944/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/10944/events", "html_url": "https://github.com/serverless/serverless/issues/10944", "id": 1196210471, "node_id": "I_kwDOAgtq6s5HTLkn", "number": 10944, "title": "\"EMFILE - too many open file\" error", "user": {"login": "mnapoli", "id": 720328, "node_id": "MDQ6VXNlcjcyMDMyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/720328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnapoli", "html_url": "https://github.com/mnapoli", "followers_url": "https://api.github.com/users/mnapoli/followers", "following_url": "https://api.github.com/users/mnapoli/following{/other_user}", "gists_url": "https://api.github.com/users/mnapoli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnapoli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnapoli/subscriptions", "organizations_url": "https://api.github.com/users/mnapoli/orgs", "repos_url": "https://api.github.com/users/mnapoli/repos", "events_url": "https://api.github.com/users/mnapoli/events{/privacy}", "received_events_url": "https://api.github.com/users/mnapoli/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 58, "created_at": "2022-04-07T15:27:04Z", "updated_at": "2024-12-12T16:21:39Z", "closed_at": "2024-08-13T17:56:57Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Previous issue: #3249, #10706 \r\n\r\nThis is a meta-issue to gather all reports about the following error:\r\n\r\n```\r\nEMFILE - too many open files error\r\n```\r\n\r\nThis is a very tough issue to solve because it happens randomly. It is caused by having too many files open _on the whole machine_ (not just the `serverless` process).\r\n\r\nA possible root cause could be synchronous usage of the `fs` API. A solution might be to use `graceful-fs` and/or the async API to access the filesystem.\r\n\r\nWe use `graceful-fs` and reduced the use of sync calls in Serverless Framework to a minimum, but some plugins might not. We're trying to identify which plugins might cause the issue.\r\n\r\n### Workarounds\r\n\r\nThis isn't ideal, but it is possible to increase the limit of files open on Linux and macOS with `ulimit` (https://stackoverflow.com/a/21070580/245552), but not on Windows.\r\n\r\nIf you have information about more workarounds, please post them here and we'll update the issue.\r\n\r\n### How to help?\r\n\r\n- Add a \ud83d\udc4d  on this issue (so that we can estimate the impact)\r\n- Investigate if some plugins might benefit from using `graceful-fs` and/or async filesystem calls\r\n- Fill the following form and post it as a comment:\r\n\r\n```\r\nOS:\r\nServerless Framework version ('sls --version'):\r\nNode version ('node --version'):\r\nPlugins used:\r\n```\r\n\r\nLet's try and see if there's a pattern (e.g. a plugin that comes up often).", "closed_by": {"login": "skierkowski", "id": 885724, "node_id": "MDQ6VXNlcjg4NTcyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/885724?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skierkowski", "html_url": "https://github.com/skierkowski", "followers_url": "https://api.github.com/users/skierkowski/followers", "following_url": "https://api.github.com/users/skierkowski/following{/other_user}", "gists_url": "https://api.github.com/users/skierkowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/skierkowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skierkowski/subscriptions", "organizations_url": "https://api.github.com/users/skierkowski/orgs", "repos_url": "https://api.github.com/users/skierkowski/repos", "events_url": "https://api.github.com/users/skierkowski/events{/privacy}", "received_events_url": "https://api.github.com/users/skierkowski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/10944/reactions", "total_count": 163, "+1": 158, "-1": 3, "laugh": 0, "hooray": 0, "confused": 2, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/10944/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/4638", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/4638/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/4638/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/4638/events", "html_url": "https://github.com/serverless/serverless/issues/4638", "id": 286870632, "node_id": "MDU6SXNzdWUyODY4NzA2MzI=", "number": 4638, "title": "Environment variables not updating in new lambda function version", "user": {"login": "aliatsis", "id": 4140524, "node_id": "MDQ6VXNlcjQxNDA1MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4140524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aliatsis", "html_url": "https://github.com/aliatsis", "followers_url": "https://api.github.com/users/aliatsis/followers", "following_url": "https://api.github.com/users/aliatsis/following{/other_user}", "gists_url": "https://api.github.com/users/aliatsis/gists{/gist_id}", "starred_url": "https://api.github.com/users/aliatsis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aliatsis/subscriptions", "organizations_url": "https://api.github.com/users/aliatsis/orgs", "repos_url": "https://api.github.com/users/aliatsis/repos", "events_url": "https://api.github.com/users/aliatsis/events{/privacy}", "received_events_url": "https://api.github.com/users/aliatsis/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 511594798, "node_id": "MDU6TGFiZWw1MTE1OTQ3OTg=", "url": "https://api.github.com/repos/serverless/serverless/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": ""}, {"id": 1215893475, "node_id": "MDU6TGFiZWwxMjE1ODkzNDc1", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/lambda", "name": "cat/lambda", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": {"url": "https://api.github.com/repos/serverless/serverless/milestones/69", "html_url": "https://github.com/serverless/serverless/milestone/69", "labels_url": "https://api.github.com/repos/serverless/serverless/milestones/69/labels", "id": 4442213, "node_id": "MDk6TWlsZXN0b25lNDQ0MjIxMw==", "number": 69, "title": "1.48.0", "description": "", "creator": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2019-06-26T08:00:13Z", "updated_at": "2019-07-19T08:02:28Z", "due_on": "2019-07-19T00:00:00Z", "closed_at": "2019-07-19T08:02:28Z"}, "comments": 56, "created_at": "2018-01-08T20:15:17Z", "updated_at": "2024-06-06T09:29:32Z", "closed_at": "2019-07-16T14:50:43Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nFor bug reports:\r\n* What went wrong?\r\nNew environment variables are not deploying to new function version for AWS Lambda.\r\nI've verified that the new variables are properly set inside the CloudFormation stack template.\r\nI've also ran every variation of deploy (with `-p`, with `-f`, with `--force`, with `--update-config`, and with code changes). My base use case is to `sls package` first, then deploy with `-p`\r\n\r\n* What did you expect should have happened?\r\nChanging or adding environment variables in serverless.yml should update environment variables in lambda console for the corresponding function version when deployed.\r\n\r\n* What was the config you used?\r\n```\r\nservice:\r\n  name: foo-service\r\n  awsKmsKeyArn: ${ssm:/infra/lambda-env-kms-key-id}\r\n\r\nframeworkVersion: \"^1.25.0\"\r\n\r\nfunctions:\r\n  foo-service:\r\n    name: ${self:custom.stageNames.${self:provider.stage}, self:custom.defaultName}\r\n    handler: dist/lambda.handler\r\n\r\nprovider:\r\n  name: aws\r\n  stage: ${opt:stage, self:custom.defaultStage}\r\n  region: us-east-1\r\n  profile: serverless\r\n  deploymentBucket:\r\n    name: ${ssm:/infra/serverless-deployment-bucket}\r\n    serverSideEncryption: aws:kms\r\n    sseKMSKeyId: ${ssm:/infra/serverless-deployment-bucket-kms-key-id}\r\n  \r\n  # service function settings\r\n  runtime: nodejs6.10\r\n  memorySize: 1024\r\n  timeout: 30\r\n  environment:\r\n    SERVERLESS_STAGE: ${self:provider.stage}\r\n    SERVERLESS_ALIAS: ${self:provider.alias}\r\n    NODE_ENV: ${ssm:/infra/NODE_ENV}\r\n    MY_NEW_ENV_VAR: ${ssm:/infra/foobar}\r\n  vpc:\r\n    subnetIds:\r\n      - ${ssm:/infra/lambda-subnet}\r\n    securityGroupIds:\r\n      - ${ssm:/infra/lambda-sg}\r\n\r\ncustom:\r\n  defaultName: ${self:service}__${self:provider.stage}\r\n  defaultStage: staging\r\n  defaultRegion: us-east-1\r\n  stageNames:\r\n    staging: ${self:service}\r\n    prod: ${self:service}\r\n\r\npackage:\r\n  include:\r\n    - dist/**\r\n    - node_modules/**\r\n    - '!**/*.d.ts'\r\n    - '!**/*.test.js'\r\n    - '!**/*.spec.js'\r\n    - '!**/__tests__/**'\r\n  exclude:\r\n    - '**'\r\n\r\nplugins:\r\n  - serverless-pseudo-parameters\r\n  - serverless-aws-alias\r\n```\r\n* What stacktrace or error message from your provider did you see?\r\nNo error message. Package and Deploy were successful.\r\n\r\nSimilar or dependent issues:\r\n* https://github.com/HyperBrain/serverless-aws-alias/issues/91\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n1.25.0\r\n* ***Operating System***:\r\nMac High Sierra locally and Ubuntu in CircleCI\r\n* ***Stack Trace***:\r\nNone\r\n* ***Provider Error messages***:\r\nNone\r\n\r\n  ", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/4638/reactions", "total_count": 24, "+1": 24, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/4638/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/1816", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/1816/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/1816/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/1816/events", "html_url": "https://github.com/serverless/serverless/issues/1816", "id": 170426098, "node_id": "MDU6SXNzdWUxNzA0MjYwOTg=", "number": 1816, "title": "After integrating Api getaway and lambda on Amazon console I see error lile \"Could not list api-gateway event sources.\"", "user": {"login": "olegZastavnyi", "id": 8235934, "node_id": "MDQ6VXNlcjgyMzU5MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8235934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olegZastavnyi", "html_url": "https://github.com/olegZastavnyi", "followers_url": "https://api.github.com/users/olegZastavnyi/followers", "following_url": "https://api.github.com/users/olegZastavnyi/following{/other_user}", "gists_url": "https://api.github.com/users/olegZastavnyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/olegZastavnyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olegZastavnyi/subscriptions", "organizations_url": "https://api.github.com/users/olegZastavnyi/orgs", "repos_url": "https://api.github.com/users/olegZastavnyi/repos", "events_url": "https://api.github.com/users/olegZastavnyi/events{/privacy}", "received_events_url": "https://api.github.com/users/olegZastavnyi/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 56, "created_at": "2016-08-10T14:07:34Z", "updated_at": "2017-05-19T13:46:48Z", "closed_at": "2017-05-19T13:46:41Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "##### Serverless Framework Version:\n\nbeta 1.0\n##### Operating System:\n\nwindows\n##### Additional Details:\n\nAfter integrating Api getaway and lambda on Amazon console(Lambda tab) I see error lile \"Could not list api-gateway event sources.\"\n\nMy yaml file:\nFunctions:\n  lambdaFunction:\n    handler: com.myHandler.DataExtractorLambda\n    events:\n      - schedule: cron(0/1 \\* \\* \\* ? *)\n      - http:\n          path: publicGetaway/getResources\n          method: get\n\nNote: Schedule trigger is available for editing and works fine.\n", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/1816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/1816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/3050", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/3050/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/3050/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/3050/events", "html_url": "https://github.com/serverless/serverless/issues/3050", "id": 198568072, "node_id": "MDU6SXNzdWUxOTg1NjgwNzI=", "number": 3050, "title": "Serverless Error - Function not found...", "user": {"login": "scott-martin", "id": 2068545, "node_id": "MDQ6VXNlcjIwNjg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2068545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scott-martin", "html_url": "https://github.com/scott-martin", "followers_url": "https://api.github.com/users/scott-martin/followers", "following_url": "https://api.github.com/users/scott-martin/following{/other_user}", "gists_url": "https://api.github.com/users/scott-martin/gists{/gist_id}", "starred_url": "https://api.github.com/users/scott-martin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scott-martin/subscriptions", "organizations_url": "https://api.github.com/users/scott-martin/orgs", "repos_url": "https://api.github.com/users/scott-martin/repos", "events_url": "https://api.github.com/users/scott-martin/events{/privacy}", "received_events_url": "https://api.github.com/users/scott-martin/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 52, "created_at": "2017-01-03T21:03:24Z", "updated_at": "2018-08-05T02:39:13Z", "closed_at": "2017-03-06T12:19:16Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "As of today (1/2/2017), when I try `serverless deploy` I get this error. \r\n\r\n```\r\nServerless Error ---------------------------------------\r\n \r\n     An error occurred while provisioning your stack: XXXLambdaVersionPUKt3p41YmjAJBYRa6HS1i4GOUTJQpzTYRXOhP8524\r\n     - Function not found: arn:aws:lambda:us-east-1:11xxxxx32:function:xxx-xxx-xxxxx.\r\n```\r\n\r\nYesterday I was able to deploy my service without failure.\r\n\r\nI'm running on a Mac using serverless version 1.4. I have about 4 functions in my template. One is a lambda proxy, 2 sns topic handlers, and 1 function without an event attached to it.\r\n\r\n", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/3050/reactions", "total_count": 15, "+1": 15, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/3050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/9616", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/9616/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/9616/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/9616/events", "html_url": "https://github.com/serverless/serverless/pull/9616", "id": 923776588, "node_id": "MDExOlB1bGxSZXF1ZXN0NjcyNTAzNDY1", "number": 9616, "title": "fix: prevent crash when packaging in parallel", "user": {"login": "NoxHarmonium", "id": 2357137, "node_id": "MDQ6VXNlcjIzNTcxMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/2357137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NoxHarmonium", "html_url": "https://github.com/NoxHarmonium", "followers_url": "https://api.github.com/users/NoxHarmonium/followers", "following_url": "https://api.github.com/users/NoxHarmonium/following{/other_user}", "gists_url": "https://api.github.com/users/NoxHarmonium/gists{/gist_id}", "starred_url": "https://api.github.com/users/NoxHarmonium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NoxHarmonium/subscriptions", "organizations_url": "https://api.github.com/users/NoxHarmonium/orgs", "repos_url": "https://api.github.com/users/NoxHarmonium/repos", "events_url": "https://api.github.com/users/NoxHarmonium/events{/privacy}", "received_events_url": "https://api.github.com/users/NoxHarmonium/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 1215892323, "node_id": "MDU6TGFiZWwxMjE1ODkyMzIz", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/deployment", "name": "cat/deployment", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [{"login": "NoxHarmonium", "id": 2357137, "node_id": "MDQ6VXNlcjIzNTcxMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/2357137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NoxHarmonium", "html_url": "https://github.com/NoxHarmonium", "followers_url": "https://api.github.com/users/NoxHarmonium/followers", "following_url": "https://api.github.com/users/NoxHarmonium/following{/other_user}", "gists_url": "https://api.github.com/users/NoxHarmonium/gists{/gist_id}", "starred_url": "https://api.github.com/users/NoxHarmonium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NoxHarmonium/subscriptions", "organizations_url": "https://api.github.com/users/NoxHarmonium/orgs", "repos_url": "https://api.github.com/users/NoxHarmonium/repos", "events_url": "https://api.github.com/users/NoxHarmonium/events{/privacy}", "received_events_url": "https://api.github.com/users/NoxHarmonium/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 18, "created_at": "2021-06-17T10:47:19Z", "updated_at": "2021-06-29T02:50:06Z", "closed_at": "2021-06-28T07:54:59Z", "assignee": {"login": "NoxHarmonium", "id": 2357137, "node_id": "MDQ6VXNlcjIzNTcxMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/2357137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NoxHarmonium", "html_url": "https://github.com/NoxHarmonium", "followers_url": "https://api.github.com/users/NoxHarmonium/followers", "following_url": "https://api.github.com/users/NoxHarmonium/following{/other_user}", "gists_url": "https://api.github.com/users/NoxHarmonium/gists{/gist_id}", "starred_url": "https://api.github.com/users/NoxHarmonium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NoxHarmonium/subscriptions", "organizations_url": "https://api.github.com/users/NoxHarmonium/orgs", "repos_url": "https://api.github.com/users/NoxHarmonium/repos", "events_url": "https://api.github.com/users/NoxHarmonium/events{/privacy}", "received_events_url": "https://api.github.com/users/NoxHarmonium/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/serverless/serverless/pulls/9616", "html_url": "https://github.com/serverless/serverless/pull/9616", "diff_url": "https://github.com/serverless/serverless/pull/9616.diff", "patch_url": "https://github.com/serverless/serverless/pull/9616.patch", "merged_at": "2021-06-28T07:54:59Z"}, "body": "- Previously there was a race condition in ensureArtifact where if you were running multiple 'sls package' in parallel, two or more instances of serverless could notice that the custom resources package was missing and try and create it\r\n- This meant that one of the serverless instances would 'win' the race and create it first. Then the other instances would crash because the file already existed\r\n- Now each project gets its own cache folder and they can't conflict with each other, even if they are packaging in parallel\r\n- Also implemented a safe move function that allows files to be renamed across filesystem boundaries\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Acknowledge ALL below remarks -->\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f PR will not be processed if it doesn't meet outlined criteria -->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Do not propose PR's without prior agreement on a solution in the corresponding issue -->\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Only documentation updates and obvious bug fixes are welcome without it -->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f Ensure to follow code style guidelines\r\nhttps://github.com/serverless/serverless/blob/master/CONTRIBUTING.md#code-style\r\n-->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f Ensure to cover changes with tests written according to test guidelines\r\nhttps://github.com/serverless/serverless/blob/master/test/README.md\r\n-->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Ensure that support for Node.js v10 is maintained. -->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f Ensure that the proposed change passes CI. Confirm that by running the following scripts:\r\n\u2022 npm run prettier-check\r\n\u2022 npm run lint\r\n\u2022 npm test\r\n-->\r\n\r\n<!--\r\n\u26a0\ufe0f\u26a0\ufe0f If proposed change touches integration with AWS services, confirm integration tests pass:\r\nhttps://github.com/serverless/serverless/blob/master/test/README.md#aws-integration-tests\r\n-->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f After your PR is submitted, review the final CI status and address eventual failure -->\r\n\r\n<!-- \u26a0\ufe0f\u26a0\ufe0f Answer below questions -->\r\n\r\n<!--\r\nQ1: Provide a link to the corresponding issue\r\n\r\n\u2022 If PR *partially* addresses issue, ensure to rename \"Closes\" to \"Addresses\" (\"Closes\" term will automatically close an issue on PR merge)\r\n\u2022 If it's a documentation update or obvious bug fix that has no corresponding issue, replace this line with a short description of made changes\r\n-->\r\n\r\nCloses: #9565 \r\n", "closed_by": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/9616/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/9616/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/serverless/serverless/issues/2780", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/2780/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/2780/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/2780/events", "html_url": "https://github.com/serverless/serverless/issues/2780", "id": 191305788, "node_id": "MDU6SXNzdWUxOTEzMDU3ODg=", "number": 2780, "title": "EC2 permissions for VPC not set on first deploy", "user": {"login": "gozup", "id": 788187, "node_id": "MDQ6VXNlcjc4ODE4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/788187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gozup", "html_url": "https://github.com/gozup", "followers_url": "https://api.github.com/users/gozup/followers", "following_url": "https://api.github.com/users/gozup/following{/other_user}", "gists_url": "https://api.github.com/users/gozup/gists{/gist_id}", "starred_url": "https://api.github.com/users/gozup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gozup/subscriptions", "organizations_url": "https://api.github.com/users/gozup/orgs", "repos_url": "https://api.github.com/users/gozup/repos", "events_url": "https://api.github.com/users/gozup/events{/privacy}", "received_events_url": "https://api.github.com/users/gozup/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 511594798, "node_id": "MDU6TGFiZWw1MTE1OTQ3OTg=", "url": "https://api.github.com/repos/serverless/serverless/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": {"url": "https://api.github.com/repos/serverless/serverless/milestones/23", "html_url": "https://github.com/serverless/serverless/milestone/23", "labels_url": "https://api.github.com/repos/serverless/serverless/milestones/23/labels", "id": 2308752, "node_id": "MDk6TWlsZXN0b25lMjMwODc1Mg==", "number": 23, "title": "1.8", "description": "Inline policies, faster zipping, Bugfixes and other improvements", "creator": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2017-02-08T07:26:37Z", "updated_at": "2019-02-06T12:28:23Z", "due_on": "2017-02-28T00:00:00Z", "closed_at": "2017-02-28T16:45:24Z"}, "comments": 49, "created_at": "2016-11-23T15:34:40Z", "updated_at": "2024-12-13T10:13:15Z", "closed_at": "2019-02-06T12:28:23Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hi Guys,\r\n\r\nI have multiple serverless projects up and running, but today I wanted to set up a new one, and I can't figured it out.\r\n\r\nMy project is inside a VPC, and I have a permission error on the \"AWS::Lambda::Function\" role:\r\n> Your access has been denied by EC2, please make sure your function execution role have permission to CreateNetworkInterface. EC2 Error Code: UnauthorizedOperation. EC2 Error Message: You are not authorized to perform this operation.\r\n\r\nBut my serverless.yml is setup the same way than my working projects:\r\n\r\n```yaml\r\nservice: AwesomeService\r\nframeworkVersion: \"=1.2.1\"\r\ncustom: ${file(./environments/serverless/${env:NODE_ENV}.yml)}\r\nprovider:\r\n  name: aws\r\n  cfLogs: true\r\n  runtime: nodejs4.3\r\n  region: eu-central-1\r\n  stage: ${self:custom.stage}\r\n  memorySize: ${self:custom.memorySize}\r\n  timeout: ${self:custom.timeout}\r\n  iamRoleStatements:\r\n    - Effect: \"Allow\"\r\n      Action:\r\n        - \"ec2:CreateNetworkInterface\"\r\n        - \"ec2:DescribeNetworkInterfaces\"\r\n        - \"ec2:DetachNetworkInterface\"\r\n        - \"ec2:DeleteNetworkInterface\"\r\n      Resource: \"*\"\r\n  vpc: ${self:custom.vpc}\r\nfunctions:\r\n  hello:\r\n    handler: handler.hello\r\n    events:\r\n      - http:\r\n          method: post\r\n          path: hello\r\n          cors: true\r\n          integration: lambda\r\n```\r\n\r\nAs you can see, I clearly set the iamRoleStatements for EC2. Moreover, I read this in the documentation:\r\n> Further, if you have specified VPC security groups and subnets for your lambdas to use then the EC2 rights necessary to attach to the VPC via an ENI will be added into the default IAM policy.\r\n\r\nBut when the role is created, the inline policy attached is the following:\r\n```json\r\n{\r\n\t\"Version\": \"2012-10-17\",\r\n\t\"Statement\": [{\r\n\t\t\"Action\": [\"logs:CreateLogGroup\", \"logs:CreateLogStream\"],\r\n\t\t\"Resource\": [\"arn:aws:logs:eu-central-1:111118746979:log-group:/aws/lambda/AwesomeService-development-hello:*\"],\r\n\t\t\"Effect\": \"Allow\"\r\n\t}, {\r\n\t\t\"Action\": [\"logs:PutLogEvents\"],\r\n\t\t\"Resource\": [\"arn:aws:logs:eu-central-1:111118746979:log-group:/aws/lambda/AwesomeService-development-hello:*:*\"],\r\n\t\t\"Effect\": \"Allow\"\r\n\t}]\r\n}\r\n```\r\n\r\nNo rights about EC2 are added...\r\nDoes anyone have an idea?\r\n\r\nMany thanks", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/2780/reactions", "total_count": 3, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/2780/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/7170", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/7170/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/7170/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/7170/events", "html_url": "https://github.com/serverless/serverless/pull/7170", "id": 545198562, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU5MTQ5NjY0", "number": 7170, "title": "Improve creation of origins and behaviors in cloudFront event", "user": {"login": "FanFataL", "id": 620014, "node_id": "MDQ6VXNlcjYyMDAxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/620014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FanFataL", "html_url": "https://github.com/FanFataL", "followers_url": "https://api.github.com/users/FanFataL/followers", "following_url": "https://api.github.com/users/FanFataL/following{/other_user}", "gists_url": "https://api.github.com/users/FanFataL/gists{/gist_id}", "starred_url": "https://api.github.com/users/FanFataL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FanFataL/subscriptions", "organizations_url": "https://api.github.com/users/FanFataL/orgs", "repos_url": "https://api.github.com/users/FanFataL/repos", "events_url": "https://api.github.com/users/FanFataL/events{/privacy}", "received_events_url": "https://api.github.com/users/FanFataL/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-01-03T23:02:53Z", "updated_at": "2020-01-16T18:31:04Z", "closed_at": "2020-01-09T13:07:34Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/serverless/serverless/pulls/7170", "html_url": "https://github.com/serverless/serverless/pull/7170", "diff_url": "https://github.com/serverless/serverless/pull/7170.diff", "patch_url": "https://github.com/serverless/serverless/pull/7170.patch", "merged_at": "2020-01-09T13:07:34Z"}, "body": "## What did you implement\r\n\r\n1. This Pull Request fix the issue with only one behavior with `PathPattern`. To solve this Im creating additional behavior without lambda functions and without `PathPattern` (It closes #7151)\r\n2. For creating new behavior (default one) we need proper origin for this - if its only one across the stack we are using this, but if its more we need to point which origin is the default one. For this I've added new options to the cloudfront event `defaultOrigin: true`. You don't need to setup this when one of your behavior is without `PathPattern`\r\n3. I've realized that there is no option right now to modify behavior config (eg If i need some custom headers to be forwarded). For this I've added new option to cloudfront event `behavior` - its a object defined by the user and its merged with our generated behavior. (it partialy resolve #6843)\r\n4. I've spotted another bug with checking existing origins. If you want to create two origins to the same s3 server but one trought `s3://` protocol and second one trough `http://` protocol it was impossible. Also the naming based on the funciton name is wrong since one function can be attach to many origins.\r\n5. I've added checking for gotchas to throw an error before we are trying to update the cloudformation stack\r\n\r\nFor every bug mentioned above Ive created test case for it to cover it.\r\nA also update documentation which partialy resolve this issue #6785\r\n\r\n## How can we verify it\r\n<details>\r\n<summary>1 - PathPattern</summary>\r\n<!-- comment-->\r\n\r\n```\r\nfunctions:\r\n  myLambdaAtEdge:\r\n    handler: myLambdaAtEdge.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-response\r\n          pathPattern: /files*\r\n          origin: s3://bucketname.s3.amazonaws.com/files\r\n```\r\n\r\n</details>\r\n<details>\r\n<summary>2 - DefaultOrigin</summary>\r\n<!-- comment-->\r\n\r\n```\r\nfunctions:\r\n  myLambdaAtEdge:\r\n    handler: myLambdaAtEdge.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-response\r\n          pathPattern: /files*\r\n          origin: s3://bucketname.s3.amazonaws.com/files\r\n  myLambdaAtEdge2:\r\n    handler: myLambdaAtEdge.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-response\r\n          pathPattern: /files2*\r\n          defaultOrigin: true\r\n          origin: s3://bucketname.s3.amazonaws.com/files2\r\n```\r\n\r\n</details>\r\n<details>\r\n<summary>3 - Extend behavior</summary>\r\n<!-- comment-->\r\n\r\n```\r\nfunctions:\r\n  myLambdaAtEdge:\r\n    handler: myLambdaAtEdge.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-response\r\n          pathPattern: /files*\r\n          behavior:\r\n            AllowedMethods:\r\n              - \"GET\"\r\n              - \"HEAD\"\r\n              - \"OPTIONS\"\r\n              - \"PUT\"\r\n              - \"PATCH\"\r\n              - \"POST\"\r\n              - \"DELETE\"\r\n            CachedMethods:\r\n              - \"GET\"\r\n              - \"HEAD\"\r\n              - \"OPTIONS\"\r\n          origin: s3://bucketname.s3.amazonaws.com/files\r\n```\r\n\r\n</details>\r\n<details>\r\n<summary>4 - Origin bug</summary>\r\n<!-- comment-->\r\n\r\n```\r\nfunctions:\r\n  myLambdaAtEdge:\r\n    handler: myLambdaAtEdge.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-response\r\n          origin: s3://bucketname.s3.amazonaws.com/files\r\n  mySecondLambdaAtEdge:\r\n    handler: myLambdaAtEdge.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: origin-response\r\n          pathPattern: /files*\r\n          origin: http://bucketname.s3.amazonaws.com/files\r\n```\r\n\r\n</details>\r\n<details>\r\n<summary>5 - Throw an error on gotchas</summary>\r\n<!-- comment-->\r\n\r\n```\r\nfunctions:\r\n  myLambdaAtEdge:\r\n    handler: myLambdaAtEdge.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-request\r\n          origin: s3://bucketname.s3.amazonaws.com/files\r\n      - cloudFront:\r\n          eventType: viewer-request\r\n          origin: s3://bucketname.s3.amazonaws.com/other\r\n```\r\n\r\n</details>\r\n<details>\r\n<summary>Ultimate serverless configuration to check</summary>\r\n<!-- comment-->\r\n\r\n```\r\nservice: ultimate-cf-test\r\n\r\nprovider:\r\n  name: aws\r\n  runtime: nodejs10.x\r\n  region: us-east-1\r\n  versionFunctions: true\r\n\r\npackage:\r\n  excludeDevDependencies: false\r\n  exclude:\r\n    - '**'\r\n  include:\r\n    - ./index.js\r\n\r\ncustom:\r\n  cf:\r\n    myWebsiteOrigin1:\r\n      DomainName: serverless.com\r\n      OriginPath: /framework\r\n      CustomOriginConfig:\r\n        OriginKeepaliveTimeout: 5\r\n        OriginReadTimeout: 30\r\n        OriginProtocolPolicy: match-viewer\r\n    myWebsiteOrigin2: s3://bucketname.s3-eu-central-1.amazonaws.com/\r\n    myWebsiteOrigin3: https://bucketname.s3-eu-central-1.amazonaws.com/\r\n    myWebsiteOrigin4:\r\n      DomainName:\r\n        Fn::Join:\r\n          - ''\r\n          - - Ref: ApiGatewayRestApi\r\n            - \".execute-api.\"\r\n            - Ref: AWS::Region\r\n            - \".amazonaws.com\"\r\n      OriginPath: /first\r\n      CustomOriginConfig:\r\n        OriginProtocolPolicy: match-viewer\r\n    myWebsiteOrigin5:\r\n      DomainName:\r\n        Fn::Join:\r\n          - ''\r\n          - - Ref: ApiGatewayRestApi\r\n            - \".execute-api.\"\r\n            - Ref: AWS::Region\r\n            - \".amazonaws.com\"\r\n      OriginPath: /second\r\n      CustomOriginConfig:\r\n        OriginProtocolPolicy: match-viewer\r\n    myBehavior1:\r\n      ForwardedValues:\r\n        Cookies: {\r\n          Forward: 'none'\r\n        }\r\n        QueryString: true\r\n        Headers:\r\n          - Authorization\r\n          - Access-Control-Request-Headers\r\n          - Access-Control-Request-Method\r\n      Compress: true\r\n      AllowedMethods:\r\n        - \"GET\"\r\n        - \"HEAD\"\r\n        - \"OPTIONS\"\r\n        - \"PUT\"\r\n        - \"PATCH\"\r\n        - \"POST\"\r\n        - \"DELETE\"\r\n      CachedMethods:\r\n        - \"GET\"\r\n        - \"HEAD\"\r\n        - \"OPTIONS\"\r\n    myBehavior2:\r\n      Compress: true\r\n      ViewerProtocolPolicy: redirect-to-https\r\n\r\nfunctions:\r\n  firstFunction:\r\n    handler: index.handler\r\n    events:\r\n      - http: 'GET /first'\r\n      - cloudFront:\r\n          eventType: origin-request\r\n          origin: ${self:custom.cf.myWebsiteOrigin1}\r\n      - cloudFront:\r\n          pathPattern: /first/*\r\n          eventType: origin-request\r\n          origin: ${self:custom.cf.myWebsiteOrigin2}\r\n          behavior: ${self:custom.cf.myBehavior1}\r\n      - cloudFront:\r\n          pathPattern: /first2/*\r\n          eventType: viewer-request\r\n          origin: ${self:custom.cf.myWebsiteOrigin3}\r\n          behavior: ${self:custom.cf.myBehavior2}\r\n  secondFunction:\r\n    handler: index.handler\r\n    events:\r\n      - http: 'GET /second'\r\n      - cloudFront:\r\n          eventType: origin-response\r\n          origin: ${self:custom.cf.myWebsiteOrigin1}\r\n      - cloudFront:\r\n          pathPattern: /second/*\r\n          eventType: origin-response\r\n          origin: ${self:custom.cf.myWebsiteOrigin2}\r\n          behavior: ${self:custom.cf.myBehavior1}\r\n      - cloudFront:\r\n          pathPattern: /second2/*\r\n          eventType: viewer-response\r\n          origin: ${self:custom.cf.myWebsiteOrigin3}\r\n          behavior: ${self:custom.cf.myBehavior2}\r\n  thirdFunction:\r\n    handler: index.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-request\r\n          origin: ${self:custom.cf.myWebsiteOrigin1}\r\n  fourthFunction:\r\n    handler: index.handler\r\n    events:\r\n      - cloudFront:\r\n          eventType: viewer-response\r\n          origin: ${self:custom.cf.myWebsiteOrigin1}\r\n      - cloudFront:\r\n          pathPattern: /fourth/*\r\n          eventType: viewer-response\r\n          origin: ${self:custom.cf.myWebsiteOrigin4}\r\n          behavior: ${self:custom.cf.myBehavior2}\r\n  fifthFunction:\r\n    handler: index.handler\r\n    events:\r\n      - cloudFront:\r\n          pathPattern: /fifth/*\r\n          eventType: viewer-response\r\n          origin: ${self:custom.cf.myWebsiteOrigin5}\r\n          behavior: ${self:custom.cf.myBehavior2}\r\n```\r\n\r\n</details>\r\n\r\n## Todos\r\n\r\n<details>\r\n<summary>Useful Scripts</summary>\r\n<!-- You might want to use the following scripts to streamline your development workflow -->\r\n\r\n- `npm run test:ci` --> Run all validation checks on proposed changes\r\n- `npm run lint:updated` --> Lint all the updated files\r\n- `npm run lint:fix` --> Automatically fix lint problems (if possible)\r\n- `npm run prettier-check:updated` --> Check if updated files adhere to Prettier config\r\n- `npm run prettify:updated` --> Prettify all the updated files\r\n\r\n</details>\r\n\r\n- [x] Write and run all tests\r\n- [x] Write documentation\r\n- [x] Create ultimate serverless configuration to check\r\n- [x] Enable \"Allow edits from maintainers\" for this PR\r\n- [x] Update the messages below\r\n\r\n**_Is this ready for review?:_** YES\r\n**_Is it a breaking change?:_** NO\r\n", "closed_by": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/7170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/7170/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/serverless/serverless/issues/6752", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/6752/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/6752/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/6752/events", "html_url": "https://github.com/serverless/serverless/issues/6752", "id": 498245587, "node_id": "MDU6SXNzdWU0OTgyNDU1ODc=", "number": 6752, "title": "Unable to deploy single lambda function for version  1.52.1 ", "user": {"login": "mahi1518", "id": 37397979, "node_id": "MDQ6VXNlcjM3Mzk3OTc5", "avatar_url": "https://avatars.githubusercontent.com/u/37397979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mahi1518", "html_url": "https://github.com/mahi1518", "followers_url": "https://api.github.com/users/mahi1518/followers", "following_url": "https://api.github.com/users/mahi1518/following{/other_user}", "gists_url": "https://api.github.com/users/mahi1518/gists{/gist_id}", "starred_url": "https://api.github.com/users/mahi1518/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mahi1518/subscriptions", "organizations_url": "https://api.github.com/users/mahi1518/orgs", "repos_url": "https://api.github.com/users/mahi1518/repos", "events_url": "https://api.github.com/users/mahi1518/events{/privacy}", "received_events_url": "https://api.github.com/users/mahi1518/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 1215892323, "node_id": "MDU6TGFiZWwxMjE1ODkyMzIz", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/deployment", "name": "cat/deployment", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 47, "created_at": "2019-09-25T12:12:39Z", "updated_at": "2023-05-15T14:47:19Z", "closed_at": "2023-05-15T14:47:19Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "### sls deploy -f \"function_name\" is not working throwing and exception \r\nMy serverless version is:\r\nFramework Core: 1.52.1\r\nPlugin: 3.0.0\r\nSDK: 2.1.1\r\n`sls deploy -f function_name` is not working \r\nit throws and errors the complete trackback would be\r\n`TypeError: Cannot read property 'artifact' of undefined\r\n      at ServerlessPythonRequirements.BbPromise.bind.then.then.then (/home/mahesh/shuttle/H2OLambda/pythonh20lambda/node_modules/serverless-python-requirements/index.js:176:48)\r\n`\r\n\r\n\r\n\r\nAny update on this would be appreciated.\r\nThank you\r\n", "closed_by": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/6752/reactions", "total_count": 42, "+1": 40, "-1": 0, "laugh": 0, "hooray": 0, "confused": 2, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/6752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/11201", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/11201/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/11201/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/11201/events", "html_url": "https://github.com/serverless/serverless/pull/11201", "id": 1292389657, "node_id": "PR_kwDOAgtq6s46wfjV", "number": 11201, "title": "feat(AWS Cognito): Add Support for Custom Sender Triggers", "user": {"login": "AustinMathuw", "id": 11302370, "node_id": "MDQ6VXNlcjExMzAyMzcw", "avatar_url": "https://avatars.githubusercontent.com/u/11302370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AustinMathuw", "html_url": "https://github.com/AustinMathuw", "followers_url": "https://api.github.com/users/AustinMathuw/followers", "following_url": "https://api.github.com/users/AustinMathuw/following{/other_user}", "gists_url": "https://api.github.com/users/AustinMathuw/gists{/gist_id}", "starred_url": "https://api.github.com/users/AustinMathuw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AustinMathuw/subscriptions", "organizations_url": "https://api.github.com/users/AustinMathuw/orgs", "repos_url": "https://api.github.com/users/AustinMathuw/repos", "events_url": "https://api.github.com/users/AustinMathuw/events{/privacy}", "received_events_url": "https://api.github.com/users/AustinMathuw/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 2006293138, "node_id": "MDU6TGFiZWwyMDA2MjkzMTM4", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/aws-event-cognito", "name": "cat/aws-event-cognito", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-07-03T18:34:50Z", "updated_at": "2022-07-28T08:56:10Z", "closed_at": "2022-07-26T16:20:51Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/serverless/serverless/pulls/11201", "html_url": "https://github.com/serverless/serverless/pull/11201", "diff_url": "https://github.com/serverless/serverless/pull/11201.diff", "patch_url": "https://github.com/serverless/serverless/pull/11201.patch", "merged_at": "2022-07-26T16:20:51Z"}, "body": "Hi all!\r\n\r\nI saw that #10834 stalled, and I see a need for supporting Custom Sender Triggers for Cognito. I used #10834 as a guide to create my own implementation of the custom sender triggers.\r\n\r\nThis PR adds support for `CustomSMSSender` and `CustomEmailSender` as [documented by AWS](https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-custom-sender-triggers.html).\r\n\r\nTo address [a comment from the original pull request](https://github.com/serverless/serverless/pull/10834#issuecomment-1068027407), only 1 `kmsKeyId` can be configured per Cognito User Pool.\r\n\r\nI have also added various unit tests, as well as an integration test. I did not make new files for these, rather updated the original tests for Cognito User Pools.\r\n\r\nThank you!\r\n\r\nCloses: #8889", "closed_by": {"login": "pgrzesik", "id": 17499590, "node_id": "MDQ6VXNlcjE3NDk5NTkw", "avatar_url": "https://avatars.githubusercontent.com/u/17499590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgrzesik", "html_url": "https://github.com/pgrzesik", "followers_url": "https://api.github.com/users/pgrzesik/followers", "following_url": "https://api.github.com/users/pgrzesik/following{/other_user}", "gists_url": "https://api.github.com/users/pgrzesik/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgrzesik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgrzesik/subscriptions", "organizations_url": "https://api.github.com/users/pgrzesik/orgs", "repos_url": "https://api.github.com/users/pgrzesik/repos", "events_url": "https://api.github.com/users/pgrzesik/events{/privacy}", "received_events_url": "https://api.github.com/users/pgrzesik/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/11201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/11201/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/serverless/serverless/issues/2341", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/2341/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/2341/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/2341/events", "html_url": "https://github.com/serverless/serverless/issues/2341", "id": 182487138, "node_id": "MDU6SXNzdWUxODI0ODcxMzg=", "number": 2341, "title": "Missing required key 'Bucket' in params", "user": {"login": "nirmalgoswami", "id": 17105608, "node_id": "MDQ6VXNlcjE3MTA1NjA4", "avatar_url": "https://avatars.githubusercontent.com/u/17105608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirmalgoswami", "html_url": "https://github.com/nirmalgoswami", "followers_url": "https://api.github.com/users/nirmalgoswami/followers", "following_url": "https://api.github.com/users/nirmalgoswami/following{/other_user}", "gists_url": "https://api.github.com/users/nirmalgoswami/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirmalgoswami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirmalgoswami/subscriptions", "organizations_url": "https://api.github.com/users/nirmalgoswami/orgs", "repos_url": "https://api.github.com/users/nirmalgoswami/repos", "events_url": "https://api.github.com/users/nirmalgoswami/events{/privacy}", "received_events_url": "https://api.github.com/users/nirmalgoswami/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 511594798, "node_id": "MDU6TGFiZWw1MTE1OTQ3OTg=", "url": "https://api.github.com/repos/serverless/serverless/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": ""}, {"id": 1215892616, "node_id": "MDU6TGFiZWwxMjE1ODkyNjE2", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/dx", "name": "cat/dx", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 44, "created_at": "2016-10-12T10:13:21Z", "updated_at": "2019-07-08T10:37:04Z", "closed_at": "2019-07-08T10:37:03Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "<!--\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\n2. Please check if an issue already exists so there are no duplicates\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\n4. Fill out the whole template so we have a good overview on the issue\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\n6. Please follow the template, otherwise we'll have to ask you to update it\n-->\n# This is a Bug Report\n## Description\n\nI am getting following error when run `serverless deploy -v`\n\n```\n Serverless Error ---------------------------------------\n\n     Missing required key 'Bucket' in params\n\n  Get Support --------------------------------------------\n     Docs:          docs.serverless.com\n     Bugs:          github.com/serverless/serverless/issues\n\n  Your Environment Infomation -----------------------------\n     OS:                 win32\n     Node Version:       6.3.0\n     Serverless Version: 1.0.0\n\n```\n\nCurrent `serverless.yml`\n\n```\nservice: api\n\nprovider:\n  name: aws\n  runtime: nodejs4.3\n  stage: prod\n  region: us-west-2\n  credentials:\n      accessKeyId: accessKeyIdhere\n      secretAccessKey: secretAccessKeyhere\nfunctions:\n  hello:\n    handler: handler.hello\n    events:\n    - http:\n             path: hello/test\n             method: get\n```\n\nI am not using anything related bucket than why i need to setup bucket key ?\n", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/2341/reactions", "total_count": 13, "+1": 13, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/2341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/6557", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/6557/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/6557/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/6557/events", "html_url": "https://github.com/serverless/serverless/issues/6557", "id": 481914469, "node_id": "MDU6SXNzdWU0ODE5MTQ0Njk=", "number": 6557, "title": "Deploy stops at \"Installing dependencies for custom CloudFormation resources\"", "user": {"login": "mklueh", "id": 1553757, "node_id": "MDQ6VXNlcjE1NTM3NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1553757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mklueh", "html_url": "https://github.com/mklueh", "followers_url": "https://api.github.com/users/mklueh/followers", "following_url": "https://api.github.com/users/mklueh/following{/other_user}", "gists_url": "https://api.github.com/users/mklueh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mklueh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mklueh/subscriptions", "organizations_url": "https://api.github.com/users/mklueh/orgs", "repos_url": "https://api.github.com/users/mklueh/repos", "events_url": "https://api.github.com/users/mklueh/events{/privacy}", "received_events_url": "https://api.github.com/users/mklueh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 1215891782, "node_id": "MDU6TGFiZWwxMjE1ODkxNzgy", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/packaging", "name": "cat/packaging", "color": "bfdadc", "default": false, "description": ""}, {"id": 1239692604, "node_id": "MDU6TGFiZWwxMjM5NjkyNjA0", "url": "https://api.github.com/repos/serverless/serverless/labels/os/windows", "name": "os/windows", "color": "fcf0b3", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 43, "created_at": "2019-08-17T18:38:56Z", "updated_at": "2020-02-03T19:53:09Z", "closed_at": "2019-09-24T15:08:21Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I\u00b4m using this template https://github.com/msfidelis/serverless-architecture-boilerplate\r\nand the issue has only occured with this template so far.\r\n\r\nCreating new projects from scratch with the sls assistent and deploying works fine.\r\n\r\nWhen running **sls deploy** it processes these 3 steps and then stops\r\n\r\n```\r\nServerless: Packaging service...\r\nServerless: Excluding development dependencies...\r\nServerless: Installing dependencies for custom CloudFormation resources...\r\n```\r\n\r\nRunning deploy with **--verbose --force** does not change anything and there are literally no additional exceptions or log messages thrown which makes it very hard to find the source of this issue.\r\n\r\nServerless v: 1.50.0\r\nOS: Windows 10", "closed_by": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/6557/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/6557/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/6461", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/6461/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/6461/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/6461/events", "html_url": "https://github.com/serverless/serverless/issues/6461", "id": 473604991, "node_id": "MDU6SXNzdWU0NzM2MDQ5OTE=", "number": 6461, "title": "More than one s3 event failing deployment for existing s3 bucket.", "user": {"login": "tarunjangra", "id": 153673, "node_id": "MDQ6VXNlcjE1MzY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/153673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tarunjangra", "html_url": "https://github.com/tarunjangra", "followers_url": "https://api.github.com/users/tarunjangra/followers", "following_url": "https://api.github.com/users/tarunjangra/following{/other_user}", "gists_url": "https://api.github.com/users/tarunjangra/gists{/gist_id}", "starred_url": "https://api.github.com/users/tarunjangra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tarunjangra/subscriptions", "organizations_url": "https://api.github.com/users/tarunjangra/orgs", "repos_url": "https://api.github.com/users/tarunjangra/repos", "events_url": "https://api.github.com/users/tarunjangra/events{/privacy}", "received_events_url": "https://api.github.com/users/tarunjangra/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 41, "created_at": "2019-07-27T06:27:58Z", "updated_at": "2022-07-22T19:23:10Z", "closed_at": "2019-08-05T14:32:22Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "<!--\r\n1. If you have a question and not a bug report please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This bug may have already been documented\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\nI have 30 different suffixes for which i want to trigger event associated with S3 and lambda. So i need to define all of them in serverless.yml file. It is working fine for one event but not working when i put two or more events. I think it is not working for multiple events.\r\n\r\n\r\n- What went wrong?\r\nThrowing following error:\r\n```\r\nServerless Error ---------------------------------------\r\n\r\n  An error occurred: GICreateThumbnailsCustomS31 - Failed to create resource. The statement id (GICreateThumbnails-gi3-staging-original) provided already exists. Please provide a new statement id, or remove the existing statement. See details in CloudWatch Log: 2019/07/27/[$LATEST]337e42c16b0643bcadd452556a6dc004.\r\n\r\n```\r\n- What did you expect should have happened?\r\nI am expecting to see all events should be visible on my lambda console in AWS which i have defined in serverless.yml\r\n- What was the config you used?\r\n```yml\r\nservice: User\r\nframeworkVersion: \">=1.48.4\"\r\ntenant: ginvoicing\r\napp: ginvoicing\r\n\r\n\r\ncustom:\r\n  bucket: gi3-original\r\n\r\nprovider:\r\n  name: aws\r\n  runtime: nodejs8.10\r\n  memorySize: 192\r\n  timeout: 10\r\n    iamRoleStatements:\r\n    - Effect: \"Allow\"\r\n      Action:\r\n        - s3:*\r\n      Resource: \"*\"\r\n  logRetentionInDays: 5\r\n  stage: dev\r\n  region: ap-south-1\r\nfunctions:\r\n  GICreateThumbnails:\r\n    handler: GICreateThumbnails.handler\r\n    name: GICreateThumbnails # optional, Deployed Lambda name\r\n    description: To create thumbnail of the uploaded picture on s3. # optional, Description to publish to AWS\r\n    events:\r\n      - s3:\r\n          bucket: ${self:custom.bucket}\r\n          event: s3:ObjectCreated:*\r\n          rules:\r\n            - prefix: images/items/\r\n            - suffix: .png\r\n          existing: true   \r\n      - s3:\r\n          bucket: ${self:custom.bucket}\r\n          event: s3:ObjectCreated:*\r\n          rules:\r\n            - prefix: images/user/\r\n            - suffix: .png\r\n          existing: true                \r\n```\r\n- What stacktrace or error message from your provider did you see?\r\n```\r\nStack Trace --------------------------------------------\r\n \r\nServerlessError: An error occurred: GICreateThumbnailsCustomS31 - Failed to create resource. The statement id (GICreateThumbnails-gi3-staging-original) provided already exists. Please provide a new statement id, or remove the existing statement. See details in CloudWatch Log: 2019/07/27/[$LATEST]337e42c16b0643bcadd452556a6dc004.\r\n    at provider.request.then.data (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/lib/monitorStack.js:121:33)\r\nFrom previous event:\r\n    at AwsDeploy.monitorStack (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/lib/monitorStack.js:27:12)\r\n    at provider.request.then.cfData (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/lib/updateStack.js:103:28)\r\nFrom previous event:\r\n    at AwsDeploy.update (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/lib/updateStack.js:103:8)\r\nFrom previous event:\r\n    at AwsDeploy.BbPromise.bind.then (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/lib/updateStack.js:117:35)\r\nFrom previous event:\r\n    at AwsDeploy.updateStack (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/lib/updateStack.js:113:33)\r\nFrom previous event:\r\n    at AwsDeploy.BbPromise.bind.then (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:127:39)\r\nFrom previous event:\r\n    at Object.aws:deploy:deploy:updateStack [as hook] (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:123:30)\r\n    at BbPromise.reduce (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/classes/PluginManager.js:464:55)\r\nFrom previous event:\r\n    at PluginManager.invoke (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/classes/PluginManager.js:464:22)\r\n    at PluginManager.spawn (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/classes/PluginManager.js:484:17)\r\n    at AwsDeploy.BbPromise.bind.then (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:93:48)\r\nFrom previous event:\r\n    at Object.deploy:deploy [as hook] (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:89:30)\r\n    at BbPromise.reduce (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/classes/PluginManager.js:464:55)\r\nFrom previous event:\r\n    at PluginManager.invoke (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/classes/PluginManager.js:464:22)\r\n    at PluginManager.run (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/classes/PluginManager.js:496:17)\r\n    at variables.populateService.then (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/Serverless.js:116:33)\r\n    at runCallback (timers.js:810:20)\r\n    at tryOnImmediate (timers.js:768:5)\r\n    at processImmediate [as _immediateCallback] (timers.js:745:5)\r\nFrom previous event:\r\n    at Serverless.run (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/lib/Serverless.js:103:74)\r\n    at serverless.init.then (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/bin/serverless.js:52:28)\r\n    at /Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/node_modules/graceful-fs/graceful-fs.js:111:16\r\n    at /Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/node_modules/graceful-fs/graceful-fs.js:45:10\r\n    at FSReqWrap.oncomplete (fs.js:135:15)\r\nFrom previous event:\r\n    at initializeErrorReporter.then (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/bin/serverless.js:52:6)\r\n    at runCallback (timers.js:810:20)\r\n    at tryOnImmediate (timers.js:768:5)\r\n    at processImmediate [as _immediateCallback] (timers.js:745:5)\r\nFrom previous event:\r\n    at Object.<anonymous> (/Users/tarunjangra/.nvm/versions/node/v8.11.3/lib/node_modules/serverless/bin/serverless.js:38:39)\r\n    at Module._compile (module.js:652:30)\r\n    at Object.Module._extensions..js (module.js:663:10)\r\n    at Module.load (module.js:565:32)\r\n    at tryModuleLoad (module.js:505:12)\r\n    at Function.Module._load (module.js:497:3)\r\n    at Function.Module.runMain (module.js:693:10)\r\n    at startup (bootstrap_node.js:191:16)\r\n    at bootstrap_node.js:612:3\r\n```\r\n\r\nSimilar or dependent issues:\r\n\r\n- #6369\r\n\r\n## Additional Data\r\n\r\n- **_Serverless Framework Version you're using_**: 1.48.4\r\n- **_Operating System_**: darwin\r\n- **_Enterprise Plugin Versione_**: 1.3.3\r\n- **_Platform SDK Version_**: 2.1.0\r\n", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/6461/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/6461/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/1738", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/1738/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/1738/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/1738/events", "html_url": "https://github.com/serverless/serverless/issues/1738", "id": 168991366, "node_id": "MDU6SXNzdWUxNjg5OTEzNjY=", "number": 1738, "title": "HTTP Events, cannot add methods for root `/`endpoint", "user": {"login": "shortjared", "id": 1689118, "node_id": "MDQ6VXNlcjE2ODkxMTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1689118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shortjared", "html_url": "https://github.com/shortjared", "followers_url": "https://api.github.com/users/shortjared/followers", "following_url": "https://api.github.com/users/shortjared/following{/other_user}", "gists_url": "https://api.github.com/users/shortjared/gists{/gist_id}", "starred_url": "https://api.github.com/users/shortjared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shortjared/subscriptions", "organizations_url": "https://api.github.com/users/shortjared/orgs", "repos_url": "https://api.github.com/users/shortjared/repos", "events_url": "https://api.github.com/users/shortjared/events{/privacy}", "received_events_url": "https://api.github.com/users/shortjared/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 420106925, "node_id": "MDU6TGFiZWw0MjAxMDY5MjU=", "url": "https://api.github.com/repos/serverless/serverless/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 41, "created_at": "2016-08-02T21:19:33Z", "updated_at": "2023-02-11T02:43:05Z", "closed_at": "2016-11-08T14:27:01Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "##### Serverless Framework Version:\n\n1.0.0-alpha.2\n##### Operating System:\n\nOSX 10.11.6\n##### Expected Behavior:\n\nI would expect that I would be able to somehow deploy a method against the root `/` endpoint. Seems like validations block this from happening? Either that or I missed in the docs how to handle this.\n##### Actual Behavior:\n\n``` yaml\nfunctions:\n  render:\n    handler: handler.render\n    timeout: 6\n    events:\n      - http:\n          path: /\n          method: get\n```\n\n```\n\u266a sls deploy\nServerless: Zipping service...\nServerless: Removing old service versions...\nServerless: Uploading .zip file to S3...\nServerless: Updating Stack...\n\n  Validation Error ---------------------------------------\n\n     Template format error: Unresolved resource dependencies\n     [ResourceApigEvent] in the Resources block of the template\n```\n", "closed_by": {"login": "eahefnawy", "id": 2312463, "node_id": "MDQ6VXNlcjIzMTI0NjM=", "avatar_url": "https://avatars.githubusercontent.com/u/2312463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eahefnawy", "html_url": "https://github.com/eahefnawy", "followers_url": "https://api.github.com/users/eahefnawy/followers", "following_url": "https://api.github.com/users/eahefnawy/following{/other_user}", "gists_url": "https://api.github.com/users/eahefnawy/gists{/gist_id}", "starred_url": "https://api.github.com/users/eahefnawy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eahefnawy/subscriptions", "organizations_url": "https://api.github.com/users/eahefnawy/orgs", "repos_url": "https://api.github.com/users/eahefnawy/repos", "events_url": "https://api.github.com/users/eahefnawy/events{/privacy}", "received_events_url": "https://api.github.com/users/eahefnawy/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/1738/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/1738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/3249", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/3249/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/3249/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/3249/events", "html_url": "https://github.com/serverless/serverless/issues/3249", "id": 207790500, "node_id": "MDU6SXNzdWUyMDc3OTA1MDA=", "number": 3249, "title": "sls deploy causes 'EMFILE - too many open files' error ", "user": {"login": "northerncodemky", "id": 4012813, "node_id": "MDQ6VXNlcjQwMTI4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/4012813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/northerncodemky", "html_url": "https://github.com/northerncodemky", "followers_url": "https://api.github.com/users/northerncodemky/followers", "following_url": "https://api.github.com/users/northerncodemky/following{/other_user}", "gists_url": "https://api.github.com/users/northerncodemky/gists{/gist_id}", "starred_url": "https://api.github.com/users/northerncodemky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/northerncodemky/subscriptions", "organizations_url": "https://api.github.com/users/northerncodemky/orgs", "repos_url": "https://api.github.com/users/northerncodemky/repos", "events_url": "https://api.github.com/users/northerncodemky/events{/privacy}", "received_events_url": "https://api.github.com/users/northerncodemky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": true, "assignees": [], "milestone": {"url": "https://api.github.com/repos/serverless/serverless/milestones/23", "html_url": "https://github.com/serverless/serverless/milestone/23", "labels_url": "https://api.github.com/repos/serverless/serverless/milestones/23/labels", "id": 2308752, "node_id": "MDk6TWlsZXN0b25lMjMwODc1Mg==", "number": 23, "title": "1.8", "description": "Inline policies, faster zipping, Bugfixes and other improvements", "creator": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2017-02-08T07:26:37Z", "updated_at": "2019-02-06T12:28:23Z", "due_on": "2017-02-28T00:00:00Z", "closed_at": "2017-02-28T16:45:24Z"}, "comments": 40, "created_at": "2017-02-15T12:28:23Z", "updated_at": "2022-08-23T14:57:48Z", "closed_at": "2017-02-28T15:40:56Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": "resolved", "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\n* Since upgrading to 1.7.0 the serverless deploy stage is causing an `EMFILE - too many open files error`\r\n* This does not occur in 1.6.1, and updating package.json to reference 1.6.1 resolves this issue\r\n* This does not occur with node 6.9.5, however it is completely reasonable to expect that development teams would be working with the same version of Node as used on the AWS Lambda runtime, and this is exactly the setup we have on our CI servers.\r\n* ***Stack Trace***:\r\nbuild\t15-Feb-2017 08:25:13\t\r\nbuild\t15-Feb-2017 08:25:13\t> **redacted** deploy **redacted**\r\nbuild\t15-Feb-2017 08:25:13\t> sls deploy \"--stage\" \"dev\" \"--region\" \"eu-west-1\" \"--profile\" \"default\"\r\nbuild\t15-Feb-2017 08:25:13\t\r\nbuild\t15-Feb-2017 08:25:14\t\r\nbuild\t15-Feb-2017 08:25:14\t  WARNING: You are running v1.7.0. v1.8.0 will include the following breaking changes:\r\nbuild\t15-Feb-2017 08:25:14\t    - Will replace IamPolicyLambdaExecution resource with inline policies -> https://git.io/vDilm\r\nbuild\t15-Feb-2017 08:25:14\t    - \"sls info\" will output the short function name rather than the lambda name -> https://git.io/vDiWx\r\nbuild\t15-Feb-2017 08:25:14\t\r\nbuild\t15-Feb-2017 08:25:14\t  You can opt-out from these warnings by setting the \"SLS_IGNORE_WARNING=*\" environment variable.\r\nbuild\t15-Feb-2017 08:25:14\t\r\nbuild\t15-Feb-2017 08:25:17\tServerless: Wrote .env file to  **redacted**\r\nbuild\t15-Feb-2017 08:25:17\tServerless: Packaging service...\r\nerror\t15-Feb-2017 08:25:42\tevents.js:141\r\nerror\t15-Feb-2017 08:25:42\t      throw er; // Unhandled 'error' event\r\nerror\t15-Feb-2017 08:25:42\t      ^\r\nerror\t15-Feb-2017 08:25:42\t\r\nerror\t15-Feb-2017 08:25:42\tError: EMFILE: too many open files, open ' **redacted**\\node_modules\\dynogels\\test\\schema-test.js'\r\nerror\t15-Feb-2017 08:25:42\t    at Error (native)\r\n\r\nCommit [b0df37673bd3a1fac11ccbfa3eb48e3626c0acb1](https://github.com/serverless/serverless/commit/b0df37673bd3a1fac11ccbfa3eb48e3626c0acb1) looks like a potential cause. \r\n\r\n## Additional Data\r\n* ***Serverless Version***\r\n1.7.0\r\n* ***Windows Version***\r\nWindows Server 2012 R2\r\n* ***Node Version***\r\n4.3.2\r\n\r\n", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/3249/reactions", "total_count": 14, "+1": 14, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/3249/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/7059", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/7059/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/7059/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/7059/events", "html_url": "https://github.com/serverless/serverless/issues/7059", "id": 533452748, "node_id": "MDU6SXNzdWU1MzM0NTI3NDg=", "number": 7059, "title": "Provisioned Concurrency Does Not Work As Described", "user": {"login": "AndrewBarba", "id": 1316152, "node_id": "MDQ6VXNlcjEzMTYxNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1316152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewBarba", "html_url": "https://github.com/AndrewBarba", "followers_url": "https://api.github.com/users/AndrewBarba/followers", "following_url": "https://api.github.com/users/AndrewBarba/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewBarba/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewBarba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewBarba/subscriptions", "organizations_url": "https://api.github.com/users/AndrewBarba/orgs", "repos_url": "https://api.github.com/users/AndrewBarba/repos", "events_url": "https://api.github.com/users/AndrewBarba/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewBarba/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}, {"id": 1215893475, "node_id": "MDU6TGFiZWwxMjE1ODkzNDc1", "url": "https://api.github.com/repos/serverless/serverless/labels/cat/lambda", "name": "cat/lambda", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [{"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 39, "created_at": "2019-12-05T16:18:32Z", "updated_at": "2024-12-03T13:28:33Z", "closed_at": "2019-12-23T13:00:59Z", "assignee": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "# Bug Report\r\n\r\nProvisioned Concurrency was recently added in Serverless v1.59 and described in detail in this blog post: https://serverless.com/blog/aws-lambda-provisioned-concurrency/\r\n\r\nThe blog post makes the claim that enabling provisioned concurrency is as easy as:\r\n\r\n```\r\nfunctions:\r\n  hello:\r\n    handler: handler.hello\r\n      events:\r\n        - http:\r\n            path: /hello\r\n            method: get\r\n    provisionedConcurrency: 5\r\n```\r\n\r\nThis is not true.\r\n\r\nWhat this configuration will do is assign provisioned concurrency to the version number that was deployed, but API Gateway will continue invoking the Lambda with the $LATEST alias (no version). What effectively ends up happening is every deploy keeps assigning provisioned concurrency to each new version and never actually utilizes it. If a developer does not use any version pruning they will quickly rack up an expensive bill paying for new provisioned capacity on each version, and potentially worse, eventually exhaust their reserved (or unreserved) concurrency on their AWS account.\r\n\r\nI think this is a critical issue and needs to, at the very least, be addressed in the blog post. Without some form of version cleanup or aliasing I don't think there's much Serverless can do to make this work in a simple configuration like that.\r\n", "closed_by": {"login": "medikoo", "id": 122434, "node_id": "MDQ6VXNlcjEyMjQzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/122434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/medikoo", "html_url": "https://github.com/medikoo", "followers_url": "https://api.github.com/users/medikoo/followers", "following_url": "https://api.github.com/users/medikoo/following{/other_user}", "gists_url": "https://api.github.com/users/medikoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/medikoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/medikoo/subscriptions", "organizations_url": "https://api.github.com/users/medikoo/orgs", "repos_url": "https://api.github.com/users/medikoo/repos", "events_url": "https://api.github.com/users/medikoo/events{/privacy}", "received_events_url": "https://api.github.com/users/medikoo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/7059/reactions", "total_count": 34, "+1": 32, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 2}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/7059/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/1029", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/1029/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/1029/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/1029/events", "html_url": "https://github.com/serverless/serverless/issues/1029", "id": 149450710, "node_id": "MDU6SXNzdWUxNDk0NTA3MTA=", "number": 1029, "title": "function run causes aws-sdk error 'ConfigError: Missing region in config'", "user": {"login": "theburningmonk", "id": 546969, "node_id": "MDQ6VXNlcjU0Njk2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/546969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theburningmonk", "html_url": "https://github.com/theburningmonk", "followers_url": "https://api.github.com/users/theburningmonk/followers", "following_url": "https://api.github.com/users/theburningmonk/following{/other_user}", "gists_url": "https://api.github.com/users/theburningmonk/gists{/gist_id}", "starred_url": "https://api.github.com/users/theburningmonk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theburningmonk/subscriptions", "organizations_url": "https://api.github.com/users/theburningmonk/orgs", "repos_url": "https://api.github.com/users/theburningmonk/repos", "events_url": "https://api.github.com/users/theburningmonk/events{/privacy}", "received_events_url": "https://api.github.com/users/theburningmonk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 39, "created_at": "2016-04-19T12:45:29Z", "updated_at": "2020-09-17T18:04:29Z", "closed_at": "2017-03-09T11:28:49Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "When I run `sls function run myFunction -s dev -r eu-west-1` I get the following error:\n\n```\n [ConfigError: Missing region in config]\n  message: 'Missing region in config',\n  code: 'ConfigError',\n  time: Tue Apr 19 2016 13:41:21 GMT+0100 (BST) } 'ConfigError: Missing region in config\\n ...\n```\n\nI can work around it by specifying the region in my code:\n\n```\nlet AWS = require('aws-sdk');\nAWS.config.update({region:'us-east-1'});\n```\n\nbut that's not going to work when we go multi-region.\n", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/1029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/1029/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/serverless/serverless/issues/5474", "repository_url": "https://api.github.com/repos/serverless/serverless", "labels_url": "https://api.github.com/repos/serverless/serverless/issues/5474/labels{/name}", "comments_url": "https://api.github.com/repos/serverless/serverless/issues/5474/comments", "events_url": "https://api.github.com/repos/serverless/serverless/issues/5474/events", "html_url": "https://github.com/serverless/serverless/issues/5474", "id": 378793570, "node_id": "MDU6SXNzdWUzNzg3OTM1NzA=", "number": 5474, "title": "Profile [profilename] does not exist. Using Cross account roles. credentials_source=EcsContainer", "user": {"login": "pawel-miszkurka-cko", "id": 33283287, "node_id": "MDQ6VXNlcjMzMjgzMjg3", "avatar_url": "https://avatars.githubusercontent.com/u/33283287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pawel-miszkurka-cko", "html_url": "https://github.com/pawel-miszkurka-cko", "followers_url": "https://api.github.com/users/pawel-miszkurka-cko/followers", "following_url": "https://api.github.com/users/pawel-miszkurka-cko/following{/other_user}", "gists_url": "https://api.github.com/users/pawel-miszkurka-cko/gists{/gist_id}", "starred_url": "https://api.github.com/users/pawel-miszkurka-cko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pawel-miszkurka-cko/subscriptions", "organizations_url": "https://api.github.com/users/pawel-miszkurka-cko/orgs", "repos_url": "https://api.github.com/users/pawel-miszkurka-cko/repos", "events_url": "https://api.github.com/users/pawel-miszkurka-cko/events{/privacy}", "received_events_url": "https://api.github.com/users/pawel-miszkurka-cko/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 417327117, "node_id": "MDU6TGFiZWw0MTczMjcxMTc=", "url": "https://api.github.com/repos/serverless/serverless/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 38, "created_at": "2018-11-08T15:51:13Z", "updated_at": "2022-05-05T18:14:48Z", "closed_at": "2019-01-16T11:31:29Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "<!--\r\n1. If you have a question and not a bug report please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This bug may have already been documented\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\nHi, I am trying to use --aws-profile feature to deploy lambda functions using crossaccount role specified in aws/credentials file. \r\n* What went wrong?\r\nsls deploy --aws-profile [profilename]\r\n\r\n  Error --------------------------------------------------\r\n\r\n  Profile [profilename] does not exist\r\n\r\n* What did you expect should have happened?\r\nProject should be deployed to corresponding account.\r\n* What was the config you used?\r\nMy credentials file looks like this:\r\n```\r\n[playground]\r\nrole_arn=somecrossaccountrolearn\r\ncredential_source=EcsContainer\r\n\r\n[dev]\r\nrole_arn=somecrossaccountrolearn\r\ncredential_source=EcsContainer\r\n\r\n[test]\r\nrole_arn=somecrossaccountrolearn\r\ncredential_source=EcsContainer\r\n\r\n[qa]\r\nrole_arn=somecrossaccountrolearn\r\ncredential_source=EcsContainer]\r\n\r\n```\r\n* What stacktrace or error message from your provider did you see?\r\n\r\n```Serverless: Creating Stack...\r\n\r\n  Error --------------------------------------------------\r\n\r\n  Profile playground does not exist\r\n\r\n     For debugging logs, run again after setting the \"SLS_DEBUG=*\" environment variable.\r\n\r\n  Stack Trace --------------------------------------------\r\n\r\nError: Profile [profilename] does not exist\r\n    at Object.addProfileCredentials (/usr/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:86:15)\r\n    at AwsProvider.getCredentials (/usr/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:310:12)\r\n    at AwsProvider.request (/usr/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:197:30)\r\n    at createDeployment.then (/usr/lib/node_modules/serverless/lib/plugins/aws/deploy/lib/createStack.js:39:61)\r\nFrom previous event:\r\n    at AwsDeploy.create (/usr/lib/node_modules/serverless/lib/plugins/aws/deploy/lib/createStack.js:39:36)\r\nFrom previous event:\r\n    at AwsDeploy.BbPromise.bind.then.catch (/usr/lib/node_modules/serverless/lib/plugins/aws/deploy/lib/createStack.js:88:14)\r\nFrom previous event:\r\n    at AwsDeploy.createStack (/usr/lib/node_modules/serverless/lib/plugins/aws/deploy/lib/createStack.js:81:13)\r\nFrom previous event:\r\n    at Object.aws:deploy:deploy:createStack [as hook] (/usr/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:102:10)\r\n    at BbPromise.reduce (/usr/lib/node_modules/serverless/lib/classes/PluginManager.js:390:55)\r\nFrom previous event:\r\n    at PluginManager.invoke (/usr/lib/node_modules/serverless/lib/classes/PluginManager.js:390:22)\r\n    at PluginManager.spawn (/usr/lib/node_modules/serverless/lib/classes/PluginManager.js:408:17)\r\n    at AwsDeploy.BbPromise.bind.then (/usr/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:95:48)\r\nFrom previous event:\r\n    at Object.deploy:deploy [as hook] (/usr/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:91:10)\r\n    at BbPromise.reduce (/usr/lib/node_modules/serverless/lib/classes/PluginManager.js:390:55)\r\nFrom previous event:\r\n    at PluginManager.invoke (/usr/lib/node_modules/serverless/lib/classes/PluginManager.js:390:22)\r\n    at PluginManager.run (/usr/lib/node_modules/serverless/lib/classes/PluginManager.js:421:17)\r\n    at variables.populateService.then.then (/usr/lib/node_modules/serverless/lib/Serverless.js:157:33)\r\n    at runCallback (timers.js:789:20)\r\n    at tryOnImmediate (timers.js:751:5)\r\n    at processImmediate [as _immediateCallback] (timers.js:722:5)\r\nFrom previous event:\r\n    at Serverless.run (/usr/lib/node_modules/serverless/lib/Serverless.js:144:8)\r\n    at serverless.init.then (/usr/lib/node_modules/serverless/bin/serverless:43:50)\r\n    at <anonymous>\r\n\r\n  Get Support --------------------------------------------\r\n     Docs:          docs.serverless.com\r\n     Bugs:          github.com/serverless/serverless/issues\r\n     Issues:        forum.serverless.com\r\n\r\n  Your Environment Information -----------------------------\r\n     OS:                     \r\n     Node Version:           8.9.3\r\n     Serverless Version:     \r\n```\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: 1.32.0\r\n* ***Operating System***: linux\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:\r\n", "closed_by": {"login": "pmuens", "id": 1606004, "node_id": "MDQ6VXNlcjE2MDYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmuens", "html_url": "https://github.com/pmuens", "followers_url": "https://api.github.com/users/pmuens/followers", "following_url": "https://api.github.com/users/pmuens/following{/other_user}", "gists_url": "https://api.github.com/users/pmuens/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmuens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmuens/subscriptions", "organizations_url": "https://api.github.com/users/pmuens/orgs", "repos_url": "https://api.github.com/users/pmuens/repos", "events_url": "https://api.github.com/users/pmuens/events{/privacy}", "received_events_url": "https://api.github.com/users/pmuens/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/serverless/serverless/issues/5474/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/serverless/serverless/issues/5474/timeline", "performed_via_github_app": null, "state_reason": "completed"}]}