{"d": {"kind": "Listing", "data": {"modhash": "", "dist": 5, "facets": {}, "after": "t3_1phezau", "geo_filter": "", "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "Superstonk", "selftext": "", "author_fullname": "t2_9p2e1b2b", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "GameStop on X", "link_flair_richtext": [{"e": "text", "t": "\ud83d\udcf3Social Media"}], "subreddit_name_prefixed": "r/Superstonk", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": 125, "top_awarded_type": null, "hide_score": false, "name": "t3_1m7fgmn", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.95, "author_flair_background_color": "#73ad34", "ups": 8792, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": "7dfd44fe-f3ce-11eb-a228-aaac7809dc68", "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "\ud83d\udcf3Social Media", "can_mod_post": false, "score": 8792, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/e_iMlZ53oVlPpWG58gFOmFHR0oJyMf6OJno27GXlenk.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [{"e": "text", "t": "\ud83d\ude80 Mandalorian Ape \ud83e\udd8d\ud83d\ude80"}], "gildings": {}, "post_hint": "image", "content_categories": null, "is_self": false, "subreddit_type": "public", "created": 1753291642.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "richtext", "domain": "i.redd.it", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://i.redd.it/nn11x4z7snef1.jpeg", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://preview.redd.it/nn11x4z7snef1.jpeg?auto=webp&amp;s=5e9d995472bc4cb339f310722d53a50f4497f5b0", "width": 1178, "height": 1055}, "resolutions": [{"url": "https://preview.redd.it/nn11x4z7snef1.jpeg?width=108&amp;crop=smart&amp;auto=webp&amp;s=10a7efa3d480521cd63790ee7483fbea8a292e23", "width": 108, "height": 96}, {"url": "https://preview.redd.it/nn11x4z7snef1.jpeg?width=216&amp;crop=smart&amp;auto=webp&amp;s=9e985fae9d9f2e3139b6772cfca9109b7613e0ae", "width": 216, "height": 193}, {"url": "https://preview.redd.it/nn11x4z7snef1.jpeg?width=320&amp;crop=smart&amp;auto=webp&amp;s=f1818d494f436f41f09ef187bee8f30a6e3423af", "width": 320, "height": 286}, {"url": "https://preview.redd.it/nn11x4z7snef1.jpeg?width=640&amp;crop=smart&amp;auto=webp&amp;s=574a4810c852bd85c6a5a49ad7450a2214d7a580", "width": 640, "height": 573}, {"url": "https://preview.redd.it/nn11x4z7snef1.jpeg?width=960&amp;crop=smart&amp;auto=webp&amp;s=33d1302bf81bb3d8e2b7ffcf3b24f60480c6cab1", "width": 960, "height": 859}, {"url": "https://preview.redd.it/nn11x4z7snef1.jpeg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=0b0d705ac8d2a5f59983f817c2f207d88ca9df9b", "width": 1080, "height": 967}], "variants": {}, "id": "s_QP-9FOp1mQTvxEXuH1xyBSA7MXMdoTdelkoC9VOJA"}], "enabled": true}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "21bdcf8c-b694-11eb-840a-0e77b07c6f39", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "\ud83d\ude80 Mandalorian Ape \ud83e\udd8d\ud83d\ude80", "treatment_tags": [], "visited": false, "removed_by": null, "mod_note": null, "distinguished": null, "subreddit_id": "t5_43zwn1", "author_is_blocked": false, "mod_reason_by": null, "num_reports": null, "removal_reason": null, "link_flair_background_color": "#ff4500", "id": "1m7fgmn", "is_robot_indexable": true, "report_reasons": null, "author": "Ok_Mention9269", "discussion_type": null, "num_comments": 251, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/Superstonk/comments/1m7fgmn/gamestop_on_x/", "stickied": false, "url": "https://i.redd.it/nn11x4z7snef1.jpeg", "subreddit_subscribers": 1179217, "created_utc": 1753291642.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "wallstreetbetsGER", "selftext": "Meddl Loide\n\nWir tragen heute nicht nur unsere Broker, Bankdaten und Fotos in der Hosentasche, sondern faktisch unser gesamtes Leben.\n\nGerade deshalb ist es essenziell, dass unsere Ger\u00e4te wirksam vor unbefugtem Zugriff gesch\u00fctzt sind. Dennoch verlassen sich viele noch immer auf einen 4- oder 6 stelligen Zahlencode als einzige Sicherheitsma\u00dfnahme.\n\nDie Grafik zeigt, wie schnell solche Passw\u00f6rter durch sogenannte Brute-Force-Angriffe entschl\u00fcsselt werden k\u00f6nnen.                                              Wartet nicht, bis jemand euer Depot leerger\u00e4umt hat.\n\n\u00c4ndert euren Smartphone-Passcode \u2013 am besten noch heute. \ud83d\udd10                                                               Weg von nur Zahlen -&gt; hin zu einem Richtigen Passwort.\n\n\u201eNur ein friendy reminder da ich das Gef\u00fchl habe, dass sowas kaum jemand am Schirm hat. Erfolgreiches und sicheres Hebeln euch in der kommenden Woche \ud83d\ude80\ud83d\ude80\u201c", "author_fullname": "t2_27fzjxpz5m", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Da Wochenende ist, mal was ganz anderes - Passwortsicherheit - \ud83d\udd10", "link_flair_richtext": [{"e": "text", "t": "Zuwachs"}], "subreddit_name_prefixed": "r/wallstreetbetsGER", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": 140, "top_awarded_type": null, "hide_score": false, "name": "t3_1r4ur8w", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.97, "author_flair_background_color": null, "ups": 947, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Zuwachs", "can_mod_post": false, "score": 947, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://preview.redd.it/poxv476eqijg1.jpeg?width=140&amp;height=140&amp;auto=webp&amp;s=889eefd97eb64e72b9f25d30e54e2b7b40faeec2", "edited": 1771100537.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "image", "content_categories": null, "is_self": false, "subreddit_type": "public", "created": 1771100264.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "i.redd.it", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Meddl Loide&lt;/p&gt;\n\n&lt;p&gt;Wir tragen heute nicht nur unsere Broker, Bankdaten und Fotos in der Hosentasche, sondern faktisch unser gesamtes Leben.&lt;/p&gt;\n\n&lt;p&gt;Gerade deshalb ist es essenziell, dass unsere Ger\u00e4te wirksam vor unbefugtem Zugriff gesch\u00fctzt sind. Dennoch verlassen sich viele noch immer auf einen 4- oder 6 stelligen Zahlencode als einzige Sicherheitsma\u00dfnahme.&lt;/p&gt;\n\n&lt;p&gt;Die Grafik zeigt, wie schnell solche Passw\u00f6rter durch sogenannte Brute-Force-Angriffe entschl\u00fcsselt werden k\u00f6nnen.                                              Wartet nicht, bis jemand euer Depot leerger\u00e4umt hat.&lt;/p&gt;\n\n&lt;p&gt;\u00c4ndert euren Smartphone-Passcode \u2013 am besten noch heute. \ud83d\udd10                                                               Weg von nur Zahlen -&amp;gt; hin zu einem Richtigen Passwort.&lt;/p&gt;\n\n&lt;p&gt;\u201eNur ein friendy reminder da ich das Gef\u00fchl habe, dass sowas kaum jemand am Schirm hat. Erfolgreiches und sicheres Hebeln euch in der kommenden Woche \ud83d\ude80\ud83d\ude80\u201c&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://i.redd.it/poxv476eqijg1.jpeg", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://preview.redd.it/poxv476eqijg1.jpeg?auto=webp&amp;s=05a372007d80b66924fd407904d8927de5e83007", "width": 1200, "height": 1200}, "resolutions": [{"url": "https://preview.redd.it/poxv476eqijg1.jpeg?width=108&amp;crop=smart&amp;auto=webp&amp;s=53270347802bbdb20b7dbdda186bc44ad4ba1008", "width": 108, "height": 108}, {"url": "https://preview.redd.it/poxv476eqijg1.jpeg?width=216&amp;crop=smart&amp;auto=webp&amp;s=6d4617810f8451e75b5bed459554cabb0be6bef9", "width": 216, "height": 216}, {"url": "https://preview.redd.it/poxv476eqijg1.jpeg?width=320&amp;crop=smart&amp;auto=webp&amp;s=4fadfd5536298464a498833607546320091107b2", "width": 320, "height": 320}, {"url": "https://preview.redd.it/poxv476eqijg1.jpeg?width=640&amp;crop=smart&amp;auto=webp&amp;s=cceab8a28d349df4389050f54840187f1ac27ba8", "width": 640, "height": 640}, {"url": "https://preview.redd.it/poxv476eqijg1.jpeg?width=960&amp;crop=smart&amp;auto=webp&amp;s=0189afceb680ced41ad439ae5f05571aee4a1dfb", "width": 960, "height": 960}, {"url": "https://preview.redd.it/poxv476eqijg1.jpeg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=0f77710f708a2c949b7da1281c4d92b560d772c9", "width": 1080, "height": 1080}], "variants": {}, "id": "poxv476eqijg1"}], "enabled": true}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "742231a8-2a7d-11f0-8dcb-f60f50d524a6", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "mod_note": null, "distinguished": null, "subreddit_id": "t5_4kmgkj", "author_is_blocked": false, "mod_reason_by": null, "num_reports": null, "removal_reason": null, "link_flair_background_color": "#56be41", "id": "1r4ur8w", "is_robot_indexable": true, "report_reasons": null, "author": "Baja-California", "discussion_type": null, "num_comments": 201, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/wallstreetbetsGER/comments/1r4ur8w/da_wochenende_ist_mal_was_ganz_anderes/", "stickied": false, "url": "https://i.redd.it/poxv476eqijg1.jpeg", "subreddit_subscribers": 246915, "created_utc": 1771100264.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "privacy", "selftext": "A breach in your data is worth $1 according to ParkMobile\n\n&gt;\\[Data compromised\\] contained customers' first and last names, initials, mobile numbers, email addresses, user names, bcrypt-hashed passwords, mailing addresses, license plate numbers, and vehicle information", "author_fullname": "t2_x12mw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "ParkMobile pays... $1 each for 2021 data breach that hit 22 million", "link_flair_richtext": [], "subreddit_name_prefixed": "r/privacy", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": 78, "top_awarded_type": null, "hide_score": false, "name": "t3_1nyn90t", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "ups": 742, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "news", "can_mod_post": false, "score": 742, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "default", "edited": 1759784380.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "subreddit_type": "public", "created": 1759668305.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "bleepingcomputer.com", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;A breach in your data is worth $1 according to ParkMobile&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;[Data compromised] contained customers&amp;#39; first and last names, initials, mobile numbers, email addresses, user names, bcrypt-hashed passwords, mailing addresses, license plate numbers, and vehicle information&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://www.bleepingcomputer.com/news/security/parkmobile-pays-1-each-for-2021-data-breach-that-hit-22-million/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ.jpeg?auto=webp&amp;s=1cbe2f0f84e81c22878a878df354cd579a0352e7", "width": 1600, "height": 900}, "resolutions": [{"url": "https://external-preview.redd.it/oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ.jpeg?width=108&amp;crop=smart&amp;auto=webp&amp;s=21bed23e2d0463e493fe91bd79a1b0ac2e8f3dfb", "width": 108, "height": 60}, {"url": "https://external-preview.redd.it/oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ.jpeg?width=216&amp;crop=smart&amp;auto=webp&amp;s=247db73583e3d5c11bf715b94a7e8944cccb590a", "width": 216, "height": 121}, {"url": "https://external-preview.redd.it/oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ.jpeg?width=320&amp;crop=smart&amp;auto=webp&amp;s=825d009b22b563ce2462feca13ffbb1b8b37b352", "width": 320, "height": 180}, {"url": "https://external-preview.redd.it/oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ.jpeg?width=640&amp;crop=smart&amp;auto=webp&amp;s=7849affa8ba0564cd74cfd84f3a8cb66ddbec6bd", "width": 640, "height": 360}, {"url": "https://external-preview.redd.it/oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ.jpeg?width=960&amp;crop=smart&amp;auto=webp&amp;s=9e650fbf564d42779dc12dd1a478e8c2e7603d53", "width": 960, "height": 540}, {"url": "https://external-preview.redd.it/oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ.jpeg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=e4e2ba793e6385ad1c243696487de33b92aee888", "width": 1080, "height": 607}], "variants": {}, "id": "oa0bMQw9DtrUF5pmK4Rxycbt8n16ynL3cEo1PBkSgAQ"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "4b1761ae-f306-11ec-a3f5-aefdab62e0b5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "mod_note": null, "distinguished": null, "subreddit_id": "t5_2qhlc", "author_is_blocked": false, "mod_reason_by": null, "num_reports": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "1nyn90t", "is_robot_indexable": true, "report_reasons": null, "author": "Mepherion", "discussion_type": null, "num_comments": 25, "send_replies": false, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/privacy/comments/1nyn90t/parkmobile_pays_1_each_for_2021_data_breach_that/", "stickied": false, "url": "https://www.bleepingcomputer.com/news/security/parkmobile-pays-1-each-for-2021-data-breach-that-hit-22-million/", "subreddit_subscribers": 1587091, "created_utc": 1759668305.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "Terraria", "selftext": "So I got curious about the new secret seeds in 1.4.5 and decided to dig into the source code. Used ILSpy to decompile Terraria.exe and found some interesting stuff.\n\n**How seeds work:** The game normalizes input - spaces, punctuation, caps don't matter. \"What a horrible night!\" becomes `whatahorriblenightto`.\n\n**The catch:** New secret seeds aren't plaintext - they're BCrypt hashed. You can't just read them from code. They use custom BCrypt with fixed salt and cost factor 4.\n\n---\n\n## Cracked Seeds (33/35)\n\nWrote a bruteforcer using the game's BCrypt implementation. Dictionary attack + common phrases:\n\n| Seed Phrase | Effect |\n|-------------|--------|\n| &gt;!whatahorriblenighttohaveacurse!&lt; | &gt;!vampirism!&lt; |\n| &gt;!winteriscoming!&lt; | &gt;!worldIsFrozen!&lt; |\n| &gt;!rainbowroad!&lt; | &gt;!rainbowStuff!&lt; |\n| &gt;!arachnophobia!&lt; | &gt;!noSpiderCaves!&lt; |\n| &gt;!monochrome!&lt; | &gt;!paintEverythingGray!&lt; |\n| &gt;!beammeup!&lt; | &gt;!addTeleporters!&lt; |\n| &gt;!toadstool!&lt; | &gt;!surfaceIsMushrooms!&lt; |\n| &gt;!planetoids!&lt; | &gt;!roundLandmasses!&lt; |\n| &gt;!nightofthelivingdead!&lt; | &gt;!graveyardBloodmoonStart!&lt; |\n| &gt;!molepeople!&lt; | &gt;!noSurface!&lt; |\n| &gt;!jinglealltheway!&lt; | &gt;!endlessChristmas!&lt; |\n| &gt;!iamerror!&lt; | &gt;!errorWorld!&lt; |\n| &gt;!royalewithcheese!&lt; | &gt;!teamBasedSpawns!&lt; |\n| &gt;!hocuspocus!&lt; | &gt;!endlessHalloween!&lt; |\n| &gt;!bringatowel!&lt; | &gt;!rainsForAYear!&lt; |\n| &gt;!xrayvision!&lt; | &gt;!coatEverythingIlluminant!&lt; |\n| &gt;!howdidigethere!&lt; | &gt;!randomSpawn!&lt; |\n| &gt;!tooeasy!&lt; | &gt;!startInHardmode!&lt; |\n| &gt;!waterpark!&lt; | &gt;!extraLiquid!&lt; |\n| &gt;!jaggedrocks!&lt; | &gt;!digExtraHoles!&lt; |\n| &gt;!truckstop!&lt; | &gt;!pooEverywhere!&lt; |\n| &gt;!savetherainforest!&lt; | &gt;!extraLivingTrees!&lt; |\n| &gt;!pumpkinseason!&lt; | &gt;!halloweenGen!&lt; |\n| &gt;!suchgreatheights!&lt; | &gt;!surfaceIsInSpace!&lt; |\n| &gt;!negativeinfinity!&lt; | &gt;!paintEverythingNegative!&lt; |\n| &gt;!invisibleplane!&lt; | &gt;!coatEverythingEcho!&lt; |\n| &gt;!thecarebearsmovie!&lt; | &gt;!extraFloatingIslands!&lt; |\n| &gt;!abandonedmanors!&lt; | &gt;!biggerAbandonedHouses!&lt; |\n| &gt;!fishmox!&lt; | &gt;!noInfection!&lt; |\n| &gt;!moretrapsplease!&lt; | &gt;!actuallyNoTraps!&lt; |\n| &gt;!purifythis!&lt; | &gt;!worldIsInfected!&lt; |\n| &gt;!sandybritches!&lt; | &gt;!surfaceIsDesert!&lt; |\n| &gt;!doubledaringdangers!&lt; | &gt;!dualDungeons!&lt; |\n\n---\n\n## Still Unknown (2 remaining)\n\nEffects from source code with their hashes. If you want to help crack them:\n\n| Effect | Hash |\n|--------|------|\n| &gt;!hallowOnTheSurface!&lt; | &gt;!KYvKIk2LK0oyNY86m+uPhKQ7QbzFmDsR!&lt; |\n| &gt;!portalGunInChests!&lt; | &gt;!ALdQZ+bxQA4VdfjVfdhO/sm9q3sZD9dJ!&lt; |\n\nTo verify: lowercase, keep only a-z 0-9, BCrypt with salt `fT2JQQzNMJl2NRoMbo9RjA==` cost 4.\n\n---\n\n**Note:** These stack with classic seeds (drunk world, for the worthy, etc). Will update when more are cracked!\n", "author_fullname": "t2_i7oux", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How many secret seeds have you managed to find in 1.4.5?", "link_flair_richtext": [{"e": "text", "t": "Spoiler"}], "subreddit_name_prefixed": "r/Terraria", "hidden": false, "pwls": 6, "link_flair_css_class": "Spoiler", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_1qolf59", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 636, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Spoiler", "can_mod_post": false, "score": 636, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "spoiler", "edited": 1770303783.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1769537094.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.Terraria", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;So I got curious about the new secret seeds in 1.4.5 and decided to dig into the source code. Used ILSpy to decompile Terraria.exe and found some interesting stuff.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;How seeds work:&lt;/strong&gt; The game normalizes input - spaces, punctuation, caps don&amp;#39;t matter. &amp;quot;What a horrible night!&amp;quot; becomes &lt;code&gt;whatahorriblenightto&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;The catch:&lt;/strong&gt; New secret seeds aren&amp;#39;t plaintext - they&amp;#39;re BCrypt hashed. You can&amp;#39;t just read them from code. They use custom BCrypt with fixed salt and cost factor 4.&lt;/p&gt;\n\n&lt;hr/&gt;\n\n&lt;h2&gt;Cracked Seeds (33/35)&lt;/h2&gt;\n\n&lt;p&gt;Wrote a bruteforcer using the game&amp;#39;s BCrypt implementation. Dictionary attack + common phrases:&lt;/p&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Seed Phrase&lt;/th&gt;\n&lt;th&gt;Effect&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;whatahorriblenighttohaveacurse&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;vampirism&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;winteriscoming&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;worldIsFrozen&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;rainbowroad&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;rainbowStuff&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;arachnophobia&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;noSpiderCaves&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;monochrome&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;paintEverythingGray&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;beammeup&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;addTeleporters&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;toadstool&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;surfaceIsMushrooms&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;planetoids&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;roundLandmasses&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;nightofthelivingdead&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;graveyardBloodmoonStart&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;molepeople&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;noSurface&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;jinglealltheway&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;endlessChristmas&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;iamerror&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;errorWorld&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;royalewithcheese&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;teamBasedSpawns&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;hocuspocus&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;endlessHalloween&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;bringatowel&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;rainsForAYear&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;xrayvision&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;coatEverythingIlluminant&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;howdidigethere&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;randomSpawn&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;tooeasy&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;startInHardmode&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;waterpark&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;extraLiquid&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;jaggedrocks&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;digExtraHoles&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;truckstop&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;pooEverywhere&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;savetherainforest&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;extraLivingTrees&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;pumpkinseason&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;halloweenGen&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;suchgreatheights&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;surfaceIsInSpace&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;negativeinfinity&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;paintEverythingNegative&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;invisibleplane&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;coatEverythingEcho&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;thecarebearsmovie&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;extraFloatingIslands&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;abandonedmanors&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;biggerAbandonedHouses&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;fishmox&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;noInfection&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;moretrapsplease&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;actuallyNoTraps&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;purifythis&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;worldIsInfected&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;sandybritches&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;surfaceIsDesert&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;doubledaringdangers&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;dualDungeons&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;hr/&gt;\n\n&lt;h2&gt;Still Unknown (2 remaining)&lt;/h2&gt;\n\n&lt;p&gt;Effects from source code with their hashes. If you want to help crack them:&lt;/p&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Effect&lt;/th&gt;\n&lt;th&gt;Hash&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;hallowOnTheSurface&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;KYvKIk2LK0oyNY86m+uPhKQ7QbzFmDsR&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;portalGunInChests&lt;/span&gt;&lt;/td&gt;\n&lt;td&gt;&lt;span class=\"md-spoiler-text\"&gt;ALdQZ+bxQA4VdfjVfdhO/sm9q3sZD9dJ&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;p&gt;To verify: lowercase, keep only a-z 0-9, BCrypt with salt &lt;code&gt;fT2JQQzNMJl2NRoMbo9RjA==&lt;/code&gt; cost 4.&lt;/p&gt;\n\n&lt;hr/&gt;\n\n&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; These stack with classic seeds (drunk world, for the worthy, etc). Will update when more are cracked!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "43c07384-d958-11e4-b66a-22000b6f014d", "can_gild": false, "spoiler": true, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2sg5b", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#000000", "id": "1qolf59", "is_robot_indexable": true, "report_reasons": null, "author": "ignac8", "discussion_type": null, "num_comments": 333, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/Terraria/comments/1qolf59/how_many_secret_seeds_have_you_managed_to_find_in/", "stickied": false, "url": "https://www.reddit.com/r/Terraria/comments/1qolf59/how_many_secret_seeds_have_you_managed_to_find_in/", "subreddit_subscribers": 1588065, "created_utc": 1769537094.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "Btechtards", "selftext": "I am fresher. So today I appeared for backend developer internship interview. And they gave me the following problem Statement. And I need to complete the all questions in 1.30 hr. Without taking any external help. (Google, gpt). I need to write complete code, connect to database, and need to check all the api in Postman.\n\nSeriously. What the fuck are these questions. Pahle DSA nhi ata tha ab ghis ghis ke vo thoda ane Iga to ye bhosdi companies ko ab pura proejct ready chahiye vo bhi intern se. Ab vo din dur nhi jab ye bhsdi ke company wale bolenge phle Pura project complete kro, deploy kro, agar client ko achha Iga to tumhe select krenge. Aur stipend Kitna 15k. Wo bhi on-site Bengaluru.\n\nFuck this man.\n\n\nQuestion 1: Secure Role-Based User Registration\nContext: Edudibon is a school ERP serving multiple roles (Admin, Teacher, Student, Parent). Implement a user registration endpoint in the User Management microservice (FastAPI or Node) that enforces RBAC and security. New users supply email, full name, password, and a role. Only Admin can register Teachers or Parents; Teachers can register Students (for their class); no one can self-assign the Admin role. Store users in a database (e.g. PostgreSQL).\n\nRequirements:\n - Endpoint: POST /api/v1/users/register. Request body must include:\n\n\n{\n  \"email\": \"string, unique, e.g. user@school.edu\",\n  \"fullName\": \"string\",\n  \"password\": \"string\",\n  \"role\": \"admin|teacher|student|parent\",\n  \"classId\": \"integer (required if role=student)\"\n}\n\n- Validation: Verify email is well-formed and not already used; password meets complexity; role is valid. If a Teacher registers a Student, ensure classId is one of their classes. Reject invalid requests with HTTP 400. If the current user\u2019s JWT (from Authorization: Bearer &lt;token&gt;) is missing or the user is not allowed to create the requested role, respond with 401 or 403.\n- Security: Hash the password (e.g. bcrypt) before saving. Issue a JWT token for the new user (or respond with user info plus token) so they can authenticate immediately. Include user roles in the JWT claims. Store only the hash in DB. Use HTTPS and set JWT expiry (e.g. 1h).\n- RBAC Enforcement: Decode the caller\u2019s JWT to get their role. Enforce that only Admin can create Teachers/Parents; Teachers can only create Students and only in their own class; Students/Parents cannot register others or elevate themselves. For example, if a Teacher tries to set \"role\":\"teacher\", respond 403.\u202fAuthorization checks (RBAC) should decide access before mutating data.\n- Performance: (Optional) If you use Redis caching (for example, to cache class rosters), ensure any relevant cache keys are invalidated on new user creation. Redis is recommended for low-latency access in FastAPI.\n- Logging &amp; Audit: Log the registration event (e.g. USER_REGISTER) with timestamp, creator ID, and new user ID. Do not log sensitive data (no plaintext passwords). Optionally write an audit entry (in a separate log or DB) recording the change for compliance.\n\n\n Input (JSON):\n\n{\n  \"email\": \"alice.teacher@edudibon.com\",\n  \"fullName\": \"Alice Teacher\",\n  \"password\": \"Str0ngP@ssw0rd!\",\n  \"role\": \"teacher\"\n}\n\nOutput (201 Created, JSON):\n\n{\n  \"id\": 123,\n  \"email\": \"alice.teacher@edudibon.com\",\n  \"fullName\": \"Alice Teacher\",\n  \"role\": \"teacher\",\n  \"createdAt\": \"2025-09-27T10:00:00Z\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ...\"\n}\n\nErrors:\n - 400 Bad Request if input is malformed (e.g. missing role, invalid email).\n- 401 Unauthorized if no valid JWT.\n- 403 Forbidden if JWT user lacks permission (e.g. non-admin trying to create teacher).\n- 409 Conflict if email already exists.\n- 500 Internal Server Error on unhandled failures.\nUse FastAPI\u2019s HTTPException (or equivalent) to return these status codes.\n\nExample Scenarios:\n - Admin creates teacher: An Admin user calls POST /users/register with a unique email and \"role\":\"teacher\". Expect 201 and a token.\n- Teacher creates student: A Teacher (with valid JWT) posts student data including classId of one of their classes. Expect 201 with the new student\u2019s ID.\n- Duplicate email: Attempt to register an email that already exists \u2192 409 Conflict.\n- Unauthorized role: A Teacher tries to register another Teacher or an Admin \u2192 403 Forbidden.\n- Invalid data: Missing password or invalid role \u2192 400 Bad Request.\n\nReferences: User credentials must be securely hashed and JWT-based auth is recommended. Use HTTP 4xx codes for client errors and never log raw passwords. Maintain audit logs of user creation.\n\nQuestion 2: Role-Aware User Retrieval with Caching\nContext: Implement a secure profile-fetching endpoint in Edudibon\u2019s User Management service. User profiles include personal details; however, access and visible fields depend on the requester\u2019s role. Integrate RBAC and use Redis caching for performance.\n\nRequirements:\n - Endpoint: GET /api/v1/users/{userId}. Use path parameter userId. The caller sends a JWT in Authorization.\n- RBAC Rules: Based on the JWT\u2019s sub (requesting user ID) and roles:\n- Admin: Can retrieve any user\u2019s profile fully.\n- Teacher: Can retrieve profiles of students they teach (assume each student record has a classId to check). Teachers cannot retrieve other teachers or admins (respond 403).\n- Student: Can only retrieve their own profile (userId must match JWT sub). Cannot fetch others.\n- Parent: Can retrieve their own profile and optionally their child\u2019s profile (assume parent records link to student IDs).\n- Field Filtering: Sensitive fields (e.g. passwordHash, private emails, SSN if any) must never be returned. Additionally, you may hide certain contact info: for example, a student\u2019s home address should not be visible to other students. Implement output schemas that differ by role.\n- Security: If JWT is missing/invalid \u2192 401. If the user is not allowed to fetch the requested profile \u2192 403. Use JWT claims (including roles) to enforce authorization. Follow least-privilege principle.\n- Caching: This is a read-heavy endpoint. Use Redis (or an in-memory cache) to store recently fetched user profiles and speed up repeated requests. Since Redis is in-memory, it drastically improves API latency. For example, check Redis first; if missed, query the database then cache the result with a short TTL (e.g. 5\u201310 minutes). You can use a caching library (e.g. aiocache or fastapi-cache2) to simplify this. After any profile update (see Q3), ensure the cache is invalidated.\n- Logging: Log access events (user X fetched user Y\u2019s profile). For unauthorized access attempts, log a warning. Do not log the JWT itself or sensitive data. Ensure logs are structured (e.g. JSON) for easier querying.\n\nOutput: On success, return HTTP 200 with JSON of the allowed fields. Example for an Admin viewing a Teacher:\n\n\n{\n  \"id\": 456,\n  \"email\": \"bob.teacher@edudibon.com\",\n  \"fullName\": \"Bob Teacher\",\n  \"role\": \"teacher\",\n  \"phone\": \"+123456789\",\n  \"department\": \"Mathematics\",\n  \"createdAt\": \"2024-06-15T14:30:00Z\"\n}\n\nA Teacher viewing their student might see:\n\n\n{\n  \"id\": 789,\n  \"fullName\": \"Charlie Student\",\n  \"role\": \"student\",\n  \"classId\": 12,\n  \"gpa\": 3.8,\n  \"enrollmentYear\": 2023\n}\n\nNotice that only permitted fields appear (e.g. no home address if not allowed).\n\nErrors:\n - 401 Unauthorized if JWT is absent/invalid.\n- 403 Forbidden if role disallows access to that userId.\n- 404 Not Found if userId does not exist.\n- 500 on server errors.\n\nExample Scenarios:\n - Admin fetches any: Admin\u2019s token fetches student or teacher ID \u2192 200 with full profile.\n- Teacher fetches own student: Teacher\u2019s token fetches a student in their class \u2192 200 with student data. Teacher fetching another teacher or outside student \u2192 403.\n- Student fetches self: Student\u2019s token fetches their own ID \u2192 200. Student fetching another student \u2192 403.\n- Cache hit: Repeat a valid request within TTL returns from Redis quickly. Subsequent request after expiry reloads and refreshes cache.\n\nReferences: Use FastAPI\u2019s JWT and dependency security to extract roles from the token. Enforce access via RBAC (authorization) which differs from authentication. For performance, Redis caching can greatly reduce latency; consider helper libraries for caching. Always use HTTPException for 4xx responses.\n\nQuestion 3: Profile Update with Audit Logging\nContext: Extend Edudibon\u2019s user service with a profile-update endpoint that enforces field-level RBAC and records an audit trail. Only permitted roles can change certain fields.\n\nRequirements:\n - Endpoint: PUT /api/v1/users/{userId}. Request body is the profile fields to update (e.g. fullName, phone, address). Do not include password change here (handled separately). Use JSON Patch or a full object, but clearly document which fields are updatable.\n- Field-Level RBAC:\n - Student: Can update their own contact details (e.g. phone, address). Cannot change their role or other sensitive info.\n- Parent: Can update their own contact info and those of their child(ren). Cannot change roles or student grades.\n- Teacher: Can update contact info of students in their classes (e.g. student\u2019s phone). Cannot update other teachers. Can update their own info.\n- Admin: Can update any user\u2019s profile, including role changes (handled carefully) and status (active/suspended).\nAttempting to modify a forbidden field (e.g. a Student changing their role) should be rejected with 403. If a non-admin tries to change another user\u2019s info, reject.\n- Security: Caller must be authenticated (JWT). Verify JWT and roles. Return 403 if the action is not permitted by RBAC. Validate inputs (e.g. phone matches format).\n- Audit Logging: Very Important: Record an audit log entry for every successful profile change, capturing: event type (e.g. USER_UPDATE), timestamp, userId of the changed record, which fields changed (old vs new), and updatedBy (caller\u2019s ID). This log can be a database table or external audit service. The log must be tamper-resistant (append-only). Use database transactions if needed. For example:\n\n\n{\n  \"event\": \"USER_PROFILE_UPDATE\",\n  \"timestamp\": \"2025-09-27T11:45:00Z\",\n  \"userId\": 456,\n  \"updatedBy\": 123,\n  \"changes\": {\n    \"phone\": { \"old\": \"+111111\", \"new\": \"+222222\" },\n    \"address\": { \"old\": \"123 Old St\", \"new\": \"456 New Ave\" }\n  }\n}\n\nLogging sensitive data (like SSNs) should be avoided or redacted].\n- Caching: After update, invalidate any Redis cache for this user so stale data is not served. (E.g. delete user:{userId} key).\n- Input/Output: The request may allow partial updates. Respond with the updated user object (or a subset) on success. Example request body:\n\n\n{\n  \"phone\": \"+14155552671\",\n  \"address\": \"789 Elm Street\"\n}\n\nResponse 200:\n\n\n{\n  \"id\": 456,\n  \"fullName\": \"Alice Student\",\n  \"role\": \"student\",\n  \"phone\": \"+14155552671\",\n  \"address\": \"789 Elm Street\",\n  \"updatedAt\": \"2025-09-27T11:45:00Z\"\n}\n\n- Errors:\n - 400 Bad Request if validation fails.\n- 401 Unauthorized if JWT is missing/invalid.\n- 403 Forbidden if RBAC disallows the update.\n- 404 Not Found if userId does not exist.\n- 500 for other errors.\n\nExample Scenarios:\n - Self-update: A student updates their own phone number \u2192 200 OK, and an audit record noting the change.\n- Teacher updates student: A teacher changes a student\u2019s contact in their class \u2192 200 and audit log. If teacher tries to change someone\u2019s grade (not allowed) \u2192 403.\n- Admin updates role: Admin changes a teacher\u2019s role to departmentHead \u2192 200. Audit log notes change of role.\n- Invalid update: A student attempts to change their own role to teacher \u2192 403 Forbidden.\n\nReferences: All changes should raise FastAPI\u2019s HTTPException for errors. Maintain clear audit trails for compliance. Do not log sensitive fields and flush cache after updating.\n\nQuestion 4: Role Assignment and Permission Management\nContext: Add an endpoint for managing user roles in the ERP. An admin should be able to grant or revoke roles on users. This tests multi-role handling and strict RBAC.\n\nRequirements:\n - Endpoint: PUT /api/v1/users/{userId}/roles. Caller provides a JSON array of roles to assign to the user, replacing existing roles. Example body: [\"teacher\", \"departmentHead\"]. (Alternatively, design separate POST /users/{id}/roles and DELETE /users/{id}/roles/{role}.)\n- RBAC: Only Admin users may call this. If a non-admin calls, respond 403. The admin must not remove their own admin role if it\u2019s the last one (to avoid lock-out). Validate all roles exist in the system.\n- Validation: Reject invalid roles with 400. If userId not found, return 404. Prevent privilege escalation: e.g., a second-party client should not add extra roles beyond scope. (The service trusts only Admin JWTs for this endpoint.)\n- Processing: Update the user\u2019s roles in the database (could be a join table). Remove all old roles and assign new ones atomically. After updating, clear any related cache (e.g. the user\u2019s profile cache) to reflect new permissions.\n- Audit Logging: Record an audit entry for role changes: who changed it and what roles were added/removed. For example:\n\n\n{\n  \"event\": \"USER_ROLE_UPDATE\",\n  \"timestamp\": \"2025-09-27T12:30:00Z\",\n  \"userId\": 789,\n  \"updatedBy\": 1,\n  \"oldRoles\": [\"student\"],\n  \"newRoles\": [\"student\",\"classRep\"]\n}\n\n- Output: On success, return 200 with the updated role list or the full user profile including new roles.\n\nExample Input:\n\n\n{\n  \"roles\": [\"teacher\",\"headOfDept\"]\n}\n\nOutput 200:\n\n\n{\n  \"id\": 456,\n  \"fullName\": \"Bob Teacher\",\n  \"roles\": [\"teacher\",\"headOfDept\"],\n  \"updatedAt\": \"2025-09-27T12:30:00Z\"\n}\n\nErrors:\n - 400 if request body invalid or roles not recognized.\n- 401 if JWT missing/invalid.\n- 403 if caller is not Admin.\n- 404 if user not found.\n\nExample Scenarios:\n - Valid change: Admin token PUTs new roles for a teacher \u2192 roles updated, 200 OK, audit logged.\n- Unauthorized: A Teacher\u2019s token tries to assign roles \u2192 403 Forbidden.\n- Self-downgrade: Admin tries to remove their own admin role while no other admin exists \u2192 400 or 403.\n\nReferences: Ensure admin-level RBAC is enforced. After changes, invalidate cached user data to maintain consistency. Log all role modifications for auditing.\n\n \n\n", "author_fullname": "t2_r0xgf7r56", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "So today I appeared for backend developer intern interview \ud83e\udd21", "link_flair_richtext": [{"e": "text", "t": "Rant/Vent"}], "subreddit_name_prefixed": "r/Btechtards", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": 123, "top_awarded_type": null, "hide_score": false, "name": "t3_1phezau", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.98, "author_flair_background_color": null, "ups": 329, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Rant/Vent", "can_mod_post": false, "score": 329, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/MhQlWdzHuTz0oOhjtdBXLUEivbsO3axcQ0QTDuAnbfM.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "image", "content_categories": null, "is_self": false, "subreddit_type": "public", "created": 1765206996.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "i.redd.it", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am fresher. So today I appeared for backend developer internship interview. And they gave me the following problem Statement. And I need to complete the all questions in 1.30 hr. Without taking any external help. (Google, gpt). I need to write complete code, connect to database, and need to check all the api in Postman.&lt;/p&gt;\n\n&lt;p&gt;Seriously. What the fuck are these questions. Pahle DSA nhi ata tha ab ghis ghis ke vo thoda ane Iga to ye bhosdi companies ko ab pura proejct ready chahiye vo bhi intern se. Ab vo din dur nhi jab ye bhsdi ke company wale bolenge phle Pura project complete kro, deploy kro, agar client ko achha Iga to tumhe select krenge. Aur stipend Kitna 15k. Wo bhi on-site Bengaluru.&lt;/p&gt;\n\n&lt;p&gt;Fuck this man.&lt;/p&gt;\n\n&lt;p&gt;Question 1: Secure Role-Based User Registration\nContext: Edudibon is a school ERP serving multiple roles (Admin, Teacher, Student, Parent). Implement a user registration endpoint in the User Management microservice (FastAPI or Node) that enforces RBAC and security. New users supply email, full name, password, and a role. Only Admin can register Teachers or Parents; Teachers can register Students (for their class); no one can self-assign the Admin role. Store users in a database (e.g. PostgreSQL).&lt;/p&gt;\n\n&lt;p&gt;Requirements:\n - Endpoint: POST /api/v1/users/register. Request body must include:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;email&amp;quot;: &amp;quot;string, unique, e.g. &lt;a href=\"mailto:user@school.edu\"&gt;user@school.edu&lt;/a&gt;&amp;quot;,\n  &amp;quot;fullName&amp;quot;: &amp;quot;string&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;string&amp;quot;,\n  &amp;quot;role&amp;quot;: &amp;quot;admin|teacher|student|parent&amp;quot;,\n  &amp;quot;classId&amp;quot;: &amp;quot;integer (required if role=student)&amp;quot;\n}&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Validation: Verify email is well-formed and not already used; password meets complexity; role is valid. If a Teacher registers a Student, ensure classId is one of their classes. Reject invalid requests with HTTP 400. If the current user\u2019s JWT (from Authorization: Bearer &amp;lt;token&amp;gt;) is missing or the user is not allowed to create the requested role, respond with 401 or 403.&lt;/li&gt;\n&lt;li&gt;Security: Hash the password (e.g. bcrypt) before saving. Issue a JWT token for the new user (or respond with user info plus token) so they can authenticate immediately. Include user roles in the JWT claims. Store only the hash in DB. Use HTTPS and set JWT expiry (e.g. 1h).&lt;/li&gt;\n&lt;li&gt;RBAC Enforcement: Decode the caller\u2019s JWT to get their role. Enforce that only Admin can create Teachers/Parents; Teachers can only create Students and only in their own class; Students/Parents cannot register others or elevate themselves. For example, if a Teacher tries to set &amp;quot;role&amp;quot;:&amp;quot;teacher&amp;quot;, respond 403.\u202fAuthorization checks (RBAC) should decide access before mutating data.&lt;/li&gt;\n&lt;li&gt;Performance: (Optional) If you use Redis caching (for example, to cache class rosters), ensure any relevant cache keys are invalidated on new user creation. Redis is recommended for low-latency access in FastAPI.&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Logging &amp;amp; Audit: Log the registration event (e.g. USER_REGISTER) with timestamp, creator ID, and new user ID. Do not log sensitive data (no plaintext passwords). Optionally write an audit entry (in a separate log or DB) recording the change for compliance.&lt;/p&gt;\n\n&lt;p&gt;Input (JSON):&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;{\n  &amp;quot;email&amp;quot;: &amp;quot;&lt;a href=\"mailto:alice.teacher@edudibon.com\"&gt;alice.teacher@edudibon.com&lt;/a&gt;&amp;quot;,\n  &amp;quot;fullName&amp;quot;: &amp;quot;Alice Teacher&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;Str0ngP@ssw0rd!&amp;quot;,\n  &amp;quot;role&amp;quot;: &amp;quot;teacher&amp;quot;\n}&lt;/p&gt;\n\n&lt;p&gt;Output (201 Created, JSON):&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;id&amp;quot;: 123,\n  &amp;quot;email&amp;quot;: &amp;quot;&lt;a href=\"mailto:alice.teacher@edudibon.com\"&gt;alice.teacher@edudibon.com&lt;/a&gt;&amp;quot;,\n  &amp;quot;fullName&amp;quot;: &amp;quot;Alice Teacher&amp;quot;,\n  &amp;quot;role&amp;quot;: &amp;quot;teacher&amp;quot;,\n  &amp;quot;createdAt&amp;quot;: &amp;quot;2025-09-27T10:00:00Z&amp;quot;,\n  &amp;quot;token&amp;quot;: &amp;quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ...&amp;quot;\n}&lt;/p&gt;\n\n&lt;p&gt;Errors:\n - 400 Bad Request if input is malformed (e.g. missing role, invalid email).\n- 401 Unauthorized if no valid JWT.\n- 403 Forbidden if JWT user lacks permission (e.g. non-admin trying to create teacher).\n- 409 Conflict if email already exists.\n- 500 Internal Server Error on unhandled failures.\nUse FastAPI\u2019s HTTPException (or equivalent) to return these status codes.&lt;/p&gt;\n\n&lt;p&gt;Example Scenarios:\n - Admin creates teacher: An Admin user calls POST /users/register with a unique email and &amp;quot;role&amp;quot;:&amp;quot;teacher&amp;quot;. Expect 201 and a token.\n- Teacher creates student: A Teacher (with valid JWT) posts student data including classId of one of their classes. Expect 201 with the new student\u2019s ID.\n- Duplicate email: Attempt to register an email that already exists \u2192 409 Conflict.\n- Unauthorized role: A Teacher tries to register another Teacher or an Admin \u2192 403 Forbidden.\n- Invalid data: Missing password or invalid role \u2192 400 Bad Request.&lt;/p&gt;\n\n&lt;p&gt;References: User credentials must be securely hashed and JWT-based auth is recommended. Use HTTP 4xx codes for client errors and never log raw passwords. Maintain audit logs of user creation.&lt;/p&gt;\n\n&lt;p&gt;Question 2: Role-Aware User Retrieval with Caching\nContext: Implement a secure profile-fetching endpoint in Edudibon\u2019s User Management service. User profiles include personal details; however, access and visible fields depend on the requester\u2019s role. Integrate RBAC and use Redis caching for performance.&lt;/p&gt;\n\n&lt;p&gt;Requirements:\n - Endpoint: GET /api/v1/users/{userId}. Use path parameter userId. The caller sends a JWT in Authorization.\n- RBAC Rules: Based on the JWT\u2019s sub (requesting user ID) and roles:\n- Admin: Can retrieve any user\u2019s profile fully.\n- Teacher: Can retrieve profiles of students they teach (assume each student record has a classId to check). Teachers cannot retrieve other teachers or admins (respond 403).\n- Student: Can only retrieve their own profile (userId must match JWT sub). Cannot fetch others.\n- Parent: Can retrieve their own profile and optionally their child\u2019s profile (assume parent records link to student IDs).\n- Field Filtering: Sensitive fields (e.g. passwordHash, private emails, SSN if any) must never be returned. Additionally, you may hide certain contact info: for example, a student\u2019s home address should not be visible to other students. Implement output schemas that differ by role.\n- Security: If JWT is missing/invalid \u2192 401. If the user is not allowed to fetch the requested profile \u2192 403. Use JWT claims (including roles) to enforce authorization. Follow least-privilege principle.\n- Caching: This is a read-heavy endpoint. Use Redis (or an in-memory cache) to store recently fetched user profiles and speed up repeated requests. Since Redis is in-memory, it drastically improves API latency. For example, check Redis first; if missed, query the database then cache the result with a short TTL (e.g. 5\u201310 minutes). You can use a caching library (e.g. aiocache or fastapi-cache2) to simplify this. After any profile update (see Q3), ensure the cache is invalidated.\n- Logging: Log access events (user X fetched user Y\u2019s profile). For unauthorized access attempts, log a warning. Do not log the JWT itself or sensitive data. Ensure logs are structured (e.g. JSON) for easier querying.&lt;/p&gt;\n\n&lt;p&gt;Output: On success, return HTTP 200 with JSON of the allowed fields. Example for an Admin viewing a Teacher:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;id&amp;quot;: 456,\n  &amp;quot;email&amp;quot;: &amp;quot;&lt;a href=\"mailto:bob.teacher@edudibon.com\"&gt;bob.teacher@edudibon.com&lt;/a&gt;&amp;quot;,\n  &amp;quot;fullName&amp;quot;: &amp;quot;Bob Teacher&amp;quot;,\n  &amp;quot;role&amp;quot;: &amp;quot;teacher&amp;quot;,\n  &amp;quot;phone&amp;quot;: &amp;quot;+123456789&amp;quot;,\n  &amp;quot;department&amp;quot;: &amp;quot;Mathematics&amp;quot;,\n  &amp;quot;createdAt&amp;quot;: &amp;quot;2024-06-15T14:30:00Z&amp;quot;\n}&lt;/p&gt;\n\n&lt;p&gt;A Teacher viewing their student might see:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;id&amp;quot;: 789,\n  &amp;quot;fullName&amp;quot;: &amp;quot;Charlie Student&amp;quot;,\n  &amp;quot;role&amp;quot;: &amp;quot;student&amp;quot;,\n  &amp;quot;classId&amp;quot;: 12,\n  &amp;quot;gpa&amp;quot;: 3.8,\n  &amp;quot;enrollmentYear&amp;quot;: 2023\n}&lt;/p&gt;\n\n&lt;p&gt;Notice that only permitted fields appear (e.g. no home address if not allowed).&lt;/p&gt;\n\n&lt;p&gt;Errors:\n - 401 Unauthorized if JWT is absent/invalid.\n- 403 Forbidden if role disallows access to that userId.\n- 404 Not Found if userId does not exist.\n- 500 on server errors.&lt;/p&gt;\n\n&lt;p&gt;Example Scenarios:\n - Admin fetches any: Admin\u2019s token fetches student or teacher ID \u2192 200 with full profile.\n- Teacher fetches own student: Teacher\u2019s token fetches a student in their class \u2192 200 with student data. Teacher fetching another teacher or outside student \u2192 403.\n- Student fetches self: Student\u2019s token fetches their own ID \u2192 200. Student fetching another student \u2192 403.\n- Cache hit: Repeat a valid request within TTL returns from Redis quickly. Subsequent request after expiry reloads and refreshes cache.&lt;/p&gt;\n\n&lt;p&gt;References: Use FastAPI\u2019s JWT and dependency security to extract roles from the token. Enforce access via RBAC (authorization) which differs from authentication. For performance, Redis caching can greatly reduce latency; consider helper libraries for caching. Always use HTTPException for 4xx responses.&lt;/p&gt;\n\n&lt;p&gt;Question 3: Profile Update with Audit Logging\nContext: Extend Edudibon\u2019s user service with a profile-update endpoint that enforces field-level RBAC and records an audit trail. Only permitted roles can change certain fields.&lt;/p&gt;\n\n&lt;p&gt;Requirements:\n - Endpoint: PUT /api/v1/users/{userId}. Request body is the profile fields to update (e.g. fullName, phone, address). Do not include password change here (handled separately). Use JSON Patch or a full object, but clearly document which fields are updatable.\n- Field-Level RBAC:\n - Student: Can update their own contact details (e.g. phone, address). Cannot change their role or other sensitive info.\n- Parent: Can update their own contact info and those of their child(ren). Cannot change roles or student grades.\n- Teacher: Can update contact info of students in their classes (e.g. student\u2019s phone). Cannot update other teachers. Can update their own info.\n- Admin: Can update any user\u2019s profile, including role changes (handled carefully) and status (active/suspended).\nAttempting to modify a forbidden field (e.g. a Student changing their role) should be rejected with 403. If a non-admin tries to change another user\u2019s info, reject.\n- Security: Caller must be authenticated (JWT). Verify JWT and roles. Return 403 if the action is not permitted by RBAC. Validate inputs (e.g. phone matches format).\n- Audit Logging: Very Important: Record an audit log entry for every successful profile change, capturing: event type (e.g. USER_UPDATE), timestamp, userId of the changed record, which fields changed (old vs new), and updatedBy (caller\u2019s ID). This log can be a database table or external audit service. The log must be tamper-resistant (append-only). Use database transactions if needed. For example:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;event&amp;quot;: &amp;quot;USER_PROFILE_UPDATE&amp;quot;,\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-09-27T11:45:00Z&amp;quot;,\n  &amp;quot;userId&amp;quot;: 456,\n  &amp;quot;updatedBy&amp;quot;: 123,\n  &amp;quot;changes&amp;quot;: {\n    &amp;quot;phone&amp;quot;: { &amp;quot;old&amp;quot;: &amp;quot;+111111&amp;quot;, &amp;quot;new&amp;quot;: &amp;quot;+222222&amp;quot; },\n    &amp;quot;address&amp;quot;: { &amp;quot;old&amp;quot;: &amp;quot;123 Old St&amp;quot;, &amp;quot;new&amp;quot;: &amp;quot;456 New Ave&amp;quot; }\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;Logging sensitive data (like SSNs) should be avoided or redacted].\n- Caching: After update, invalidate any Redis cache for this user so stale data is not served. (E.g. delete user:{userId} key).\n- Input/Output: The request may allow partial updates. Respond with the updated user object (or a subset) on success. Example request body:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;phone&amp;quot;: &amp;quot;+14155552671&amp;quot;,\n  &amp;quot;address&amp;quot;: &amp;quot;789 Elm Street&amp;quot;\n}&lt;/p&gt;\n\n&lt;p&gt;Response 200:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;id&amp;quot;: 456,\n  &amp;quot;fullName&amp;quot;: &amp;quot;Alice Student&amp;quot;,\n  &amp;quot;role&amp;quot;: &amp;quot;student&amp;quot;,\n  &amp;quot;phone&amp;quot;: &amp;quot;+14155552671&amp;quot;,\n  &amp;quot;address&amp;quot;: &amp;quot;789 Elm Street&amp;quot;,\n  &amp;quot;updatedAt&amp;quot;: &amp;quot;2025-09-27T11:45:00Z&amp;quot;\n}&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Errors:\n\n&lt;ul&gt;\n&lt;li&gt;400 Bad Request if validation fails.&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;li&gt;401 Unauthorized if JWT is missing/invalid.&lt;/li&gt;\n&lt;li&gt;403 Forbidden if RBAC disallows the update.&lt;/li&gt;\n&lt;li&gt;404 Not Found if userId does not exist.&lt;/li&gt;\n&lt;li&gt;500 for other errors.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Example Scenarios:\n - Self-update: A student updates their own phone number \u2192 200 OK, and an audit record noting the change.\n- Teacher updates student: A teacher changes a student\u2019s contact in their class \u2192 200 and audit log. If teacher tries to change someone\u2019s grade (not allowed) \u2192 403.\n- Admin updates role: Admin changes a teacher\u2019s role to departmentHead \u2192 200. Audit log notes change of role.\n- Invalid update: A student attempts to change their own role to teacher \u2192 403 Forbidden.&lt;/p&gt;\n\n&lt;p&gt;References: All changes should raise FastAPI\u2019s HTTPException for errors. Maintain clear audit trails for compliance. Do not log sensitive fields and flush cache after updating.&lt;/p&gt;\n\n&lt;p&gt;Question 4: Role Assignment and Permission Management\nContext: Add an endpoint for managing user roles in the ERP. An admin should be able to grant or revoke roles on users. This tests multi-role handling and strict RBAC.&lt;/p&gt;\n\n&lt;p&gt;Requirements:\n - Endpoint: PUT /api/v1/users/{userId}/roles. Caller provides a JSON array of roles to assign to the user, replacing existing roles. Example body: [&amp;quot;teacher&amp;quot;, &amp;quot;departmentHead&amp;quot;]. (Alternatively, design separate POST /users/{id}/roles and DELETE /users/{id}/roles/{role}.)\n- RBAC: Only Admin users may call this. If a non-admin calls, respond 403. The admin must not remove their own admin role if it\u2019s the last one (to avoid lock-out). Validate all roles exist in the system.\n- Validation: Reject invalid roles with 400. If userId not found, return 404. Prevent privilege escalation: e.g., a second-party client should not add extra roles beyond scope. (The service trusts only Admin JWTs for this endpoint.)\n- Processing: Update the user\u2019s roles in the database (could be a join table). Remove all old roles and assign new ones atomically. After updating, clear any related cache (e.g. the user\u2019s profile cache) to reflect new permissions.\n- Audit Logging: Record an audit entry for role changes: who changed it and what roles were added/removed. For example:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;event&amp;quot;: &amp;quot;USER_ROLE_UPDATE&amp;quot;,\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-09-27T12:30:00Z&amp;quot;,\n  &amp;quot;userId&amp;quot;: 789,\n  &amp;quot;updatedBy&amp;quot;: 1,\n  &amp;quot;oldRoles&amp;quot;: [&amp;quot;student&amp;quot;],\n  &amp;quot;newRoles&amp;quot;: [&amp;quot;student&amp;quot;,&amp;quot;classRep&amp;quot;]\n}&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Output: On success, return 200 with the updated role list or the full user profile including new roles.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Example Input:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;roles&amp;quot;: [&amp;quot;teacher&amp;quot;,&amp;quot;headOfDept&amp;quot;]\n}&lt;/p&gt;\n\n&lt;p&gt;Output 200:&lt;/p&gt;\n\n&lt;p&gt;{\n  &amp;quot;id&amp;quot;: 456,\n  &amp;quot;fullName&amp;quot;: &amp;quot;Bob Teacher&amp;quot;,\n  &amp;quot;roles&amp;quot;: [&amp;quot;teacher&amp;quot;,&amp;quot;headOfDept&amp;quot;],\n  &amp;quot;updatedAt&amp;quot;: &amp;quot;2025-09-27T12:30:00Z&amp;quot;\n}&lt;/p&gt;\n\n&lt;p&gt;Errors:\n - 400 if request body invalid or roles not recognized.\n- 401 if JWT missing/invalid.\n- 403 if caller is not Admin.\n- 404 if user not found.&lt;/p&gt;\n\n&lt;p&gt;Example Scenarios:\n - Valid change: Admin token PUTs new roles for a teacher \u2192 roles updated, 200 OK, audit logged.\n- Unauthorized: A Teacher\u2019s token tries to assign roles \u2192 403 Forbidden.\n- Self-downgrade: Admin tries to remove their own admin role while no other admin exists \u2192 400 or 403.&lt;/p&gt;\n\n&lt;p&gt;References: Ensure admin-level RBAC is enforced. After changes, invalidate cached user data to maintain consistency. Log all role modifications for auditing.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://i.redd.it/lqdevjwnyz5g1.jpeg", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://preview.redd.it/lqdevjwnyz5g1.jpeg?auto=webp&amp;s=56e96c424291788d16cfa204905bb8172f4d68f2", "width": 216, "height": 190}, "resolutions": [{"url": "https://preview.redd.it/lqdevjwnyz5g1.jpeg?width=108&amp;crop=smart&amp;auto=webp&amp;s=5c2cadb9fc9f738c330485703d59c71531cba9b1", "width": 108, "height": 95}, {"url": "https://preview.redd.it/lqdevjwnyz5g1.jpeg?width=216&amp;crop=smart&amp;auto=webp&amp;s=b264c2de415b68582bd210c29a70314a4a14a619", "width": 216, "height": 190}], "variants": {}, "id": "emjQpSV1bwQ0NeIl0Bd0jGHptqCPWNpL0qRPo8DQ37k"}], "enabled": true}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "422e08ea-4200-11ef-ba39-deba5bad6ab8", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "mod_note": null, "distinguished": null, "subreddit_id": "t5_56z50y", "author_is_blocked": false, "mod_reason_by": null, "num_reports": null, "removal_reason": null, "link_flair_background_color": "#bf4044", "id": "1phezau", "is_robot_indexable": true, "report_reasons": null, "author": "winmid20", "discussion_type": null, "num_comments": 88, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/Btechtards/comments/1phezau/so_today_i_appeared_for_backend_developer_intern/", "stickied": false, "url": "https://i.redd.it/lqdevjwnyz5g1.jpeg", "subreddit_subscribers": 373576, "created_utc": 1765206996.0, "num_crossposts": 0, "media": null, "is_video": false}}], "before": null}}}