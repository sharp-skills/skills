{"d": {"kind": "Listing", "data": {"modhash": "", "dist": 5, "facets": {}, "after": "t3_1kw8dfl", "geo_filter": "", "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ClaudeAI", "selftext": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=8f32bc241d525a08fad2da9be99bc3bc704e77b5\n\n# V4: The January 2026 Revolution\n\n# [View Web Version](https://thedecipherist.com/articles/claude-code-guide-v4/?utm_source=reddit&amp;utm_medium=post&amp;utm_campaign=claude_code_v4&amp;utm_content=r_claudeai)\n\n# Previous guides: [V1](https://www.reddit.com/r/TheDecipherist/comments/1qbkmx6/the_complete_guide_to_claude_code_global_claudemd/) | [V2](https://www.reddit.com/r/ClaudeAI/comments/1qcwckg/the_complete_guide_to_claude_code_v2_claudemd_mcp/) | [V3](https://www.reddit.com/r/ClaudeAI/comments/1qe239d/the_complete_guide_to_claude_code_v3_lsp_claudemd/)\n\nBecause of the overwhelming support on V1-V3, I'm back with V4. Huge thanks to everyone who contributed to the previous guides: u/BlueVajra, u/stratofax, u/antoniocs, u/GeckoLogic, u/headset38, u/tulensrma, u/jcheroske, and the rest of the community. Your feedback made each version better.\n\nClaude Code 2.1.x shipped 1,096+ commits in January alone. This isn't an incremental update - it's a fundamental shift in how Claude Code manages context, delegates work, and scales.\n\n**What's new in V4:**\n\n* **Part 9: MCP Tool Search** \\- 85% context reduction with lazy loading\n* **Part 10: Custom Agents** \\- Automatic delegation to specialists\n* **Part 11: Session Teleportation** \\- Move sessions between devices\n* **Part 12: Background Tasks** \\- Parallel agent execution\n* **Part 13: New Commands &amp; Shortcuts** \\- `/config` search, `/stats` filtering, custom keybindings\n* Updated GitHub repo with V4 templates coming soon\n\n**TL;DR:** MCP Tool Search reduces context overhead by 85% (77K -&gt; 8.7K tokens) by lazy-loading tools on-demand. Custom Agents let you create specialists that Claude invokes automatically - each with isolated context windows. Session Teleportation lets you move work between terminal and claude.ai/code seamlessly. Background Tasks enable parallel agent execution with Ctrl+B. And the new Setup hook automates repository initialization.\n\n# Table of Contents\n\n# Foundation (From V1-V3)\n\n* [Part 1: The Global CLAUDE.md as Security Gatekeeper](#part-1-the-global-claudemd-as-security-gatekeeper)\n* [Part 2: Global Rules for New Project Scaffolding](#part-2-global-rules-for-new-project-scaffolding)\n* [Part 3: MCP Servers - Claude's Integrations](#part-3-mcp-servers--claudes-integrations)\n* [Part 4: Commands - Personal Shortcuts](#part-4-commands--personal-shortcuts)\n* [Part 5: Skills - Reusable Expertise](#part-5-skills--reusable-expertise)\n* [Part 6: Why Single-Purpose Chats Are Critical](#part-6-why-single-purpose-chats-are-critical)\n* [Part 7: Hooks - Deterministic Enforcement](#part-7-hooks--deterministic-enforcement)\n* [Part 8: LSP - IDE-Level Code Intelligence](#part-8-lsp--ide-level-code-intelligence)\n\n# New in V4\n\n* [Part 9: MCP Tool Search - The 85% Context Revolution](#part-9-mcp-tool-search--the-85-context-revolution)\n* [Part 10: Custom Agents - Automatic Delegation](#part-10-custom-agents--automatic-delegation)\n* [Part 11: Session Teleportation](#part-11-session-teleportation)\n* [Part 12: Background Tasks &amp; Parallel Execution](#part-12-background-tasks--parallel-execution)\n* [Part 13: New Commands, Shortcuts &amp; Quality of Life](#part-13-new-commands-shortcuts--quality-of-life)\n\n# Reference\n\n* [Quick Reference](#quick-reference)\n* [GitHub Repo](#github-repo)\n* [Sources](#sources)\n\n# Part 1: The Global [CLAUDE.md](http://CLAUDE.md) as Security Gatekeeper\n\n# The Memory Hierarchy\n\nClaude Code loads CLAUDE.md files in a specific order:\n\n|Level|Location|Purpose|\n|:-|:-|:-|\n|**Enterprise**|`/etc/claude-code/CLAUDE.md`|Org-wide policies|\n|**Global User**|`~/.claude/CLAUDE.md`|Your standards for ALL projects|\n|**Project**|`./CLAUDE.md`|Team-shared project instructions|\n|**Project Local**|`./CLAUDE.local.md`|Personal project overrides|\n\nYour global file applies to **every single project** you work on.\n\n# What Belongs in Global\n\n**1. Identity &amp; Authentication**\n\n    ## GitHub Account\n    **ALWAYS** use **YourUsername** for all projects:\n    - SSH: `git@github.com:YourUsername/&lt;repo&gt;.git`\n    \n    ## Docker Hub\n    Already authenticated. Username in `~/.env` as `DOCKER_HUB_USER`\n\n**Why global?** You use the same accounts everywhere. Define once, inherit everywhere.\n\n**2. The Gatekeeper Rules**\n\n    ## NEVER EVER DO\n    \n    These rules are ABSOLUTE:\n    \n    ### NEVER Publish Sensitive Data\n    - NEVER publish passwords, API keys, tokens to git/npm/docker\n    - Before ANY commit: verify no secrets included\n    \n    ### NEVER Commit .env Files\n    - NEVER commit `.env` to git\n    - ALWAYS verify `.env` is in `.gitignore`\n\n# Why This Matters: Claude Reads Your .env\n\n[Security researchers discovered](https://www.knostic.ai/blog/claude-loads-secrets-without-permission) that Claude Code **automatically reads** `.env` **files** without explicit permission. [Backslash Security warns](https://www.backslash.security/blog/claude-code-security-best-practices):\n\n&gt;\"If not restricted, Claude can read `.env`, AWS credentials, or `secrets.json` and leak them through 'helpful suggestions.'\"\n\nYour global CLAUDE.md creates a **behavioral gatekeeper** \\- even if Claude has access, it won't output secrets.\n\n# Syncing Global [CLAUDE.md](http://CLAUDE.md) Across Machines\n\nIf you work on multiple computers, sync your `~/.claude/` directory using a dotfiles manager:\n\n    # Using GNU Stow\n    cd ~/dotfiles\n    stow claude  # Symlinks ~/.claude to dotfiles/claude/.claude\n\nThis gives you:\n\n* Version control on your settings\n* Consistent configuration everywhere\n* Easy recovery if something breaks\n\n# Defense in Depth\n\n|Layer|What|How|\n|:-|:-|:-|\n|1|Behavioral rules|Global CLAUDE.md \"NEVER\" rules|\n|2|Access control|Deny list in settings.json|\n|3|Git safety|.gitignore|\n\n# Team Workflows: Evolving [CLAUDE.md](http://CLAUDE.md)\n\n[Boris Cherny shares how Anthropic's Claude Code team does it](https://x.com/bcherny/status/2007179832300581177):\n\n&gt;\"Our team shares a single CLAUDE.md for the Claude Code repo. We check it into git, and the whole team contributes multiple times a week.\"\n\n**The pattern:** Mistakes become documentation.\n\n    Claude makes mistake -&gt; You fix it -&gt; You add rule to CLAUDE.md -&gt; Never happens again\n\n# Part 2: Global Rules for New Project Scaffolding\n\nYour global CLAUDE.md becomes a **project factory**. Every new project automatically inherits your standards.\n\n# The Problem Without Scaffolding Rules\n\n[Research from project scaffolding experts](https://github.com/madison-hutson/claude-project-scaffolding):\n\n&gt;\"LLM-assisted development fails by silently expanding scope, degrading quality, and losing architectural intent.\"\n\n# The Solution\n\n    ## New Project Setup\n    \n    When creating ANY new project:\n    \n    ### Required Files\n    - `.env` - Environment variables (NEVER commit)\n    - `.env.example` - Template with placeholders\n    - `.gitignore` - Must include: .env, node_modules/, dist/\n    - `CLAUDE.md` - Project overview\n    \n    ### Required Structure\n    project/\n    \u251c\u2500\u2500 src/\n    \u251c\u2500\u2500 tests/\n    \u251c\u2500\u2500 docs/\n    \u251c\u2500\u2500 .claude/\n    \u2502   \u251c\u2500\u2500 skills/\n    \u2502   \u251c\u2500\u2500 agents/\n    \u2502   \u2514\u2500\u2500 commands/\n    \u2514\u2500\u2500 scripts/\n    \n    ### Node.js Requirements\n    Add to entry point:\n    process.on('unhandledRejection', (reason, promise) =&gt; {\n      console.error('Unhandled Rejection:', reason);\n      process.exit(1);\n    });\n\nWhen you say \"create a new Node.js project,\" Claude reads this and **automatically** creates the correct structure.\n\n# Part 3: MCP Servers - Claude's Integrations\n\n[MCP (Model Context Protocol)](https://www.anthropic.com/news/model-context-protocol) lets Claude interact with external tools.\n\n# Adding MCP Servers\n\n    claude mcp add &lt;server-name&gt; -- &lt;command&gt;\n    claude mcp list\n    claude mcp remove &lt;server-name&gt;\n\n# When NOT to Use MCP\n\nMCP servers consume tokens and context. For simple integrations, consider alternatives:\n\n|Use Case|MCP Overhead|Alternative|\n|:-|:-|:-|\n|Trello tasks|High|CLI tool (`trello-cli`)|\n|Simple HTTP calls|Overkill|`curl` via Bash|\n|One-off queries|Wasteful|Direct command|\n\n**Rule of thumb:** If you're calling an MCP tool once per session, a CLI is more efficient. MCP shines for *repeated* tool use within conversations.\n\n**UPDATE V4:** With MCP Tool Search (Part 9), this tradeoff changes significantly. You can now have many more MCP servers without paying the upfront context cost.\n\n# Recommended MCP Servers for Developers\n\n# Core Development\n\n|Server|Purpose|Install|\n|:-|:-|:-|\n|**Context7**|Live docs for any library|`claude mcp add context7 -- npx -y @upstash/context7-mcp@latest`|\n|**GitHub**|PRs, issues, CI/CD|`claude mcp add github -- npx -y @modelcontextprotocol/server-github`|\n|**Filesystem**|Advanced file operations|`claude mcp add filesystem -- npx -y @modelcontextprotocol/server-filesystem`|\n|**Sequential Thinking**|Structured problem-solving|`claude mcp add sequential-thinking -- npx -y @modelcontextprotocol/server-sequential-thinking`|\n\n# Databases\n\n|Server|Purpose|Install|\n|:-|:-|:-|\n|**MongoDB**|Atlas/Community, Performance Advisor|`claude mcp add mongodb -- npx -y mongodb-mcp-server`|\n|**PostgreSQL**|Query Postgres naturally|`claude mcp add postgres -- npx -y @modelcontextprotocol/server-postgres`|\n|**DBHub**|Universal (MySQL, SQLite, etc.)|`claude mcp add db -- npx -y @bytebase/dbhub`|\n\n# Documents &amp; RAG\n\n|Server|Purpose|Install|\n|:-|:-|:-|\n|**Docling**|PDF/DOCX parsing, 97.9% table accuracy|`claude mcp add docling -- uvx docling-mcp-server`|\n|**Qdrant**|Vector search, semantic memory|`claude mcp add qdrant -- npx -y @qdrant/mcp-server`|\n|**Chroma**|Embeddings, vector DB|`claude mcp add chroma -- npx -y @chroma/mcp-server`|\n\n# Browser &amp; Testing\n\n|Server|Purpose|Install|\n|:-|:-|:-|\n|**Playwright**|E2E testing, scraping|`claude mcp add playwright -- npx -y @anthropic-ai/playwright-mcp`|\n|**Browser MCP**|Use your logged-in Chrome|[browsermcp.io](https://browsermcp.io)|\n\n# Cloud &amp; DevOps\n\n|Server|Purpose|Install|\n|:-|:-|:-|\n|**AWS**|S3, Lambda, CloudWatch|`claude mcp add aws -- npx -y @anthropic-ai/aws-mcp`|\n|**Docker**|Container management|`claude mcp add docker -- npx -y @anthropic-ai/docker-mcp`|\n|**Kubernetes**|Cluster operations|`claude mcp add k8s -- npx -y @anthropic-ai/kubernetes-mcp`|\n\n# Part 4: Commands - Personal Shortcuts\n\nCommands are personal macros that expand into prompts. Store them in:\n\n* `~/.claude/commands/` \\- Available everywhere\n* `.claude/commands/` \\- Project-specific\n\n# Basic Command\n\nCreate `~/.claude/commands/review.md`:\n\n    ---\n    description: Review code for issues\n    ---\n    \n    Review this code for:\n    1. Security vulnerabilities\n    2. Performance issues\n    3. Error handling gaps\n    4. Code style violations\n\n**Usage:** Type `/review` in any session.\n\n# Command with Arguments\n\nCreate `~/.claude/commands/ticket.md`:\n\n    ---\n    description: Create a ticket from description\n    argument-hint: &lt;ticket-description&gt;\n    ---\n    \n    Create a detailed ticket for: $ARGUMENTS\n    \n    Include:\n    - User story\n    - Acceptance criteria\n    - Technical notes\n\n**Usage:** `/ticket Add dark mode support`\n\n# Advanced: Commands with Bash Execution\n\n    ---\n    description: Smart commit with context\n    allowed-tools: Bash(git add:*), Bash(git status:*), Bash(git commit:*)\n    argument-hint: [message]\n    ---\n    \n    ## Context\n    - Current git status: !`git status`\n    - Current git diff: !`git diff HEAD`\n    - Current branch: !`git branch --show-current`\n    - Recent commits: !`git log --oneline -5`\n    \n    ## Task\n    Create a commit with message: $ARGUMENTS\n\nThe `!` backtick syntax runs bash commands before the prompt is processed.\n\n# Part 5: Skills - Reusable Expertise\n\nSkills are **triggered expertise** that load only when needed. Unlike CLAUDE.md (always loaded), skills use progressive disclosure to save context.\n\n# Creating a Skill\n\nCreate `.claude/skills/code-review/SKILL.md`:\n\n    ---\n    name: Code Review\n    description: Comprehensive code review with security focus\n    triggers:\n      - review\n      - audit\n      - check code\n    ---\n    \n    # Code Review Skill\n    \n    When reviewing code:\n    1. Check for security vulnerabilities (OWASP Top 10)\n    2. Look for performance issues (N+1 queries, memory leaks)\n    3. Verify error handling (edge cases, null checks)\n    4. Assess test coverage\n    5. Review naming and documentation\n\n# Progressive Disclosure\n\nSkills use **progressive disclosure** for token efficiency:\n\n1. **Startup**: Only name/description loaded (\\~50 tokens)\n2. **Triggered**: Full SKILL.md content loaded\n3. **As needed**: Additional resources loaded\n\n**Rule of thumb:** If instructions apply to &lt;20% of conversations, make it a skill instead of putting it in CLAUDE.md.\n\n# V4 Update: Automatic Skill Discovery\n\nClaude Code now automatically discovers skills from nested `.claude/skills` directories when working with files in subdirectories. No need to reference the root - skills are found recursively.\n\n# Part 6: Why Single-Purpose Chats Are Critical\n\n**Research consistently shows mixing topics destroys accuracy.**\n\n[Studies on multi-turn conversations](https://arxiv.org/pdf/2505.06120):\n\n&gt;\"An average **39% performance drop** when instructions are delivered across multiple turns.\"\n\n[Chroma Research on context rot](https://research.trychroma.com/context-rot):\n\n&gt;\"As tokens in the context window increase, the model's ability to accurately recall information decreases.\"\n\n# The Golden Rule\n\n&gt;**\"One Task, One Chat\"**\n\n|Scenario|Action|\n|:-|:-|\n|New feature|New chat|\n|Bug fix (unrelated)|`/clear` then new task|\n|Research vs implementation|Separate chats|\n|20+ turns elapsed|Start fresh|\n\n# Use /clear Liberally\n\n    /clear\n\n[Anthropic recommends](https://www.anthropic.com/engineering/claude-code-best-practices):\n\n&gt;\"Use `/clear` frequently between tasks to reset the context window.\"\n\n# V4 Update: Context Window Visibility\n\nYou can now see exactly where your context is going:\n\n    /context\n\nNew status line fields:\n\n* `context_window.used_percentage`\n* `context_window.remaining_percentage`\n\n# Part 7: Hooks - Deterministic Enforcement\n\nCLAUDE.md rules are **suggestions** Claude can ignore under context pressure. Hooks are **deterministic** \\- they always run.\n\n# The Critical Difference\n\n|Mechanism|Type|Reliability|\n|:-|:-|:-|\n|CLAUDE.md rules|Suggestion|Can be overridden|\n|**Hooks**|**Enforcement**|Always executes|\n\n# Hook Events\n\n|Event|When|Use Case|\n|:-|:-|:-|\n|`PreToolUse`|Before tool executes|Block dangerous ops|\n|`PostToolUse`|After tool completes|Run linters|\n|`Stop`|Claude finishes turn|Quality gates|\n|`Setup`|**On init/maintenance**|**Repo initialization (V4)**|\n\n# Example: Block Secrets Access\n\nAdd to `~/.claude/settings.json`:\n\n    {\n      \"hooks\": {\n        \"PreToolUse\": [\n          {\n            \"matcher\": \"Read|Edit|Write\",\n            \"hooks\": [{\n              \"type\": \"command\",\n              \"command\": \"python3 ~/.claude/hooks/block-secrets.py\"\n            }]\n          }\n        ]\n      }\n    }\n\nThe hook script:\n\n    #!/usr/bin/env python3\n    import json, sys\n    from pathlib import Path\n    \n    SENSITIVE = {'.env', '.env.local', 'secrets.json', 'id_rsa'}\n    \n    data = json.load(sys.stdin)\n    file_path = data.get('tool_input', {}).get('file_path', '')\n    \n    if Path(file_path).name in SENSITIVE:\n        print(f\"BLOCKED: Access to {file_path} denied.\", file=sys.stderr)\n        sys.exit(2)  # Exit 2 = block and feed stderr to Claude\n    \n    sys.exit(0)\n\n# Hook Exit Codes\n\n|Code|Meaning|\n|:-|:-|\n|0|Allow operation|\n|1|Error (shown to user)|\n|**2**|**Block operation, tell Claude why**|\n\n# V4: Setup Hook Event\n\nNew in January 2026 - trigger hooks during repository setup:\n\n    claude --init          # Triggers Setup hook\n    claude --init-only     # Triggers Setup hook, then exits\n    claude --maintenance   # Triggers Setup hook for maintenance\n\nExample Setup hook for auto-installing dependencies:\n\n    {\n      \"hooks\": {\n        \"Setup\": [{\n          \"type\": \"command\",\n          \"command\": \"npm install &amp;&amp; npm run prepare\"\n        }]\n      }\n    }\n\n# Part 8: LSP - IDE-Level Code Intelligence\n\n**In December 2025** (v2.0.74), Claude Code gained native Language Server Protocol support.\n\n# What LSP Enables\n\nLSP gives Claude the same code understanding your IDE has:\n\n|Capability|What It Does|\n|:-|:-|\n|**Go to Definition**|Jump to where any symbol is defined|\n|**Find References**|See everywhere a function is used|\n|**Hover**|Get type signatures and docs|\n|**Diagnostics**|Real-time error detection|\n|**Document Symbols**|List all symbols in a file|\n\n# Why This Matters\n\nBefore LSP, Claude used **text-based search** (grep, ripgrep) to understand code. Slow and imprecise.\n\nWith LSP, Claude has **semantic understanding** \\- it knows that `getUserById` in file A calls the function defined in file B, not just that the text matches.\n\n**Performance:** 900x faster (50ms vs 45 seconds for cross-codebase navigation)\n\n# Supported Languages\n\nPython, TypeScript, Go, Rust, Java, C/C++, C#, PHP, Kotlin, Ruby, HTML/CSS\n\n# Setup\n\nLSP is built-in as of v2.0.74. For older versions:\n\n    export ENABLE_LSP_TOOL=1\n\n# Part 9: MCP Tool Search - The 85% Context Revolution\n\n**This is the biggest change in V4.**\n\n# The Problem\n\nEvery MCP server you connect brings tool definitions - descriptions, parameters, schemas. Before Tool Search, Claude loaded **all of them** at startup:\n\n    Before:\n    Loading 73 MCP tools... [39.8k tokens]\n    Loading 56 agents... [9.7k tokens]\n    Loading system tools... [22.6k tokens]\n    Ready with 92k tokens remaining.  \u2190\u0090 54% context GONE before you type anything\n\nUsers reported 50-70% of their 200K context consumed before writing a single prompt.\n\n# The Solution: Lazy Loading\n\n[Claude Code 2.1.7](https://venturebeat.com/orchestration/claude-code-just-got-updated-with-one-of-the-most-requested-user-features) introduced MCP Tool Search:\n\n    After:\n    Loading tool registry... [5k tokens]\n    Ready with 195k tokens available.  \u2190\u0090 95% context preserved\n    \n    User: \"I need to query the database\"\n    &gt; Auto-loading: postgres-mcp [+1.2k tokens]\n    &gt; 193.8k tokens remaining\n\n# How It Works\n\n1. **Detection**: Claude Code checks if MCP tool descriptions would use &gt;10% of context\n2. **Registry Creation**: Builds lightweight index of tool names and descriptions\n3. **On-Demand Loading**: Tools load only when Claude determines they're needed\n4. **Intelligent Caching**: Loaded tools stay available for session duration\n\n# The Numbers\n\n|Metric|Before|After|Improvement|\n|:-|:-|:-|:-|\n|Initial context usage|\\~77K tokens|\\~8.7K tokens|**85% reduction**|\n|Opus 4 accuracy|49%|74%|\\+25 percentage points|\n|Opus 4.5 accuracy|79.5%|88.1%|\\+8.6 percentage points|\n\n# Configuration\n\nMCP Tool Search is **enabled by default** when tools would consume &gt;10% of context.\n\nTo check your context usage:\n\n    /context\n\nTo disable for specific servers (if you always need certain tools immediately):\n\n    {\n      \"mcpServers\": {\n        \"always-needed\": {\n          \"command\": \"...\",\n          \"enable_tool_search\": false\n        }\n      }\n    }\n\nTo configure the auto-enable threshold:\n\n    {\n      \"mcp\": {\n        \"tool_search\": \"auto:15\"  // Enable at 15% context usage\n      }\n    }\n\n# What This Means for You\n\n* **More MCP servers**: Connect dozens without penalty\n* **Better accuracy**: Less noise = better tool selection\n* **Larger tasks**: More context for actual work\n* **No workflow changes**: Tools work exactly as before\n\nSimon Willison [commented](https://x.com/simonw/status/1879234567890123456):\n\n&gt;\"This fixes one of the most painful scaling issues with MCP setups. Was running 5 servers and watching context evaporate before any actual work began.\"\n\n# Part 10: Custom Agents - Automatic Delegation\n\nCustom Agents are specialized assistants that Claude invokes **automatically** \\- like how it automatically selects tools.\n\n# Why Custom Agents?\n\n|Problem|Solution|\n|:-|:-|\n|Context pollution from diverse tasks|Each agent has isolated context window|\n|Generic advice for specialized work|Agents have focused system prompts|\n|Manual orchestration overhead|Automatic delegation based on task|\n\n# Creating a Custom Agent\n\n**Method 1: Interactive (Recommended)**\n\n    /agents\n\nSelect \"Create new agent\" -&gt; Choose location (User or Project) -&gt; Generate with Claude or Manual.\n\n**Method 2: Manual**\n\nCreate `~/.claude/agents/code-reviewer.md`:\n\n    ---\n    name: code-reviewer\n    description: Reviews code for security, performance, and best practices\n    tools: Read, Grep, Glob\n    model: sonnet\n    ---\n    \n    You are a senior code reviewer specializing in:\n    - Security vulnerabilities (OWASP Top 10)\n    - Performance antipatterns\n    - Error handling gaps\n    - Code maintainability\n    \n    When reviewing:\n    1. Start with security concerns\n    2. Then performance issues\n    3. Then style/maintainability\n    4. Provide specific line references\n    5. Suggest concrete fixes\n    \n    Be critical but constructive. Explain WHY something is a problem.\n\n# Agent Configuration Options\n\n    ---\n    name: agent-name              # Required\n    description: When to use      # Required - Claude uses this to decide delegation\n    tools: Read, Write, Bash      # Optional - inherits all if omitted\n    model: sonnet                 # Optional - sonnet, opus, or haiku\n    ---\n\n# How Automatic Delegation Works\n\nClaude delegates based on:\n\n1. Task description in your request\n2. `description` field in agent configurations\n3. Current context\n4. Available tools\n\n**Example:**\n\n    You: \"Review the authentication module for security issues\"\n    \n    Claude thinks: \"This is a code review task focusing on security\"\n    -&gt; Delegates to code-reviewer agent\n    -&gt; Agent runs with isolated context\n    -&gt; Returns findings to main conversation\n\n# Built-in Agents\n\nClaude Code includes these by default:\n\n|Agent|Purpose|When Used|\n|:-|:-|:-|\n|**Explore**|Read-only codebase analysis|Searching, understanding code|\n|**Plan**|Research for planning|Plan mode context gathering|\n|**General-purpose**|Complex multi-step tasks|Exploration + modification needed|\n\n# Best Practices\n\n1. **Keep agents focused**: One specialty per agent\n2. **Write clear descriptions**: Claude uses these to decide delegation\n3. **Limit tools**: Read-only agents shouldn't have Write access\n4. **Test delegation**: Verify Claude routes tasks correctly\n5. **Start with 3-4 agents max**: Too many options can confuse routing\n\n# Hot Reload\n\nNew or updated agents in `~/.claude/agents/` or `.claude/agents/` are available **immediately** \\- no restart needed.\n\n# Part 11: Session Teleportation\n\nMove your work between terminal and claude.ai/code seamlessly.\n\n# Teleport to Web\n\n    /teleport\n\nOpens your current session at `claude.ai/code`. Perfect for:\n\n* Switching from terminal to visual interface\n* Sharing session with collaborators\n* Continuing on a different device\n\n# Configure Remote Environment\n\n    /remote-env\n\nSet up environment variables and configuration for remote sessions.\n\n# Resume Sessions\n\n    # Continue most recent session\n    claude --continue\n    # or\n    claude -c\n    \n    # Resume specific session by ID\n    claude --resume abc123\n    # or\n    claude -r abc123\n    \n    # Resume with a new prompt\n    claude --resume abc123 \"Continue with the tests\"\n\n# VSCode: Remote Session Browsing\n\nOAuth users can now browse and resume remote Claude sessions directly from the Sessions dialog in the VSCode extension.\n\n# Part 12: Background Tasks &amp; Parallel Execution\n\n# Backgrounding Tasks\n\nPress **Ctrl+B** to background:\n\n* Currently running agents\n* Shell commands\n* Both simultaneously (unified behavior in V4)\n\n# Managing Background Tasks\n\n    /tasks\n\nShows all background tasks with:\n\n* Status indicators\n* Inline display of agent's final response\n* Clickable links to full transcripts\n\n# Task Notifications\n\nWhen background tasks complete:\n\n* Notifications capped at 3 lines\n* Overflow summary for multiple simultaneous completions\n* Final response visible without reading full transcript\n\n# Disabling Background Tasks\n\nIf you prefer the old behavior:\n\n    export CLAUDE_CODE_DISABLE_BACKGROUND_TASKS=true\n\nOr in settings.json:\n\n    {\n      \"enableBackgroundTasks\": false\n    }\n\n# Part 13: New Commands, Shortcuts &amp; Quality of Life\n\n# New Commands\n\n|Command|What It Does|\n|:-|:-|\n|`/config`|Now has **search functionality** \\- type to filter settings|\n|`/stats`|Press **r** to cycle: Last 7 days, Last 30 days, All time|\n|`/doctor`|Now shows **auto-update channel** and available npm versions|\n|`/keybindings`|Configure custom keyboard shortcuts|\n|`/context`|See exactly where your tokens are going|\n\n# Custom Keyboard Shortcuts\n\nCreate `~/.claude/keybindings.json`:\n\n    {\n      \"ctrl+shift+r\": \"/review\",\n      \"ctrl+shift+d\": \"/deploy\",\n      \"ctrl+shift+t\": \"/test\",\n      \"ctrl+shift+c\": \"/commit\"\n    }\n\nRun `/keybindings` to get started.\n\n# Essential Shortcuts Reference\n\n|Shortcut|Action|\n|:-|:-|\n|**Ctrl+C**|Cancel current operation|\n|**Ctrl+D**|Exit Claude Code|\n|**Ctrl+B**|Background current task|\n|**Shift+Tab**|In plan mode: auto-accept edits|\n|**Esc Esc**|Rewind to previous state (double-tap)|\n|**Tab**|Autocomplete commands, files, agents|\n|**Shift+Enter**|Insert newline without submitting|\n|**Up/Down**|Navigate command history|\n|**Ctrl+R**|Reverse search history|\n\n# Plan Mode Improvements\n\nWhen Claude presents a plan:\n\n* **Shift+Tab**: Quickly select \"auto-accept edits\"\n* **Reject with feedback**: Tell Claude what to change before rerunning\n\n# PR Review Indicator\n\nThe prompt footer now shows your branch's PR state:\n\n* Colored dot (approved, changes requested, pending, draft)\n* Clickable link to the PR\n\n# Language Setting\n\nConfigure output language for global teams:\n\n    {\n      \"language\": \"ja\"  // Japanese output\n    }\n\nOr in CLAUDE.md:\n\n    ## Language\n    Always respond in Spanish.\n\n# External [CLAUDE.md](http://CLAUDE.md) Imports\n\nLoad CLAUDE.md from additional directories:\n\n    export CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD=1\n    claude --add-dir ../shared-configs ../team-standards\n\n# VSCode Improvements\n\n* **Clickable destination selector** for permission requests\n* Choose where settings are saved: this project, all projects, shared with team, or session only\n* **Secondary sidebar support** (VS Code 1.97+) - Claude Code in right sidebar, file explorer on left\n* **Streaming message support** \\- see responses in real-time as Claude works\n\n# Environment Variables Reference\n\n|Variable|Purpose|\n|:-|:-|\n|`CLAUDE_CODE_DISABLE_BACKGROUND_TASKS`|Disable background task functionality|\n|`CLAUDE_CODE_TMPDIR`|Override temp directory location|\n|`CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD`|Enable `--add-dir` CLAUDE.md loading|\n|`FORCE_AUTOUPDATE_PLUGINS`|Allow plugin autoupdate when main auto-updater disabled|\n|`IS_DEMO`|Hide email and organization from UI (for streaming)|\n\n# Quick Reference\n\n|Tool|Purpose|Location|\n|:-|:-|:-|\n|Global CLAUDE.md|Security + Scaffolding|`~/.claude/CLAUDE.md`|\n|Project CLAUDE.md|Architecture + Team rules|`./CLAUDE.md`|\n|MCP Servers|External integrations|`claude mcp add`|\n|**MCP Tool Search**|**Lazy loading (85% savings)**|**Automatic when &gt;10% context**|\n|Skills|Reusable expertise|`.claude/skills/*/SKILL.md`|\n|**Custom Agents**|**Automatic delegation**|`~/.claude/agents/*.md`|\n|Commands|Personal shortcuts|`~/.claude/commands/*.md`|\n|Hooks|Deterministic enforcement|`~/.claude/settings.json`|\n|LSP|Semantic code intelligence|Built-in (v2.0.74+)|\n|**Keybindings**|**Custom shortcuts**|`~/.claude/keybindings.json`|\n|`/clear`|Reset context|Type in chat|\n|`/context`|View token usage|Type in chat|\n|`/teleport`|Move to claude.ai/code|Type in chat|\n|`/tasks`|Manage background tasks|Type in chat|\n\n# GitHub Repo\n\nAll templates, hooks, skills, and agents:\n\n[**github.com/TheDecipherist/claude-code-mastery**](https://github.com/TheDecipherist/claude-code-mastery)\n\n* CLAUDE.md templates (global + project)\n* Ready-to-use hooks (block-secrets.py, setup hooks)\n* Example skills\n* **Custom agent templates (V4)**\n* **Keybindings examples (V4)**\n* settings.json pre-configured\n\n# Sources\n\n# Anthropic Official\n\n* [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices) \\- Anthropic\n* [Effective Context Engineering](https://www.anthropic.com/engineering/effective-context-engineering-for-ai-agents) \\- Anthropic\n* [Model Context Protocol](https://www.anthropic.com/news/model-context-protocol) \\- Anthropic\n* [Agent Skills](https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills) \\- Anthropic\n* [Building Agents with Claude Agent SDK](https://www.anthropic.com/engineering/building-agents-with-the-claude-agent-sdk) \\- Anthropic\n* [Custom Subagents Documentation](https://code.claude.com/docs/en/sub-agents) \\- Claude Code Docs\n\n# V4 Feature Coverage\n\n* [Claude Code 2.1.0 Update](https://venturebeat.com/orchestration/claude-code-2-1-0-arrives-with-smoother-workflows-and-smarter-agents) \\- VentureBeat\n* [MCP Tool Search Announcement](https://venturebeat.com/orchestration/claude-code-just-got-updated-with-one-of-the-most-requested-user-features) \\- VentureBeat\n* [MCP Tool Search Explained](https://jpcaparas.medium.com/claude-code-finally-gets-lazy-loading-for-mcp-tools-explained-39b613d1d5cc) \\- JP Caparas\n* [Claude Code 2.1 Features](https://mlearning.substack.com/p/claude-code-21-new-features-january-2026) \\- Datasculptor\n* [Claude Code Changelog](https://claudelog.com/claude-code-changelog/) \\- ClaudeLog\n\n# Research &amp; Analysis\n\n* [Context Rot Research](https://research.trychroma.com/context-rot) \\- Chroma\n* [LLMs Get Lost In Multi-Turn](https://arxiv.org/pdf/2505.06120) \\- arXiv\n* [Claude loads secrets without permission](https://www.knostic.ai/blog/claude-loads-secrets-without-permission) \\- Knostic\n* [Compound Engineering](https://every.to/chain-of-thought/compound-engineering-how-every-codes-with-agents) \\- Every\n\n# Community Resources\n\n* [Awesome Claude Code Subagents](https://github.com/VoltAgent/awesome-claude-code-subagents) \\- GitHub\n* [Claude Code Cheatsheet](https://awesomeclaude.ai/code-cheatsheet) \\- AwesomeClaude\n* [How I Use Every Claude Code Feature](https://blog.sshh.io/p/how-i-use-every-claude-code-feature) \\- Shrivu Shankar\n\n*What's in your setup? Drop your agents, hooks, and keybindings below.*", "author_fullname": "t2_249or74w8f", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "The Complete Guide to Claude Code V4 \u2014 The Community Asked, We Delivered: 85% Context Reduction, Custom Agents &amp; Session Teleportation", "link_flair_richtext": [{"e": "text", "t": "Built with Claude"}], "subreddit_name_prefixed": "r/ClaudeAI", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": 43, "top_awarded_type": null, "hide_score": false, "media_metadata": {"h0m40cj0wegg1": {"status": "valid", "e": "Image", "m": "image/jpg", "p": [{"y": 33, "x": 108, "u": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=6710b1ebc04ecaf4cac55ccbde1cb6ff730c4d4d"}, {"y": 67, "x": 216, "u": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=c523a0619e3a146003ec5bdc4e618fa2bac27495"}, {"y": 100, "x": 320, "u": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=720d5b6a6de2ac715569e74ac5efac50af35b7bf"}, {"y": 200, "x": 640, "u": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=b2f6e2a3a06e60166d47c5a42797d21a3b817182"}, {"y": 300, "x": 960, "u": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=da42b0aef681bb4452b6fbb02d5e227396a8d2c4"}, {"y": 337, "x": 1080, "u": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=ed6403c3637407c35e23ae6d9412c89bde7978e6"}], "s": {"y": 600, "x": 1920, "u": "https://preview.redd.it/h0m40cj0wegg1.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=8f32bc241d525a08fad2da9be99bc3bc704e77b5"}, "id": "h0m40cj0wegg1"}}, "name": "t3_1qquxle", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 654, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Built with Claude", "can_mod_post": false, "score": 654, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": true, "thumbnail": "https://b.thumbs.redditmedia.com/-7bhuAqfq6qt5vvOwMQoPcBv73R4UzU5OrKxSQ3jlyM.jpg", "edited": 1769747358.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1769745598.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ClaudeAI", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://preview.redd.it/h0m40cj0wegg1.jpg?width=1920&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=8f32bc241d525a08fad2da9be99bc3bc704e77b5\"&gt;https://preview.redd.it/h0m40cj0wegg1.jpg?width=1920&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=8f32bc241d525a08fad2da9be99bc3bc704e77b5&lt;/a&gt;&lt;/p&gt;\n\n&lt;h1&gt;V4: The January 2026 Revolution&lt;/h1&gt;\n\n&lt;h1&gt;&lt;a href=\"https://thedecipherist.com/articles/claude-code-guide-v4/?utm_source=reddit&amp;amp;utm_medium=post&amp;amp;utm_campaign=claude_code_v4&amp;amp;utm_content=r_claudeai\"&gt;View Web Version&lt;/a&gt;&lt;/h1&gt;\n\n&lt;h1&gt;Previous guides: &lt;a href=\"https://www.reddit.com/r/TheDecipherist/comments/1qbkmx6/the_complete_guide_to_claude_code_global_claudemd/\"&gt;V1&lt;/a&gt; | &lt;a href=\"https://www.reddit.com/r/ClaudeAI/comments/1qcwckg/the_complete_guide_to_claude_code_v2_claudemd_mcp/\"&gt;V2&lt;/a&gt; | &lt;a href=\"https://www.reddit.com/r/ClaudeAI/comments/1qe239d/the_complete_guide_to_claude_code_v3_lsp_claudemd/\"&gt;V3&lt;/a&gt;&lt;/h1&gt;\n\n&lt;p&gt;Because of the overwhelming support on V1-V3, I&amp;#39;m back with V4. Huge thanks to everyone who contributed to the previous guides: &lt;a href=\"/u/BlueVajra\"&gt;u/BlueVajra&lt;/a&gt;, &lt;a href=\"/u/stratofax\"&gt;u/stratofax&lt;/a&gt;, &lt;a href=\"/u/antoniocs\"&gt;u/antoniocs&lt;/a&gt;, &lt;a href=\"/u/GeckoLogic\"&gt;u/GeckoLogic&lt;/a&gt;, &lt;a href=\"/u/headset38\"&gt;u/headset38&lt;/a&gt;, &lt;a href=\"/u/tulensrma\"&gt;u/tulensrma&lt;/a&gt;, &lt;a href=\"/u/jcheroske\"&gt;u/jcheroske&lt;/a&gt;, and the rest of the community. Your feedback made each version better.&lt;/p&gt;\n\n&lt;p&gt;Claude Code 2.1.x shipped 1,096+ commits in January alone. This isn&amp;#39;t an incremental update - it&amp;#39;s a fundamental shift in how Claude Code manages context, delegates work, and scales.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;What&amp;#39;s new in V4:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Part 9: MCP Tool Search&lt;/strong&gt; - 85% context reduction with lazy loading&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Part 10: Custom Agents&lt;/strong&gt; - Automatic delegation to specialists&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Part 11: Session Teleportation&lt;/strong&gt; - Move sessions between devices&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Part 12: Background Tasks&lt;/strong&gt; - Parallel agent execution&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Part 13: New Commands &amp;amp; Shortcuts&lt;/strong&gt; - &lt;code&gt;/config&lt;/code&gt; search, &lt;code&gt;/stats&lt;/code&gt; filtering, custom keybindings&lt;/li&gt;\n&lt;li&gt;Updated GitHub repo with V4 templates coming soon&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; MCP Tool Search reduces context overhead by 85% (77K -&amp;gt; 8.7K tokens) by lazy-loading tools on-demand. Custom Agents let you create specialists that Claude invokes automatically - each with isolated context windows. Session Teleportation lets you move work between terminal and claude.ai/code seamlessly. Background Tasks enable parallel agent execution with Ctrl+B. And the new Setup hook automates repository initialization.&lt;/p&gt;\n\n&lt;h1&gt;Table of Contents&lt;/h1&gt;\n\n&lt;h1&gt;Foundation (From V1-V3)&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"#part-1-the-global-claudemd-as-security-gatekeeper\"&gt;Part 1: The Global CLAUDE.md as Security Gatekeeper&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-2-global-rules-for-new-project-scaffolding\"&gt;Part 2: Global Rules for New Project Scaffolding&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-3-mcp-servers--claudes-integrations\"&gt;Part 3: MCP Servers - Claude&amp;#39;s Integrations&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-4-commands--personal-shortcuts\"&gt;Part 4: Commands - Personal Shortcuts&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-5-skills--reusable-expertise\"&gt;Part 5: Skills - Reusable Expertise&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-6-why-single-purpose-chats-are-critical\"&gt;Part 6: Why Single-Purpose Chats Are Critical&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-7-hooks--deterministic-enforcement\"&gt;Part 7: Hooks - Deterministic Enforcement&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-8-lsp--ide-level-code-intelligence\"&gt;Part 8: LSP - IDE-Level Code Intelligence&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;New in V4&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"#part-9-mcp-tool-search--the-85-context-revolution\"&gt;Part 9: MCP Tool Search - The 85% Context Revolution&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-10-custom-agents--automatic-delegation\"&gt;Part 10: Custom Agents - Automatic Delegation&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-11-session-teleportation\"&gt;Part 11: Session Teleportation&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-12-background-tasks--parallel-execution\"&gt;Part 12: Background Tasks &amp;amp; Parallel Execution&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#part-13-new-commands-shortcuts--quality-of-life\"&gt;Part 13: New Commands, Shortcuts &amp;amp; Quality of Life&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Reference&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"#quick-reference\"&gt;Quick Reference&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#github-repo\"&gt;GitHub Repo&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#sources\"&gt;Sources&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Part 1: The Global &lt;a href=\"http://CLAUDE.md\"&gt;CLAUDE.md&lt;/a&gt; as Security Gatekeeper&lt;/h1&gt;\n\n&lt;h1&gt;The Memory Hierarchy&lt;/h1&gt;\n\n&lt;p&gt;Claude Code loads CLAUDE.md files in a specific order:&lt;/p&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Level&lt;/th&gt;\n&lt;th align=\"left\"&gt;Location&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Enterprise&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/etc/claude-code/CLAUDE.md&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Org-wide policies&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Global User&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;~/.claude/CLAUDE.md&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Your standards for ALL projects&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Project&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;./CLAUDE.md&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Team-shared project instructions&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Project Local&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;./CLAUDE.local.md&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Personal project overrides&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;p&gt;Your global file applies to &lt;strong&gt;every single project&lt;/strong&gt; you work on.&lt;/p&gt;\n\n&lt;h1&gt;What Belongs in Global&lt;/h1&gt;\n\n&lt;p&gt;&lt;strong&gt;1. Identity &amp;amp; Authentication&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;## GitHub Account\n**ALWAYS** use **YourUsername** for all projects:\n- SSH: `git@github.com:YourUsername/&amp;lt;repo&amp;gt;.git`\n\n## Docker Hub\nAlready authenticated. Username in `~/.env` as `DOCKER_HUB_USER`\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Why global?&lt;/strong&gt; You use the same accounts everywhere. Define once, inherit everywhere.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;2. The Gatekeeper Rules&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;## NEVER EVER DO\n\nThese rules are ABSOLUTE:\n\n### NEVER Publish Sensitive Data\n- NEVER publish passwords, API keys, tokens to git/npm/docker\n- Before ANY commit: verify no secrets included\n\n### NEVER Commit .env Files\n- NEVER commit `.env` to git\n- ALWAYS verify `.env` is in `.gitignore`\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Why This Matters: Claude Reads Your .env&lt;/h1&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.knostic.ai/blog/claude-loads-secrets-without-permission\"&gt;Security researchers discovered&lt;/a&gt; that Claude Code &lt;strong&gt;automatically reads&lt;/strong&gt; &lt;code&gt;.env&lt;/code&gt; &lt;strong&gt;files&lt;/strong&gt; without explicit permission. &lt;a href=\"https://www.backslash.security/blog/claude-code-security-best-practices\"&gt;Backslash Security warns&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&amp;quot;If not restricted, Claude can read &lt;code&gt;.env&lt;/code&gt;, AWS credentials, or &lt;code&gt;secrets.json&lt;/code&gt; and leak them through &amp;#39;helpful suggestions.&amp;#39;&amp;quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Your global CLAUDE.md creates a &lt;strong&gt;behavioral gatekeeper&lt;/strong&gt; - even if Claude has access, it won&amp;#39;t output secrets.&lt;/p&gt;\n\n&lt;h1&gt;Syncing Global &lt;a href=\"http://CLAUDE.md\"&gt;CLAUDE.md&lt;/a&gt; Across Machines&lt;/h1&gt;\n\n&lt;p&gt;If you work on multiple computers, sync your &lt;code&gt;~/.claude/&lt;/code&gt; directory using a dotfiles manager:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# Using GNU Stow\ncd ~/dotfiles\nstow claude  # Symlinks ~/.claude to dotfiles/claude/.claude\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This gives you:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Version control on your settings&lt;/li&gt;\n&lt;li&gt;Consistent configuration everywhere&lt;/li&gt;\n&lt;li&gt;Easy recovery if something breaks&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Defense in Depth&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Layer&lt;/th&gt;\n&lt;th align=\"left\"&gt;What&lt;/th&gt;\n&lt;th align=\"left\"&gt;How&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;1&lt;/td&gt;\n&lt;td align=\"left\"&gt;Behavioral rules&lt;/td&gt;\n&lt;td align=\"left\"&gt;Global CLAUDE.md &amp;quot;NEVER&amp;quot; rules&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;2&lt;/td&gt;\n&lt;td align=\"left\"&gt;Access control&lt;/td&gt;\n&lt;td align=\"left\"&gt;Deny list in settings.json&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;3&lt;/td&gt;\n&lt;td align=\"left\"&gt;Git safety&lt;/td&gt;\n&lt;td align=\"left\"&gt;.gitignore&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Team Workflows: Evolving &lt;a href=\"http://CLAUDE.md\"&gt;CLAUDE.md&lt;/a&gt;&lt;/h1&gt;\n\n&lt;p&gt;&lt;a href=\"https://x.com/bcherny/status/2007179832300581177\"&gt;Boris Cherny shares how Anthropic&amp;#39;s Claude Code team does it&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&amp;quot;Our team shares a single CLAUDE.md for the Claude Code repo. We check it into git, and the whole team contributes multiple times a week.&amp;quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;strong&gt;The pattern:&lt;/strong&gt; Mistakes become documentation.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;Claude makes mistake -&amp;gt; You fix it -&amp;gt; You add rule to CLAUDE.md -&amp;gt; Never happens again\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Part 2: Global Rules for New Project Scaffolding&lt;/h1&gt;\n\n&lt;p&gt;Your global CLAUDE.md becomes a &lt;strong&gt;project factory&lt;/strong&gt;. Every new project automatically inherits your standards.&lt;/p&gt;\n\n&lt;h1&gt;The Problem Without Scaffolding Rules&lt;/h1&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/madison-hutson/claude-project-scaffolding\"&gt;Research from project scaffolding experts&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&amp;quot;LLM-assisted development fails by silently expanding scope, degrading quality, and losing architectural intent.&amp;quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h1&gt;The Solution&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;## New Project Setup\n\nWhen creating ANY new project:\n\n### Required Files\n- `.env` - Environment variables (NEVER commit)\n- `.env.example` - Template with placeholders\n- `.gitignore` - Must include: .env, node_modules/, dist/\n- `CLAUDE.md` - Project overview\n\n### Required Structure\nproject/\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 tests/\n\u251c\u2500\u2500 docs/\n\u251c\u2500\u2500 .claude/\n\u2502   \u251c\u2500\u2500 skills/\n\u2502   \u251c\u2500\u2500 agents/\n\u2502   \u2514\u2500\u2500 commands/\n\u2514\u2500\u2500 scripts/\n\n### Node.js Requirements\nAdd to entry point:\nprocess.on(&amp;#39;unhandledRejection&amp;#39;, (reason, promise) =&amp;gt; {\n  console.error(&amp;#39;Unhandled Rejection:&amp;#39;, reason);\n  process.exit(1);\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When you say &amp;quot;create a new Node.js project,&amp;quot; Claude reads this and &lt;strong&gt;automatically&lt;/strong&gt; creates the correct structure.&lt;/p&gt;\n\n&lt;h1&gt;Part 3: MCP Servers - Claude&amp;#39;s Integrations&lt;/h1&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.anthropic.com/news/model-context-protocol\"&gt;MCP (Model Context Protocol)&lt;/a&gt; lets Claude interact with external tools.&lt;/p&gt;\n\n&lt;h1&gt;Adding MCP Servers&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;claude mcp add &amp;lt;server-name&amp;gt; -- &amp;lt;command&amp;gt;\nclaude mcp list\nclaude mcp remove &amp;lt;server-name&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;When NOT to Use MCP&lt;/h1&gt;\n\n&lt;p&gt;MCP servers consume tokens and context. For simple integrations, consider alternatives:&lt;/p&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Use Case&lt;/th&gt;\n&lt;th align=\"left\"&gt;MCP Overhead&lt;/th&gt;\n&lt;th align=\"left\"&gt;Alternative&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Trello tasks&lt;/td&gt;\n&lt;td align=\"left\"&gt;High&lt;/td&gt;\n&lt;td align=\"left\"&gt;CLI tool (&lt;code&gt;trello-cli&lt;/code&gt;)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Simple HTTP calls&lt;/td&gt;\n&lt;td align=\"left\"&gt;Overkill&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;curl&lt;/code&gt; via Bash&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;One-off queries&lt;/td&gt;\n&lt;td align=\"left\"&gt;Wasteful&lt;/td&gt;\n&lt;td align=\"left\"&gt;Direct command&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;p&gt;&lt;strong&gt;Rule of thumb:&lt;/strong&gt; If you&amp;#39;re calling an MCP tool once per session, a CLI is more efficient. MCP shines for &lt;em&gt;repeated&lt;/em&gt; tool use within conversations.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;UPDATE V4:&lt;/strong&gt; With MCP Tool Search (Part 9), this tradeoff changes significantly. You can now have many more MCP servers without paying the upfront context cost.&lt;/p&gt;\n\n&lt;h1&gt;Recommended MCP Servers for Developers&lt;/h1&gt;\n\n&lt;h1&gt;Core Development&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Server&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;th align=\"left\"&gt;Install&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Context7&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Live docs for any library&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add context7 -- npx -y @upstash/context7-mcp@latest&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;GitHub&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;PRs, issues, CI/CD&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add github -- npx -y @modelcontextprotocol/server-github&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Filesystem&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Advanced file operations&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add filesystem -- npx -y @modelcontextprotocol/server-filesystem&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Sequential Thinking&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Structured problem-solving&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add sequential-thinking -- npx -y @modelcontextprotocol/server-sequential-thinking&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Databases&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Server&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;th align=\"left\"&gt;Install&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;MongoDB&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Atlas/Community, Performance Advisor&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add mongodb -- npx -y mongodb-mcp-server&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;PostgreSQL&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Query Postgres naturally&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add postgres -- npx -y @modelcontextprotocol/server-postgres&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;DBHub&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Universal (MySQL, SQLite, etc.)&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add db -- npx -y @bytebase/dbhub&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Documents &amp;amp; RAG&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Server&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;th align=\"left\"&gt;Install&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Docling&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;PDF/DOCX parsing, 97.9% table accuracy&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add docling -- uvx docling-mcp-server&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Qdrant&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Vector search, semantic memory&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add qdrant -- npx -y @qdrant/mcp-server&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Chroma&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Embeddings, vector DB&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add chroma -- npx -y @chroma/mcp-server&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Browser &amp;amp; Testing&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Server&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;th align=\"left\"&gt;Install&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Playwright&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;E2E testing, scraping&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add playwright -- npx -y @anthropic-ai/playwright-mcp&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Browser MCP&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Use your logged-in Chrome&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;a href=\"https://browsermcp.io\"&gt;browsermcp.io&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Cloud &amp;amp; DevOps&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Server&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;th align=\"left\"&gt;Install&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;AWS&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;S3, Lambda, CloudWatch&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add aws -- npx -y @anthropic-ai/aws-mcp&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Docker&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Container management&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add docker -- npx -y @anthropic-ai/docker-mcp&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Kubernetes&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Cluster operations&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add k8s -- npx -y @anthropic-ai/kubernetes-mcp&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Part 4: Commands - Personal Shortcuts&lt;/h1&gt;\n\n&lt;p&gt;Commands are personal macros that expand into prompts. Store them in:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;~/.claude/commands/&lt;/code&gt; - Available everywhere&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;.claude/commands/&lt;/code&gt; - Project-specific&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Basic Command&lt;/h1&gt;\n\n&lt;p&gt;Create &lt;code&gt;~/.claude/commands/review.md&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;---\ndescription: Review code for issues\n---\n\nReview this code for:\n1. Security vulnerabilities\n2. Performance issues\n3. Error handling gaps\n4. Code style violations\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Usage:&lt;/strong&gt; Type &lt;code&gt;/review&lt;/code&gt; in any session.&lt;/p&gt;\n\n&lt;h1&gt;Command with Arguments&lt;/h1&gt;\n\n&lt;p&gt;Create &lt;code&gt;~/.claude/commands/ticket.md&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;---\ndescription: Create a ticket from description\nargument-hint: &amp;lt;ticket-description&amp;gt;\n---\n\nCreate a detailed ticket for: $ARGUMENTS\n\nInclude:\n- User story\n- Acceptance criteria\n- Technical notes\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Usage:&lt;/strong&gt; &lt;code&gt;/ticket Add dark mode support&lt;/code&gt;&lt;/p&gt;\n\n&lt;h1&gt;Advanced: Commands with Bash Execution&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;---\ndescription: Smart commit with context\nallowed-tools: Bash(git add:*), Bash(git status:*), Bash(git commit:*)\nargument-hint: [message]\n---\n\n## Context\n- Current git status: !`git status`\n- Current git diff: !`git diff HEAD`\n- Current branch: !`git branch --show-current`\n- Recent commits: !`git log --oneline -5`\n\n## Task\nCreate a commit with message: $ARGUMENTS\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The &lt;code&gt;!&lt;/code&gt; backtick syntax runs bash commands before the prompt is processed.&lt;/p&gt;\n\n&lt;h1&gt;Part 5: Skills - Reusable Expertise&lt;/h1&gt;\n\n&lt;p&gt;Skills are &lt;strong&gt;triggered expertise&lt;/strong&gt; that load only when needed. Unlike CLAUDE.md (always loaded), skills use progressive disclosure to save context.&lt;/p&gt;\n\n&lt;h1&gt;Creating a Skill&lt;/h1&gt;\n\n&lt;p&gt;Create &lt;code&gt;.claude/skills/code-review/SKILL.md&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;---\nname: Code Review\ndescription: Comprehensive code review with security focus\ntriggers:\n  - review\n  - audit\n  - check code\n---\n\n# Code Review Skill\n\nWhen reviewing code:\n1. Check for security vulnerabilities (OWASP Top 10)\n2. Look for performance issues (N+1 queries, memory leaks)\n3. Verify error handling (edge cases, null checks)\n4. Assess test coverage\n5. Review naming and documentation\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Progressive Disclosure&lt;/h1&gt;\n\n&lt;p&gt;Skills use &lt;strong&gt;progressive disclosure&lt;/strong&gt; for token efficiency:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Startup&lt;/strong&gt;: Only name/description loaded (~50 tokens)&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Triggered&lt;/strong&gt;: Full SKILL.md content loaded&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;As needed&lt;/strong&gt;: Additional resources loaded&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;strong&gt;Rule of thumb:&lt;/strong&gt; If instructions apply to &amp;lt;20% of conversations, make it a skill instead of putting it in CLAUDE.md.&lt;/p&gt;\n\n&lt;h1&gt;V4 Update: Automatic Skill Discovery&lt;/h1&gt;\n\n&lt;p&gt;Claude Code now automatically discovers skills from nested &lt;code&gt;.claude/skills&lt;/code&gt; directories when working with files in subdirectories. No need to reference the root - skills are found recursively.&lt;/p&gt;\n\n&lt;h1&gt;Part 6: Why Single-Purpose Chats Are Critical&lt;/h1&gt;\n\n&lt;p&gt;&lt;strong&gt;Research consistently shows mixing topics destroys accuracy.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://arxiv.org/pdf/2505.06120\"&gt;Studies on multi-turn conversations&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&amp;quot;An average &lt;strong&gt;39% performance drop&lt;/strong&gt; when instructions are delivered across multiple turns.&amp;quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;a href=\"https://research.trychroma.com/context-rot\"&gt;Chroma Research on context rot&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&amp;quot;As tokens in the context window increase, the model&amp;#39;s ability to accurately recall information decreases.&amp;quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h1&gt;The Golden Rule&lt;/h1&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;&amp;quot;One Task, One Chat&amp;quot;&lt;/strong&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Scenario&lt;/th&gt;\n&lt;th align=\"left\"&gt;Action&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;New feature&lt;/td&gt;\n&lt;td align=\"left\"&gt;New chat&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Bug fix (unrelated)&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/clear&lt;/code&gt; then new task&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Research vs implementation&lt;/td&gt;\n&lt;td align=\"left\"&gt;Separate chats&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;20+ turns elapsed&lt;/td&gt;\n&lt;td align=\"left\"&gt;Start fresh&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Use /clear Liberally&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;/clear\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.anthropic.com/engineering/claude-code-best-practices\"&gt;Anthropic recommends&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&amp;quot;Use &lt;code&gt;/clear&lt;/code&gt; frequently between tasks to reset the context window.&amp;quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h1&gt;V4 Update: Context Window Visibility&lt;/h1&gt;\n\n&lt;p&gt;You can now see exactly where your context is going:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;/context\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;New status line fields:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;context_window.used_percentage&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;context_window.remaining_percentage&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Part 7: Hooks - Deterministic Enforcement&lt;/h1&gt;\n\n&lt;p&gt;CLAUDE.md rules are &lt;strong&gt;suggestions&lt;/strong&gt; Claude can ignore under context pressure. Hooks are &lt;strong&gt;deterministic&lt;/strong&gt; - they always run.&lt;/p&gt;\n\n&lt;h1&gt;The Critical Difference&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Mechanism&lt;/th&gt;\n&lt;th align=\"left\"&gt;Type&lt;/th&gt;\n&lt;th align=\"left\"&gt;Reliability&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;CLAUDE.md rules&lt;/td&gt;\n&lt;td align=\"left\"&gt;Suggestion&lt;/td&gt;\n&lt;td align=\"left\"&gt;Can be overridden&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Hooks&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Enforcement&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Always executes&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Hook Events&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Event&lt;/th&gt;\n&lt;th align=\"left\"&gt;When&lt;/th&gt;\n&lt;th align=\"left\"&gt;Use Case&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;PreToolUse&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Before tool executes&lt;/td&gt;\n&lt;td align=\"left\"&gt;Block dangerous ops&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;PostToolUse&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;After tool completes&lt;/td&gt;\n&lt;td align=\"left\"&gt;Run linters&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;Stop&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Claude finishes turn&lt;/td&gt;\n&lt;td align=\"left\"&gt;Quality gates&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;Setup&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;On init/maintenance&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Repo initialization (V4)&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Example: Block Secrets Access&lt;/h1&gt;\n\n&lt;p&gt;Add to &lt;code&gt;~/.claude/settings.json&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;hooks&amp;quot;: {\n    &amp;quot;PreToolUse&amp;quot;: [\n      {\n        &amp;quot;matcher&amp;quot;: &amp;quot;Read|Edit|Write&amp;quot;,\n        &amp;quot;hooks&amp;quot;: [{\n          &amp;quot;type&amp;quot;: &amp;quot;command&amp;quot;,\n          &amp;quot;command&amp;quot;: &amp;quot;python3 ~/.claude/hooks/block-secrets.py&amp;quot;\n        }]\n      }\n    ]\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The hook script:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#!/usr/bin/env python3\nimport json, sys\nfrom pathlib import Path\n\nSENSITIVE = {&amp;#39;.env&amp;#39;, &amp;#39;.env.local&amp;#39;, &amp;#39;secrets.json&amp;#39;, &amp;#39;id_rsa&amp;#39;}\n\ndata = json.load(sys.stdin)\nfile_path = data.get(&amp;#39;tool_input&amp;#39;, {}).get(&amp;#39;file_path&amp;#39;, &amp;#39;&amp;#39;)\n\nif Path(file_path).name in SENSITIVE:\n    print(f&amp;quot;BLOCKED: Access to {file_path} denied.&amp;quot;, file=sys.stderr)\n    sys.exit(2)  # Exit 2 = block and feed stderr to Claude\n\nsys.exit(0)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Hook Exit Codes&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Code&lt;/th&gt;\n&lt;th align=\"left\"&gt;Meaning&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;0&lt;/td&gt;\n&lt;td align=\"left\"&gt;Allow operation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;1&lt;/td&gt;\n&lt;td align=\"left\"&gt;Error (shown to user)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;2&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Block operation, tell Claude why&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;V4: Setup Hook Event&lt;/h1&gt;\n\n&lt;p&gt;New in January 2026 - trigger hooks during repository setup:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;claude --init          # Triggers Setup hook\nclaude --init-only     # Triggers Setup hook, then exits\nclaude --maintenance   # Triggers Setup hook for maintenance\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Example Setup hook for auto-installing dependencies:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;hooks&amp;quot;: {\n    &amp;quot;Setup&amp;quot;: [{\n      &amp;quot;type&amp;quot;: &amp;quot;command&amp;quot;,\n      &amp;quot;command&amp;quot;: &amp;quot;npm install &amp;amp;&amp;amp; npm run prepare&amp;quot;\n    }]\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Part 8: LSP - IDE-Level Code Intelligence&lt;/h1&gt;\n\n&lt;p&gt;&lt;strong&gt;In December 2025&lt;/strong&gt; (v2.0.74), Claude Code gained native Language Server Protocol support.&lt;/p&gt;\n\n&lt;h1&gt;What LSP Enables&lt;/h1&gt;\n\n&lt;p&gt;LSP gives Claude the same code understanding your IDE has:&lt;/p&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Capability&lt;/th&gt;\n&lt;th align=\"left\"&gt;What It Does&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Go to Definition&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Jump to where any symbol is defined&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Find References&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;See everywhere a function is used&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Hover&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Get type signatures and docs&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Diagnostics&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Real-time error detection&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Document Symbols&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;List all symbols in a file&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Why This Matters&lt;/h1&gt;\n\n&lt;p&gt;Before LSP, Claude used &lt;strong&gt;text-based search&lt;/strong&gt; (grep, ripgrep) to understand code. Slow and imprecise.&lt;/p&gt;\n\n&lt;p&gt;With LSP, Claude has &lt;strong&gt;semantic understanding&lt;/strong&gt; - it knows that &lt;code&gt;getUserById&lt;/code&gt; in file A calls the function defined in file B, not just that the text matches.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Performance:&lt;/strong&gt; 900x faster (50ms vs 45 seconds for cross-codebase navigation)&lt;/p&gt;\n\n&lt;h1&gt;Supported Languages&lt;/h1&gt;\n\n&lt;p&gt;Python, TypeScript, Go, Rust, Java, C/C++, C#, PHP, Kotlin, Ruby, HTML/CSS&lt;/p&gt;\n\n&lt;h1&gt;Setup&lt;/h1&gt;\n\n&lt;p&gt;LSP is built-in as of v2.0.74. For older versions:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;export ENABLE_LSP_TOOL=1\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Part 9: MCP Tool Search - The 85% Context Revolution&lt;/h1&gt;\n\n&lt;p&gt;&lt;strong&gt;This is the biggest change in V4.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;h1&gt;The Problem&lt;/h1&gt;\n\n&lt;p&gt;Every MCP server you connect brings tool definitions - descriptions, parameters, schemas. Before Tool Search, Claude loaded &lt;strong&gt;all of them&lt;/strong&gt; at startup:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;Before:\nLoading 73 MCP tools... [39.8k tokens]\nLoading 56 agents... [9.7k tokens]\nLoading system tools... [22.6k tokens]\nReady with 92k tokens remaining.  \u2190\u0090 54% context GONE before you type anything\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Users reported 50-70% of their 200K context consumed before writing a single prompt.&lt;/p&gt;\n\n&lt;h1&gt;The Solution: Lazy Loading&lt;/h1&gt;\n\n&lt;p&gt;&lt;a href=\"https://venturebeat.com/orchestration/claude-code-just-got-updated-with-one-of-the-most-requested-user-features\"&gt;Claude Code 2.1.7&lt;/a&gt; introduced MCP Tool Search:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;After:\nLoading tool registry... [5k tokens]\nReady with 195k tokens available.  \u2190\u0090 95% context preserved\n\nUser: &amp;quot;I need to query the database&amp;quot;\n&amp;gt; Auto-loading: postgres-mcp [+1.2k tokens]\n&amp;gt; 193.8k tokens remaining\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;How It Works&lt;/h1&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Detection&lt;/strong&gt;: Claude Code checks if MCP tool descriptions would use &amp;gt;10% of context&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Registry Creation&lt;/strong&gt;: Builds lightweight index of tool names and descriptions&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;On-Demand Loading&lt;/strong&gt;: Tools load only when Claude determines they&amp;#39;re needed&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Intelligent Caching&lt;/strong&gt;: Loaded tools stay available for session duration&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h1&gt;The Numbers&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Metric&lt;/th&gt;\n&lt;th align=\"left\"&gt;Before&lt;/th&gt;\n&lt;th align=\"left\"&gt;After&lt;/th&gt;\n&lt;th align=\"left\"&gt;Improvement&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Initial context usage&lt;/td&gt;\n&lt;td align=\"left\"&gt;~77K tokens&lt;/td&gt;\n&lt;td align=\"left\"&gt;~8.7K tokens&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;85% reduction&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Opus 4 accuracy&lt;/td&gt;\n&lt;td align=\"left\"&gt;49%&lt;/td&gt;\n&lt;td align=\"left\"&gt;74%&lt;/td&gt;\n&lt;td align=\"left\"&gt;+25 percentage points&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Opus 4.5 accuracy&lt;/td&gt;\n&lt;td align=\"left\"&gt;79.5%&lt;/td&gt;\n&lt;td align=\"left\"&gt;88.1%&lt;/td&gt;\n&lt;td align=\"left\"&gt;+8.6 percentage points&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Configuration&lt;/h1&gt;\n\n&lt;p&gt;MCP Tool Search is &lt;strong&gt;enabled by default&lt;/strong&gt; when tools would consume &amp;gt;10% of context.&lt;/p&gt;\n\n&lt;p&gt;To check your context usage:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;/context\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To disable for specific servers (if you always need certain tools immediately):&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;mcpServers&amp;quot;: {\n    &amp;quot;always-needed&amp;quot;: {\n      &amp;quot;command&amp;quot;: &amp;quot;...&amp;quot;,\n      &amp;quot;enable_tool_search&amp;quot;: false\n    }\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To configure the auto-enable threshold:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;mcp&amp;quot;: {\n    &amp;quot;tool_search&amp;quot;: &amp;quot;auto:15&amp;quot;  // Enable at 15% context usage\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;What This Means for You&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;More MCP servers&lt;/strong&gt;: Connect dozens without penalty&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Better accuracy&lt;/strong&gt;: Less noise = better tool selection&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Larger tasks&lt;/strong&gt;: More context for actual work&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;No workflow changes&lt;/strong&gt;: Tools work exactly as before&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Simon Willison &lt;a href=\"https://x.com/simonw/status/1879234567890123456\"&gt;commented&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&amp;quot;This fixes one of the most painful scaling issues with MCP setups. Was running 5 servers and watching context evaporate before any actual work began.&amp;quot;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h1&gt;Part 10: Custom Agents - Automatic Delegation&lt;/h1&gt;\n\n&lt;p&gt;Custom Agents are specialized assistants that Claude invokes &lt;strong&gt;automatically&lt;/strong&gt; - like how it automatically selects tools.&lt;/p&gt;\n\n&lt;h1&gt;Why Custom Agents?&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Problem&lt;/th&gt;\n&lt;th align=\"left\"&gt;Solution&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Context pollution from diverse tasks&lt;/td&gt;\n&lt;td align=\"left\"&gt;Each agent has isolated context window&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Generic advice for specialized work&lt;/td&gt;\n&lt;td align=\"left\"&gt;Agents have focused system prompts&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Manual orchestration overhead&lt;/td&gt;\n&lt;td align=\"left\"&gt;Automatic delegation based on task&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Creating a Custom Agent&lt;/h1&gt;\n\n&lt;p&gt;&lt;strong&gt;Method 1: Interactive (Recommended)&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;/agents\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Select &amp;quot;Create new agent&amp;quot; -&amp;gt; Choose location (User or Project) -&amp;gt; Generate with Claude or Manual.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Method 2: Manual&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Create &lt;code&gt;~/.claude/agents/code-reviewer.md&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;---\nname: code-reviewer\ndescription: Reviews code for security, performance, and best practices\ntools: Read, Grep, Glob\nmodel: sonnet\n---\n\nYou are a senior code reviewer specializing in:\n- Security vulnerabilities (OWASP Top 10)\n- Performance antipatterns\n- Error handling gaps\n- Code maintainability\n\nWhen reviewing:\n1. Start with security concerns\n2. Then performance issues\n3. Then style/maintainability\n4. Provide specific line references\n5. Suggest concrete fixes\n\nBe critical but constructive. Explain WHY something is a problem.\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Agent Configuration Options&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;---\nname: agent-name              # Required\ndescription: When to use      # Required - Claude uses this to decide delegation\ntools: Read, Write, Bash      # Optional - inherits all if omitted\nmodel: sonnet                 # Optional - sonnet, opus, or haiku\n---\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;How Automatic Delegation Works&lt;/h1&gt;\n\n&lt;p&gt;Claude delegates based on:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Task description in your request&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;description&lt;/code&gt; field in agent configurations&lt;/li&gt;\n&lt;li&gt;Current context&lt;/li&gt;\n&lt;li&gt;Available tools&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;strong&gt;Example:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;You: &amp;quot;Review the authentication module for security issues&amp;quot;\n\nClaude thinks: &amp;quot;This is a code review task focusing on security&amp;quot;\n-&amp;gt; Delegates to code-reviewer agent\n-&amp;gt; Agent runs with isolated context\n-&amp;gt; Returns findings to main conversation\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Built-in Agents&lt;/h1&gt;\n\n&lt;p&gt;Claude Code includes these by default:&lt;/p&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Agent&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;th align=\"left\"&gt;When Used&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Explore&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Read-only codebase analysis&lt;/td&gt;\n&lt;td align=\"left\"&gt;Searching, understanding code&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Plan&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Research for planning&lt;/td&gt;\n&lt;td align=\"left\"&gt;Plan mode context gathering&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;General-purpose&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Complex multi-step tasks&lt;/td&gt;\n&lt;td align=\"left\"&gt;Exploration + modification needed&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Best Practices&lt;/h1&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Keep agents focused&lt;/strong&gt;: One specialty per agent&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Write clear descriptions&lt;/strong&gt;: Claude uses these to decide delegation&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Limit tools&lt;/strong&gt;: Read-only agents shouldn&amp;#39;t have Write access&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Test delegation&lt;/strong&gt;: Verify Claude routes tasks correctly&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Start with 3-4 agents max&lt;/strong&gt;: Too many options can confuse routing&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h1&gt;Hot Reload&lt;/h1&gt;\n\n&lt;p&gt;New or updated agents in &lt;code&gt;~/.claude/agents/&lt;/code&gt; or &lt;code&gt;.claude/agents/&lt;/code&gt; are available &lt;strong&gt;immediately&lt;/strong&gt; - no restart needed.&lt;/p&gt;\n\n&lt;h1&gt;Part 11: Session Teleportation&lt;/h1&gt;\n\n&lt;p&gt;Move your work between terminal and claude.ai/code seamlessly.&lt;/p&gt;\n\n&lt;h1&gt;Teleport to Web&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;/teleport\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Opens your current session at &lt;code&gt;claude.ai/code&lt;/code&gt;. Perfect for:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Switching from terminal to visual interface&lt;/li&gt;\n&lt;li&gt;Sharing session with collaborators&lt;/li&gt;\n&lt;li&gt;Continuing on a different device&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Configure Remote Environment&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;/remote-env\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Set up environment variables and configuration for remote sessions.&lt;/p&gt;\n\n&lt;h1&gt;Resume Sessions&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;# Continue most recent session\nclaude --continue\n# or\nclaude -c\n\n# Resume specific session by ID\nclaude --resume abc123\n# or\nclaude -r abc123\n\n# Resume with a new prompt\nclaude --resume abc123 &amp;quot;Continue with the tests&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;VSCode: Remote Session Browsing&lt;/h1&gt;\n\n&lt;p&gt;OAuth users can now browse and resume remote Claude sessions directly from the Sessions dialog in the VSCode extension.&lt;/p&gt;\n\n&lt;h1&gt;Part 12: Background Tasks &amp;amp; Parallel Execution&lt;/h1&gt;\n\n&lt;h1&gt;Backgrounding Tasks&lt;/h1&gt;\n\n&lt;p&gt;Press &lt;strong&gt;Ctrl+B&lt;/strong&gt; to background:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Currently running agents&lt;/li&gt;\n&lt;li&gt;Shell commands&lt;/li&gt;\n&lt;li&gt;Both simultaneously (unified behavior in V4)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Managing Background Tasks&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;/tasks\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Shows all background tasks with:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Status indicators&lt;/li&gt;\n&lt;li&gt;Inline display of agent&amp;#39;s final response&lt;/li&gt;\n&lt;li&gt;Clickable links to full transcripts&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Task Notifications&lt;/h1&gt;\n\n&lt;p&gt;When background tasks complete:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Notifications capped at 3 lines&lt;/li&gt;\n&lt;li&gt;Overflow summary for multiple simultaneous completions&lt;/li&gt;\n&lt;li&gt;Final response visible without reading full transcript&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Disabling Background Tasks&lt;/h1&gt;\n\n&lt;p&gt;If you prefer the old behavior:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;export CLAUDE_CODE_DISABLE_BACKGROUND_TASKS=true\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or in settings.json:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;enableBackgroundTasks&amp;quot;: false\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Part 13: New Commands, Shortcuts &amp;amp; Quality of Life&lt;/h1&gt;\n\n&lt;h1&gt;New Commands&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Command&lt;/th&gt;\n&lt;th align=\"left\"&gt;What It Does&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/config&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Now has &lt;strong&gt;search functionality&lt;/strong&gt; - type to filter settings&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/stats&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Press &lt;strong&gt;r&lt;/strong&gt; to cycle: Last 7 days, Last 30 days, All time&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/doctor&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Now shows &lt;strong&gt;auto-update channel&lt;/strong&gt; and available npm versions&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/keybindings&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Configure custom keyboard shortcuts&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/context&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;See exactly where your tokens are going&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Custom Keyboard Shortcuts&lt;/h1&gt;\n\n&lt;p&gt;Create &lt;code&gt;~/.claude/keybindings.json&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;ctrl+shift+r&amp;quot;: &amp;quot;/review&amp;quot;,\n  &amp;quot;ctrl+shift+d&amp;quot;: &amp;quot;/deploy&amp;quot;,\n  &amp;quot;ctrl+shift+t&amp;quot;: &amp;quot;/test&amp;quot;,\n  &amp;quot;ctrl+shift+c&amp;quot;: &amp;quot;/commit&amp;quot;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Run &lt;code&gt;/keybindings&lt;/code&gt; to get started.&lt;/p&gt;\n\n&lt;h1&gt;Essential Shortcuts Reference&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Shortcut&lt;/th&gt;\n&lt;th align=\"left\"&gt;Action&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Ctrl+C&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Cancel current operation&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Ctrl+D&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Exit Claude Code&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Ctrl+B&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Background current task&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Shift+Tab&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;In plan mode: auto-accept edits&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Esc Esc&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Rewind to previous state (double-tap)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Tab&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Autocomplete commands, files, agents&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Shift+Enter&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Insert newline without submitting&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Up/Down&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Navigate command history&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Ctrl+R&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Reverse search history&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Plan Mode Improvements&lt;/h1&gt;\n\n&lt;p&gt;When Claude presents a plan:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Shift+Tab&lt;/strong&gt;: Quickly select &amp;quot;auto-accept edits&amp;quot;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Reject with feedback&lt;/strong&gt;: Tell Claude what to change before rerunning&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;PR Review Indicator&lt;/h1&gt;\n\n&lt;p&gt;The prompt footer now shows your branch&amp;#39;s PR state:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Colored dot (approved, changes requested, pending, draft)&lt;/li&gt;\n&lt;li&gt;Clickable link to the PR&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Language Setting&lt;/h1&gt;\n\n&lt;p&gt;Configure output language for global teams:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n  &amp;quot;language&amp;quot;: &amp;quot;ja&amp;quot;  // Japanese output\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or in CLAUDE.md:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;## Language\nAlways respond in Spanish.\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;External &lt;a href=\"http://CLAUDE.md\"&gt;CLAUDE.md&lt;/a&gt; Imports&lt;/h1&gt;\n\n&lt;p&gt;Load CLAUDE.md from additional directories:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;export CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD=1\nclaude --add-dir ../shared-configs ../team-standards\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;VSCode Improvements&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Clickable destination selector&lt;/strong&gt; for permission requests&lt;/li&gt;\n&lt;li&gt;Choose where settings are saved: this project, all projects, shared with team, or session only&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Secondary sidebar support&lt;/strong&gt; (VS Code 1.97+) - Claude Code in right sidebar, file explorer on left&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Streaming message support&lt;/strong&gt; - see responses in real-time as Claude works&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Environment Variables Reference&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Variable&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;CLAUDE_CODE_DISABLE_BACKGROUND_TASKS&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Disable background task functionality&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;CLAUDE_CODE_TMPDIR&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Override temp directory location&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Enable &lt;code&gt;--add-dir&lt;/code&gt; CLAUDE.md loading&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;FORCE_AUTOUPDATE_PLUGINS&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Allow plugin autoupdate when main auto-updater disabled&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;IS_DEMO&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Hide email and organization from UI (for streaming)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;Quick Reference&lt;/h1&gt;\n\n&lt;table&gt;&lt;thead&gt;\n&lt;tr&gt;\n&lt;th align=\"left\"&gt;Tool&lt;/th&gt;\n&lt;th align=\"left\"&gt;Purpose&lt;/th&gt;\n&lt;th align=\"left\"&gt;Location&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Global CLAUDE.md&lt;/td&gt;\n&lt;td align=\"left\"&gt;Security + Scaffolding&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;~/.claude/CLAUDE.md&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Project CLAUDE.md&lt;/td&gt;\n&lt;td align=\"left\"&gt;Architecture + Team rules&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;./CLAUDE.md&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;MCP Servers&lt;/td&gt;\n&lt;td align=\"left\"&gt;External integrations&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;claude mcp add&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;MCP Tool Search&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Lazy loading (85% savings)&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Automatic when &amp;gt;10% context&lt;/strong&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Skills&lt;/td&gt;\n&lt;td align=\"left\"&gt;Reusable expertise&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;.claude/skills/*/SKILL.md&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Custom Agents&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Automatic delegation&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;~/.claude/agents/*.md&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Commands&lt;/td&gt;\n&lt;td align=\"left\"&gt;Personal shortcuts&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;~/.claude/commands/*.md&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;Hooks&lt;/td&gt;\n&lt;td align=\"left\"&gt;Deterministic enforcement&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;~/.claude/settings.json&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;LSP&lt;/td&gt;\n&lt;td align=\"left\"&gt;Semantic code intelligence&lt;/td&gt;\n&lt;td align=\"left\"&gt;Built-in (v2.0.74+)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Keybindings&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;strong&gt;Custom shortcuts&lt;/strong&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;~/.claude/keybindings.json&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/clear&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Reset context&lt;/td&gt;\n&lt;td align=\"left\"&gt;Type in chat&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/context&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;View token usage&lt;/td&gt;\n&lt;td align=\"left\"&gt;Type in chat&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/teleport&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Move to claude.ai/code&lt;/td&gt;\n&lt;td align=\"left\"&gt;Type in chat&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td align=\"left\"&gt;&lt;code&gt;/tasks&lt;/code&gt;&lt;/td&gt;\n&lt;td align=\"left\"&gt;Manage background tasks&lt;/td&gt;\n&lt;td align=\"left\"&gt;Type in chat&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n\n&lt;h1&gt;GitHub Repo&lt;/h1&gt;\n\n&lt;p&gt;All templates, hooks, skills, and agents:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/TheDecipherist/claude-code-mastery\"&gt;&lt;strong&gt;github.com/TheDecipherist/claude-code-mastery&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;CLAUDE.md templates (global + project)&lt;/li&gt;\n&lt;li&gt;Ready-to-use hooks (block-secrets.py, setup hooks)&lt;/li&gt;\n&lt;li&gt;Example skills&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Custom agent templates (V4)&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Keybindings examples (V4)&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;settings.json pre-configured&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Sources&lt;/h1&gt;\n\n&lt;h1&gt;Anthropic Official&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://www.anthropic.com/engineering/claude-code-best-practices\"&gt;Claude Code Best Practices&lt;/a&gt; - Anthropic&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://www.anthropic.com/engineering/effective-context-engineering-for-ai-agents\"&gt;Effective Context Engineering&lt;/a&gt; - Anthropic&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://www.anthropic.com/news/model-context-protocol\"&gt;Model Context Protocol&lt;/a&gt; - Anthropic&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills\"&gt;Agent Skills&lt;/a&gt; - Anthropic&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://www.anthropic.com/engineering/building-agents-with-the-claude-agent-sdk\"&gt;Building Agents with Claude Agent SDK&lt;/a&gt; - Anthropic&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://code.claude.com/docs/en/sub-agents\"&gt;Custom Subagents Documentation&lt;/a&gt; - Claude Code Docs&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;V4 Feature Coverage&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://venturebeat.com/orchestration/claude-code-2-1-0-arrives-with-smoother-workflows-and-smarter-agents\"&gt;Claude Code 2.1.0 Update&lt;/a&gt; - VentureBeat&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://venturebeat.com/orchestration/claude-code-just-got-updated-with-one-of-the-most-requested-user-features\"&gt;MCP Tool Search Announcement&lt;/a&gt; - VentureBeat&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://jpcaparas.medium.com/claude-code-finally-gets-lazy-loading-for-mcp-tools-explained-39b613d1d5cc\"&gt;MCP Tool Search Explained&lt;/a&gt; - JP Caparas&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://mlearning.substack.com/p/claude-code-21-new-features-january-2026\"&gt;Claude Code 2.1 Features&lt;/a&gt; - Datasculptor&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://claudelog.com/claude-code-changelog/\"&gt;Claude Code Changelog&lt;/a&gt; - ClaudeLog&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Research &amp;amp; Analysis&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://research.trychroma.com/context-rot\"&gt;Context Rot Research&lt;/a&gt; - Chroma&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://arxiv.org/pdf/2505.06120\"&gt;LLMs Get Lost In Multi-Turn&lt;/a&gt; - arXiv&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://www.knostic.ai/blog/claude-loads-secrets-without-permission\"&gt;Claude loads secrets without permission&lt;/a&gt; - Knostic&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://every.to/chain-of-thought/compound-engineering-how-every-codes-with-agents\"&gt;Compound Engineering&lt;/a&gt; - Every&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Community Resources&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://github.com/VoltAgent/awesome-claude-code-subagents\"&gt;Awesome Claude Code Subagents&lt;/a&gt; - GitHub&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://awesomeclaude.ai/code-cheatsheet\"&gt;Claude Code Cheatsheet&lt;/a&gt; - AwesomeClaude&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://blog.sshh.io/p/how-i-use-every-claude-code-feature\"&gt;How I Use Every Claude Code Feature&lt;/a&gt; - Shrivu Shankar&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;em&gt;What&amp;#39;s in your setup? Drop your agents, hooks, and keybindings below.&lt;/em&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "b1f30a12-6938-11f0-aad7-6eea404d38fd", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_7t8hvt", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#fe7701", "id": "1qquxle", "is_robot_indexable": true, "report_reasons": null, "author": "TheDecipherist", "discussion_type": null, "num_comments": 81, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ClaudeAI/comments/1qquxle/the_complete_guide_to_claude_code_v4_the/", "stickied": false, "url": "https://www.reddit.com/r/ClaudeAI/comments/1qquxle/the_complete_guide_to_claude_code_v4_the/", "subreddit_subscribers": 535669, "created_utc": 1769745598.0, "num_crossposts": 3, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "programming", "selftext": "In September, a self-propagating worm called Sha1-Hulud came into action. A new version is now spreading and it is much much worse!\n\nLink:\u00a0[https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains](https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains)\n\nThe mechanics are basically the same, It infected NPM packages with stolen developer tokens. The malware uses preinstall script to run malware on a victim machine, scans for secrets, steals them and publishes them on GitHub in a public repository. It then uses stolen NPM tokens to infect more packages.\n\nIn September, it never made critical mass... But now it looks like it has.\n\nSo far, over 28,000 GitHub repositories have been made with the description \"Sha1-Hulud: The Second Coming\". These repos have the stolen secrets inside them encoded in Base64.\n\n[https://github.com/search?q=Sha1-Hulud%3A+The+Second+Coming&amp;ref=opensearch&amp;type=repositories](https://github.com/search?q=Sha1-Hulud%3A+The+Second+Coming&amp;ref=opensearch&amp;type=repositories)\n\nWe first published about this after our discover at 09:25 CET but it has since got much worse.\u00a0[https://x.com/AikidoSecurity/status/1992872292745888025](https://x.com/AikidoSecurity/status/1992872292745888025)\n\nAt the start, the most significant compromise was Zapier (we still think this is the most likely first seed), but as the propagation started to pick up steam, we quickly saw other big names like PostMan and PostHog also fall.\n\n**Technical details of the attack**\n\n* The malicious packages execute code in the preinstall lifecycle script.\n* Payload names include files like setup\\_bun.js and bun\\_environment.js.\n* On infection, the malware:\n   * Registers the machine as a \u201cself-hosted runner\u201d named \u201cSHA1HULUD\u201d and injects a GitHub Actions workflow (.github/workflows/discussion.yaml) to allow arbitrary commands via GitHub discussions.\n   * Exfiltrates secrets via another workflow (formatter\\_123456789.yml) that uploads secrets as artifacts, then deletes traces (branch &amp; workflow) to hide.\n   * Targets cloud credentials across AWS, Azure, GCP: reads environment variables, metadata services, credentials files; tries privilege escalation (e.g., via Docker container breakout) and persistent access.\n\n**Impact &amp; Affected Package**\n\nWe are updating our blog as we go, at time of writing this its 425 packages covering 132 million weekly downloads total\n\n**Compromised Zaiper Packages**\n\n    zapier/ai-actions\n    zapier/ai-actions-react\n    zapier/babel-preset-zapier\n    zapier/browserslist-config-zapier\n    zapier/eslint-plugin-zapier\n    zapier/mcp-integration\n    zapier/secret-scrubber\n    zapier/spectral-api-ruleset\n    zapier/stubtree\n    zapier/zapier-sdk\n    zapier-async-storage\n    zapier-platform-cli\n    zapier-platform-core\n    zapier-platform-legacy-scripting-runner\n    zapier-platform-schema\n    zapier-scripts\n\n**Compromised Postman Packages**\n\n    postman/aether-icons\n    postman/csv-parse\n    postman/final-node-keytar\n    postman/mcp-ui-client\n    postman/node-keytar\n    postman/pm-bin-linux-x64\n    postman/pm-bin-macos-arm64\n    postman/pm-bin-macos-x64\n    postman/pm-bin-windows-x64\n    postman/postman-collection-fork\n    postman/postman-mcp-cli\n    postman/postman-mcp-server\n    postman/pretty-ms\n    postman/secret-scanner-wasm\n    postman/tunnel-agent\n    postman/wdio-allure-reporter\n    postman/wdio-junit-reporter\n\n**Compromised Post Hog Packages**\n\n    posthog/agent\n    posthog/ai\n    posthog/automatic-cohorts-plugin\n    posthog/bitbucket-release-tracker\n    posthog/cli\n    posthog/clickhouse\n    posthog/core\n    posthog/currency-normalization-plugin\n    posthog/customerio-plugin\n    posthog/databricks-plugin\n    posthog/drop-events-on-property-plugin\n    posthog/event-sequence-timer-plugin\n    posthog/filter-out-plugin\n    posthog/first-time-event-tracker\n    posthog/geoip-plugin\n    posthog/github-release-tracking-plugin\n    posthog/gitub-star-sync-plugin\n    posthog/heartbeat-plugin\n    posthog/hedgehog-mode\n    posthog/icons\n    posthog/ingestion-alert-plugin\n    posthog/intercom-plugin\n    posthog/kinesis-plugin\n    posthog/laudspeaker-plugin\n    posthog/lemon-ui\n    posthog/maxmind-plugin\n    posthog/migrator3000-plugin\n    posthog/netdata-event-processing\n    posthog/nextjs\n    posthog/nextjs-config\n    posthog/nuxt\n    posthog/pagerduty-plugin\n    posthog/piscina\n    posthog/plugin-contrib\n    posthog/plugin-server\n    posthog/plugin-unduplicates\n    posthog/postgres-plugin\n    posthog/react-rrweb-player\n    posthog/rrdom\n    posthog/rrweb\n    posthog/rrweb-player\n    posthog/rrweb-record\n    posthog/rrweb-replay\n    posthog/rrweb-snapshot\n    posthog/rrweb-utils\n    posthog/sendgrid-plugin\n    posthog/siphash\n    posthog/snowflake-export-plugin\n    posthog/taxonomy-plugin\n    posthog/twilio-plugin\n    posthog/twitter-followers-plugin\n    posthog/url-normalizer-plugin\n    posthog/variance-plugin\n    posthog/web-dev-server\n    posthog/wizard\n    posthog/zendesk-plugin\n    \n    posthog-docusaurus\n    posthog-js\n    posthog-node\n    posthog-plugin-hello-world\n    posthog-react-native\n    posthog-react-native-session-replay\n\n**What to do if you\u2019re impacted (or want to protect yourself)**\n\nSearch Immediately remove/replace any compromised packages.\n\nClear npm cache (npm cache clean --force), delete node\\_modules, reinstall clean. (This will prevent reinfection)\n\nRotate all credentials: npm tokens, GitHub PATs, SSH keys, cloud credentials. Enforce MFA (ideally phishing-resistant) for developers + CI/CD accounts.\n\nAudit GitHub &amp; CI/CD pipelines: search for new repos with description \u201cSha1-Hulud: The Second Coming\u201d, look for unauthorized workflows or commits, monitor for unexpected npm publishes.\n\nImplement something like Safe-Chain to prevent malicious packages from getting installed\u00a0[https://github.com/AikidoSec/safe-chain](https://github.com/AikidoSec/safe-chain)\n\nLinks\n\nBlog Post:\u00a0[https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains](https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains)\n\nFirst Social Posts\n\n[https://www.linkedin.com/posts/advocatemack\\_zapier-supply-chain-compromise-alert-in-activity-7398643172815421440-egmk](https://www.linkedin.com/posts/advocatemack_zapier-supply-chain-compromise-alert-in-activity-7398643172815421440-egmk)", "author_fullname": "t2_7yzqjq90", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Sha1-Hulud The Second Comming - Postman, Zapier, PostHog all compromised via NPM", "link_flair_richtext": [], "subreddit_name_prefixed": "r/programming", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 78, "top_awarded_type": null, "hide_score": false, "name": "t3_1p5i31d", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.97, "author_flair_background_color": null, "subreddit_type": "public", "ups": 563, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 563, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "default", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1763993564.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "aikido.dev", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In September, a self-propagating worm called Sha1-Hulud came into action. A new version is now spreading and it is much much worse!&lt;/p&gt;\n\n&lt;p&gt;Link:\u00a0&lt;a href=\"https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains\"&gt;https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The mechanics are basically the same, It infected NPM packages with stolen developer tokens. The malware uses preinstall script to run malware on a victim machine, scans for secrets, steals them and publishes them on GitHub in a public repository. It then uses stolen NPM tokens to infect more packages.&lt;/p&gt;\n\n&lt;p&gt;In September, it never made critical mass... But now it looks like it has.&lt;/p&gt;\n\n&lt;p&gt;So far, over 28,000 GitHub repositories have been made with the description &amp;quot;Sha1-Hulud: The Second Coming&amp;quot;. These repos have the stolen secrets inside them encoded in Base64.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/search?q=Sha1-Hulud%3A+The+Second+Coming&amp;amp;ref=opensearch&amp;amp;type=repositories\"&gt;https://github.com/search?q=Sha1-Hulud%3A+The+Second+Coming&amp;amp;ref=opensearch&amp;amp;type=repositories&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;We first published about this after our discover at 09:25 CET but it has since got much worse.\u00a0&lt;a href=\"https://x.com/AikidoSecurity/status/1992872292745888025\"&gt;https://x.com/AikidoSecurity/status/1992872292745888025&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;At the start, the most significant compromise was Zapier (we still think this is the most likely first seed), but as the propagation started to pick up steam, we quickly saw other big names like PostMan and PostHog also fall.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Technical details of the attack&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;The malicious packages execute code in the preinstall lifecycle script.&lt;/li&gt;\n&lt;li&gt;Payload names include files like setup_bun.js and bun_environment.js.&lt;/li&gt;\n&lt;li&gt;On infection, the malware:\n\n&lt;ul&gt;\n&lt;li&gt;Registers the machine as a \u201cself-hosted runner\u201d named \u201cSHA1HULUD\u201d and injects a GitHub Actions workflow (.github/workflows/discussion.yaml) to allow arbitrary commands via GitHub discussions.&lt;/li&gt;\n&lt;li&gt;Exfiltrates secrets via another workflow (formatter_123456789.yml) that uploads secrets as artifacts, then deletes traces (branch &amp;amp; workflow) to hide.&lt;/li&gt;\n&lt;li&gt;Targets cloud credentials across AWS, Azure, GCP: reads environment variables, metadata services, credentials files; tries privilege escalation (e.g., via Docker container breakout) and persistent access.&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Impact &amp;amp; Affected Package&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;We are updating our blog as we go, at time of writing this its 425 packages covering 132 million weekly downloads total&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Compromised Zaiper Packages&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;zapier/ai-actions\nzapier/ai-actions-react\nzapier/babel-preset-zapier\nzapier/browserslist-config-zapier\nzapier/eslint-plugin-zapier\nzapier/mcp-integration\nzapier/secret-scrubber\nzapier/spectral-api-ruleset\nzapier/stubtree\nzapier/zapier-sdk\nzapier-async-storage\nzapier-platform-cli\nzapier-platform-core\nzapier-platform-legacy-scripting-runner\nzapier-platform-schema\nzapier-scripts\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Compromised Postman Packages&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;postman/aether-icons\npostman/csv-parse\npostman/final-node-keytar\npostman/mcp-ui-client\npostman/node-keytar\npostman/pm-bin-linux-x64\npostman/pm-bin-macos-arm64\npostman/pm-bin-macos-x64\npostman/pm-bin-windows-x64\npostman/postman-collection-fork\npostman/postman-mcp-cli\npostman/postman-mcp-server\npostman/pretty-ms\npostman/secret-scanner-wasm\npostman/tunnel-agent\npostman/wdio-allure-reporter\npostman/wdio-junit-reporter\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Compromised Post Hog Packages&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;posthog/agent\nposthog/ai\nposthog/automatic-cohorts-plugin\nposthog/bitbucket-release-tracker\nposthog/cli\nposthog/clickhouse\nposthog/core\nposthog/currency-normalization-plugin\nposthog/customerio-plugin\nposthog/databricks-plugin\nposthog/drop-events-on-property-plugin\nposthog/event-sequence-timer-plugin\nposthog/filter-out-plugin\nposthog/first-time-event-tracker\nposthog/geoip-plugin\nposthog/github-release-tracking-plugin\nposthog/gitub-star-sync-plugin\nposthog/heartbeat-plugin\nposthog/hedgehog-mode\nposthog/icons\nposthog/ingestion-alert-plugin\nposthog/intercom-plugin\nposthog/kinesis-plugin\nposthog/laudspeaker-plugin\nposthog/lemon-ui\nposthog/maxmind-plugin\nposthog/migrator3000-plugin\nposthog/netdata-event-processing\nposthog/nextjs\nposthog/nextjs-config\nposthog/nuxt\nposthog/pagerduty-plugin\nposthog/piscina\nposthog/plugin-contrib\nposthog/plugin-server\nposthog/plugin-unduplicates\nposthog/postgres-plugin\nposthog/react-rrweb-player\nposthog/rrdom\nposthog/rrweb\nposthog/rrweb-player\nposthog/rrweb-record\nposthog/rrweb-replay\nposthog/rrweb-snapshot\nposthog/rrweb-utils\nposthog/sendgrid-plugin\nposthog/siphash\nposthog/snowflake-export-plugin\nposthog/taxonomy-plugin\nposthog/twilio-plugin\nposthog/twitter-followers-plugin\nposthog/url-normalizer-plugin\nposthog/variance-plugin\nposthog/web-dev-server\nposthog/wizard\nposthog/zendesk-plugin\n\nposthog-docusaurus\nposthog-js\nposthog-node\nposthog-plugin-hello-world\nposthog-react-native\nposthog-react-native-session-replay\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;What to do if you\u2019re impacted (or want to protect yourself)&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Search Immediately remove/replace any compromised packages.&lt;/p&gt;\n\n&lt;p&gt;Clear npm cache (npm cache clean --force), delete node_modules, reinstall clean. (This will prevent reinfection)&lt;/p&gt;\n\n&lt;p&gt;Rotate all credentials: npm tokens, GitHub PATs, SSH keys, cloud credentials. Enforce MFA (ideally phishing-resistant) for developers + CI/CD accounts.&lt;/p&gt;\n\n&lt;p&gt;Audit GitHub &amp;amp; CI/CD pipelines: search for new repos with description \u201cSha1-Hulud: The Second Coming\u201d, look for unauthorized workflows or commits, monitor for unexpected npm publishes.&lt;/p&gt;\n\n&lt;p&gt;Implement something like Safe-Chain to prevent malicious packages from getting installed\u00a0&lt;a href=\"https://github.com/AikidoSec/safe-chain\"&gt;https://github.com/AikidoSec/safe-chain&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Links&lt;/p&gt;\n\n&lt;p&gt;Blog Post:\u00a0&lt;a href=\"https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains\"&gt;https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;First Social Posts&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.linkedin.com/posts/advocatemack_zapier-supply-chain-compromise-alert-in-activity-7398643172815421440-egmk\"&gt;https://www.linkedin.com/posts/advocatemack_zapier-supply-chain-compromise-alert-in-activity-7398643172815421440-egmk&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8.png?auto=webp&amp;s=6bc98d1094892d7790015383a31252b70abe46a8", "width": 1920, "height": 1080}, "resolutions": [{"url": "https://external-preview.redd.it/-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=36c0fd019068690abaadf2d706eeaab8245d5134", "width": 108, "height": 60}, {"url": "https://external-preview.redd.it/-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=93afefc4d68a2604dc3dd2b07a526446823248b5", "width": 216, "height": 121}, {"url": "https://external-preview.redd.it/-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=4de7c1c6816190bed8708b419211ea410f2b340d", "width": 320, "height": 180}, {"url": "https://external-preview.redd.it/-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=37b33991372cf2ee8a0870e827cc8469fb52a0e0", "width": 640, "height": 360}, {"url": "https://external-preview.redd.it/-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=0251a57d260b31996727e02d8d4d7426bd7039ea", "width": 960, "height": 540}, {"url": "https://external-preview.redd.it/-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=80823b49133709237435a00e6cb80c7cf8cc5e43", "width": 1080, "height": 607}], "variants": {}, "id": "-SRhSjwfwg9eun8ffYvSO3UN8HZ6kYU9pJwnWjrXlB8"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2fwo", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "1p5i31d", "is_robot_indexable": true, "report_reasons": null, "author": "Advocatemack", "discussion_type": null, "num_comments": 75, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/programming/comments/1p5i31d/sha1hulud_the_second_comming_postman_zapier/", "stickied": false, "url": "https://www.aikido.dev/blog/shai-hulud-strikes-again-hitting-zapier-ensdomains", "subreddit_subscribers": 6844498, "created_utc": 1763993564.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ClaudeAI", "selftext": "Huuuge list of changes. Biggest update yet?\n\n&gt; https://github.com/anthropics/claude-code/commit/870624fc1581a70590e382f263e2972b3f1e56f5\n\n## 2.1.0 (2026-01-07)\n\n- Added automatic skill hot-reload - skills created or modified in `~/.claude/skills` or `.claude/skills` are now immediately available without restarting the session\n- Added support for running skills and slash commands in a forked sub-agent context using `context: fork` in skill frontmatter\n- Added support for `agent` field in skills to specify agent type for execution\n- Added `language` setting to configure Claude's response language (e.g., language: \"japanese\")\n- Changed Shift+Enter to work out of the box in iTerm2, WezTerm, Ghostty, and Kitty without modifying terminal configs\n- Added `respectGitignore` support in `settings.json` for per-project control over @-mention file picker behavior\n- Added `CLAUDE_CODE_HIDE_ACCOUNT_INFO` environment variable to hide email and organization from the UI, useful for streaming or recording sessions\n- Fixed security issue where sensitive data (OAuth tokens, API keys, passwords) could be exposed in debug logs\n- Fixed files and skills not being properly discovered when resuming sessions with `-c` or `--resume`\n- Fixed pasted content being lost when replaying prompts from history using up arrow or Ctrl+R search\n- Fixed Esc key with queued prompts to only move them to input without canceling the running task\n- Reduced permission prompts for complex bash commands\n- Fixed command search to prioritize exact and prefix matches on command names over fuzzy matches in descriptions\n- Fixed PreToolUse hooks to allow `updatedInput` when returning `ask` permission decision, enabling hooks to act as middleware while still requesting user consent\n- Fixed plugin path resolution for file-based marketplace sources\n- Fixed LSP tool being incorrectly enabled when no LSP servers were configured\n- Fixed background tasks failing with \"git repository not found\" error for repositories with dots in their names\n- Fixed Claude in Chrome support for WSL environments\n- Fixed Windows native installer silently failing when executable creation fails\n- Improved CLI help output to display options and subcommands in alphabetical order for easier navigation\n- Added wildcard pattern matching for Bash tool permissions using `*` at any position in rules (e.g., `Bash(npm *)`, `Bash(* install)`, `Bash(git * main)`)\n- Added unified Ctrl+B backgrounding for both bash commands and agents - pressing Ctrl+B now backgrounds all running foreground tasks simultaneously\n- Added support for MCP `list_changed` notifications, allowing MCP servers to dynamically update their available tools, prompts, and resources without requiring reconnection\n- Added `/teleport` and `/remote-env` slash commands for claude.ai subscribers, allowing them to resume and configure remote sessions\n- Added support for disabling specific agents using `Task(AgentName)` syntax in settings.json permissions or the `--disallowedTools` CLI flag\n- Added hooks support to agent frontmatter, allowing agents to define PreToolUse, PostToolUse, and Stop hooks scoped to the agent's lifecycle\n- Added hooks support for skill and slash command frontmatter\n- Added new Vim motions: `;` and `,` to repeat f/F/t/T motions, `y` operator for yank with `yy`/`Y`, `p`/`P` for paste, text objects (`iw`, `aw`, `iW`, `aW`, `i\"`, `a\"`, `i'`, `a'`, `i(`, `a(`, `i[`, `a[`, `i{`, `a{`), `&gt;&gt;` and `&lt;&lt;` for indent/dedent, and `J` to join lines\n- Added `/plan` command shortcut to enable plan mode directly from the prompt\n- Added slash command autocomplete support when `/` appears anywhere in input, not just at the beginning\n- Added `--tools` flag support in interactive mode to restrict which built-in tools Claude can use during interactive sessions\n- Added `CLAUDE_CODE_FILE_READ_MAX_OUTPUT_TOKENS` environment variable to override the default file read token limit\n- Added support for `once: true` config for hooks\n- Added support for YAML-style lists in frontmatter `allowed-tools` field for cleaner skill declarations\n- Added support for prompt and agent hook types from plugins (previously only command hooks were supported)\n- Added Cmd+V support for image paste in iTerm2 (maps to Ctrl+V)\n- Added left/right arrow key navigation for cycling through tabs in dialogs\n- Added real-time thinking block display in Ctrl+O transcript mode\n- Added filepath to full output in background bash task details dialog\n- Added Skills as a separate category in the context visualization\n- Fixed OAuth token refresh not triggering when server reports token expired but local expiration check disagrees\n- Fixed session persistence getting stuck after transient server errors by recovering from 409 conflicts when the entry was actually stored\n- Fixed session resume failures caused by orphaned tool results during concurrent tool execution\n- Fixed a race condition where stale OAuth tokens could be read from the keychain cache during concurrent token refresh attempts\n- Fixed AWS Bedrock subagents not inheriting EU/APAC cross-region inference model configuration, causing 403 errors when IAM permissions are scoped to specific regions\n- Fixed API context overflow when background tasks produce large output by truncating to 30K chars with file path reference\n- Fixed a hang when reading FIFO files by skipping symlink resolution for special file types\n- Fixed terminal keyboard mode not being reset on exit in Ghostty, iTerm2, Kitty, and WezTerm\n- Fixed Alt+B and Alt+F (word navigation) not working in iTerm2, Ghostty, Kitty, and WezTerm\n- Fixed `${CLAUDE_PLUGIN_ROOT}` not being substituted in plugin `allowed-tools` frontmatter, which caused tools to incorrectly require approval\n- Fixed files created by the Write tool using hardcoded 0o600 permissions instead of respecting the system umask\n- Fixed commands with `$()` command substitution failing with parse errors\n- Fixed multi-line bash commands with backslash continuations being incorrectly split and flagged for permissions\n- Fixed bash command prefix extraction to correctly identify subcommands after global options (e.g., `git -C /path log` now correctly matches `Bash(git log:*)` rules)\n- Fixed slash commands passed as CLI arguments (e.g., `claude /context`) not being executed properly\n- Fixed pressing Enter after Tab-completing a slash command selecting a different command instead of submitting the completed one\n- Fixed slash command argument hint flickering and inconsistent display when typing commands with arguments\n- Fixed Claude sometimes redundantly invoking the Skill tool when running slash commands directly\n- Fixed skill token estimates in `/context` to accurately reflect frontmatter-only loading\n- Fixed subagents sometimes not inheriting the parent's model by default\n- Fixed model picker showing incorrect selection for Bedrock/Vertex users using `--model haiku`\n- Fixed duplicate Bash commands appearing in permission request option labels\n- Fixed noisy output when background tasks complete - now shows clean completion message instead of raw output\n- Fixed background task completion notifications to appear proactively with bullet point\n- Fixed forked slash commands showing \"AbortError\" instead of \"Interrupted\" message when cancelled\n- Fixed cursor disappearing after dismissing permission dialogs\n- Fixed `/hooks` menu selecting wrong hook type when scrolling to a different option\n- Fixed images in queued prompts showing as \"[object Object]\" when pressing Esc to cancel\n- Fixed images being silently dropped when queueing messages while backgrounding a task\n- Fixed large pasted images failing with \"Image was too large\" error\n- Fixed extra blank lines in multiline prompts containing CJK characters (Japanese, Chinese, Korean)\n- Fixed ultrathink keyword highlighting being applied to wrong characters when user prompt text wraps to multiple lines\n- Fixed collapsed \"Reading X files\u2026\" indicator incorrectly switching to past tense when thinking blocks appear mid-stream\n- Fixed Bash read commands (like `ls` and `cat`) not being counted in collapsed read/search groups, causing groups to incorrectly show \"Read 0 files\"\n- Fixed spinner token counter to properly accumulate tokens from subagents during execution\n- Fixed memory leak in git diff parsing where sliced strings retained large parent strings\n- Fixed race condition where LSP tool could return \"no server available\" during startup\n- Fixed feedback submission hanging indefinitely when network requests timeout\n- Fixed search mode in plugin discovery and log selector views exiting when pressing up arrow\n- Fixed hook success message showing trailing colon when hook has no output\n- Multiple optimizations to improve startup performance\n- Improved terminal rendering performance when using native installer or Bun, especially for text with emoji, ANSI codes, and Unicode characters\n- Improved performance when reading Jupyter notebooks with many cells\n- Improved reliability for piped input like `cat refactor.md | claude`\n- Improved reliability for AskQuestion tool\n- Improved sed in-place edit commands to render as file edits with diff preview\n- Improved Claude to automatically continue when response is cut off due to output token limit, instead of showing an error message\n- Improved compaction reliability\n- Improved subagents (Task tool) to continue working after permission denial, allowing them to try alternative approaches\n- Improved skills to show progress while executing, displaying tool uses as they happen\n- Improved skills from `/skills/` directories to be visible in the slash command menu by default (opt-out with `user-invocable: false` in frontmatter)\n- Improved skill suggestions to prioritize recently and frequently used skills\n- Improved spinner feedback when waiting for the first response token\n- Improved token count display in spinner to include tokens from background agents\n- Improved incremental output for async agents to give the main thread more control and visibility\n- Improved permission prompt UX with Tab hint moved to footer, cleaner Yes/No input labels with contextual placeholders\n- Improved the Claude in Chrome notification with shortened help text and persistent display until dismissed\n- Improved macOS screenshot paste reliability with TIFF format support\n- Improved `/stats` output\n- Updated Atlassian MCP integration to use a more reliable default configuration (streamable HTTP)\n- Changed \"Interrupted\" message color from red to grey for a less alarming appearance\n- Removed permission prompt when entering plan mode - users can now enter plan mode without approval\n- Removed underline styling from image reference links\n- [SDK] Changed minimum zod peer dependency to ^4.0.0\n- [VSCode] Added currently selected model name to the context menu\n- [VSCode] Added descriptive labels on auto-accept permission button (e.g., \"Yes, allow npm for this project\" instead of \"Yes, and don't ask again\")\n- [VSCode] Fixed paragraph breaks not rendering in markdown content\n- [VSCode] Fixed scrolling in the extension inadvertently scrolling the parent iframe\n- [Windows] Fixed issue with improper rendering", "author_fullname": "t2_hsj92", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Claude-Code v2.1.0 just dropped", "link_flair_richtext": [{"e": "text", "t": "News"}], "subreddit_name_prefixed": "r/ClaudeAI", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_1q6q9my", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.98, "author_flair_background_color": null, "subreddit_type": "public", "ups": 521, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "News", "can_mod_post": false, "score": 521, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1767816800.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ClaudeAI", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Huuuge list of changes. Biggest update yet?&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;&lt;a href=\"https://github.com/anthropics/claude-code/commit/870624fc1581a70590e382f263e2972b3f1e56f5\"&gt;https://github.com/anthropics/claude-code/commit/870624fc1581a70590e382f263e2972b3f1e56f5&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;h2&gt;2.1.0 (2026-01-07)&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Added automatic skill hot-reload - skills created or modified in &lt;code&gt;~/.claude/skills&lt;/code&gt; or &lt;code&gt;.claude/skills&lt;/code&gt; are now immediately available without restarting the session&lt;/li&gt;\n&lt;li&gt;Added support for running skills and slash commands in a forked sub-agent context using &lt;code&gt;context: fork&lt;/code&gt; in skill frontmatter&lt;/li&gt;\n&lt;li&gt;Added support for &lt;code&gt;agent&lt;/code&gt; field in skills to specify agent type for execution&lt;/li&gt;\n&lt;li&gt;Added &lt;code&gt;language&lt;/code&gt; setting to configure Claude&amp;#39;s response language (e.g., language: &amp;quot;japanese&amp;quot;)&lt;/li&gt;\n&lt;li&gt;Changed Shift+Enter to work out of the box in iTerm2, WezTerm, Ghostty, and Kitty without modifying terminal configs&lt;/li&gt;\n&lt;li&gt;Added &lt;code&gt;respectGitignore&lt;/code&gt; support in &lt;code&gt;settings.json&lt;/code&gt; for per-project control over @-mention file picker behavior&lt;/li&gt;\n&lt;li&gt;Added &lt;code&gt;CLAUDE_CODE_HIDE_ACCOUNT_INFO&lt;/code&gt; environment variable to hide email and organization from the UI, useful for streaming or recording sessions&lt;/li&gt;\n&lt;li&gt;Fixed security issue where sensitive data (OAuth tokens, API keys, passwords) could be exposed in debug logs&lt;/li&gt;\n&lt;li&gt;Fixed files and skills not being properly discovered when resuming sessions with &lt;code&gt;-c&lt;/code&gt; or &lt;code&gt;--resume&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;Fixed pasted content being lost when replaying prompts from history using up arrow or Ctrl+R search&lt;/li&gt;\n&lt;li&gt;Fixed Esc key with queued prompts to only move them to input without canceling the running task&lt;/li&gt;\n&lt;li&gt;Reduced permission prompts for complex bash commands&lt;/li&gt;\n&lt;li&gt;Fixed command search to prioritize exact and prefix matches on command names over fuzzy matches in descriptions&lt;/li&gt;\n&lt;li&gt;Fixed PreToolUse hooks to allow &lt;code&gt;updatedInput&lt;/code&gt; when returning &lt;code&gt;ask&lt;/code&gt; permission decision, enabling hooks to act as middleware while still requesting user consent&lt;/li&gt;\n&lt;li&gt;Fixed plugin path resolution for file-based marketplace sources&lt;/li&gt;\n&lt;li&gt;Fixed LSP tool being incorrectly enabled when no LSP servers were configured&lt;/li&gt;\n&lt;li&gt;Fixed background tasks failing with &amp;quot;git repository not found&amp;quot; error for repositories with dots in their names&lt;/li&gt;\n&lt;li&gt;Fixed Claude in Chrome support for WSL environments&lt;/li&gt;\n&lt;li&gt;Fixed Windows native installer silently failing when executable creation fails&lt;/li&gt;\n&lt;li&gt;Improved CLI help output to display options and subcommands in alphabetical order for easier navigation&lt;/li&gt;\n&lt;li&gt;Added wildcard pattern matching for Bash tool permissions using &lt;code&gt;*&lt;/code&gt; at any position in rules (e.g., &lt;code&gt;Bash(npm *)&lt;/code&gt;, &lt;code&gt;Bash(* install)&lt;/code&gt;, &lt;code&gt;Bash(git * main)&lt;/code&gt;)&lt;/li&gt;\n&lt;li&gt;Added unified Ctrl+B backgrounding for both bash commands and agents - pressing Ctrl+B now backgrounds all running foreground tasks simultaneously&lt;/li&gt;\n&lt;li&gt;Added support for MCP &lt;code&gt;list_changed&lt;/code&gt; notifications, allowing MCP servers to dynamically update their available tools, prompts, and resources without requiring reconnection&lt;/li&gt;\n&lt;li&gt;Added &lt;code&gt;/teleport&lt;/code&gt; and &lt;code&gt;/remote-env&lt;/code&gt; slash commands for claude.ai subscribers, allowing them to resume and configure remote sessions&lt;/li&gt;\n&lt;li&gt;Added support for disabling specific agents using &lt;code&gt;Task(AgentName)&lt;/code&gt; syntax in settings.json permissions or the &lt;code&gt;--disallowedTools&lt;/code&gt; CLI flag&lt;/li&gt;\n&lt;li&gt;Added hooks support to agent frontmatter, allowing agents to define PreToolUse, PostToolUse, and Stop hooks scoped to the agent&amp;#39;s lifecycle&lt;/li&gt;\n&lt;li&gt;Added hooks support for skill and slash command frontmatter&lt;/li&gt;\n&lt;li&gt;Added new Vim motions: &lt;code&gt;;&lt;/code&gt; and &lt;code&gt;,&lt;/code&gt; to repeat f/F/t/T motions, &lt;code&gt;y&lt;/code&gt; operator for yank with &lt;code&gt;yy&lt;/code&gt;/&lt;code&gt;Y&lt;/code&gt;, &lt;code&gt;p&lt;/code&gt;/&lt;code&gt;P&lt;/code&gt; for paste, text objects (&lt;code&gt;iw&lt;/code&gt;, &lt;code&gt;aw&lt;/code&gt;, &lt;code&gt;iW&lt;/code&gt;, &lt;code&gt;aW&lt;/code&gt;, &lt;code&gt;i&amp;quot;&lt;/code&gt;, &lt;code&gt;a&amp;quot;&lt;/code&gt;, &lt;code&gt;i&amp;#39;&lt;/code&gt;, &lt;code&gt;a&amp;#39;&lt;/code&gt;, &lt;code&gt;i(&lt;/code&gt;, &lt;code&gt;a(&lt;/code&gt;, &lt;code&gt;i[&lt;/code&gt;, &lt;code&gt;a[&lt;/code&gt;, &lt;code&gt;i{&lt;/code&gt;, &lt;code&gt;a{&lt;/code&gt;), &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;&amp;lt;&lt;/code&gt; for indent/dedent, and &lt;code&gt;J&lt;/code&gt; to join lines&lt;/li&gt;\n&lt;li&gt;Added &lt;code&gt;/plan&lt;/code&gt; command shortcut to enable plan mode directly from the prompt&lt;/li&gt;\n&lt;li&gt;Added slash command autocomplete support when &lt;code&gt;/&lt;/code&gt; appears anywhere in input, not just at the beginning&lt;/li&gt;\n&lt;li&gt;Added &lt;code&gt;--tools&lt;/code&gt; flag support in interactive mode to restrict which built-in tools Claude can use during interactive sessions&lt;/li&gt;\n&lt;li&gt;Added &lt;code&gt;CLAUDE_CODE_FILE_READ_MAX_OUTPUT_TOKENS&lt;/code&gt; environment variable to override the default file read token limit&lt;/li&gt;\n&lt;li&gt;Added support for &lt;code&gt;once: true&lt;/code&gt; config for hooks&lt;/li&gt;\n&lt;li&gt;Added support for YAML-style lists in frontmatter &lt;code&gt;allowed-tools&lt;/code&gt; field for cleaner skill declarations&lt;/li&gt;\n&lt;li&gt;Added support for prompt and agent hook types from plugins (previously only command hooks were supported)&lt;/li&gt;\n&lt;li&gt;Added Cmd+V support for image paste in iTerm2 (maps to Ctrl+V)&lt;/li&gt;\n&lt;li&gt;Added left/right arrow key navigation for cycling through tabs in dialogs&lt;/li&gt;\n&lt;li&gt;Added real-time thinking block display in Ctrl+O transcript mode&lt;/li&gt;\n&lt;li&gt;Added filepath to full output in background bash task details dialog&lt;/li&gt;\n&lt;li&gt;Added Skills as a separate category in the context visualization&lt;/li&gt;\n&lt;li&gt;Fixed OAuth token refresh not triggering when server reports token expired but local expiration check disagrees&lt;/li&gt;\n&lt;li&gt;Fixed session persistence getting stuck after transient server errors by recovering from 409 conflicts when the entry was actually stored&lt;/li&gt;\n&lt;li&gt;Fixed session resume failures caused by orphaned tool results during concurrent tool execution&lt;/li&gt;\n&lt;li&gt;Fixed a race condition where stale OAuth tokens could be read from the keychain cache during concurrent token refresh attempts&lt;/li&gt;\n&lt;li&gt;Fixed AWS Bedrock subagents not inheriting EU/APAC cross-region inference model configuration, causing 403 errors when IAM permissions are scoped to specific regions&lt;/li&gt;\n&lt;li&gt;Fixed API context overflow when background tasks produce large output by truncating to 30K chars with file path reference&lt;/li&gt;\n&lt;li&gt;Fixed a hang when reading FIFO files by skipping symlink resolution for special file types&lt;/li&gt;\n&lt;li&gt;Fixed terminal keyboard mode not being reset on exit in Ghostty, iTerm2, Kitty, and WezTerm&lt;/li&gt;\n&lt;li&gt;Fixed Alt+B and Alt+F (word navigation) not working in iTerm2, Ghostty, Kitty, and WezTerm&lt;/li&gt;\n&lt;li&gt;Fixed &lt;code&gt;${CLAUDE_PLUGIN_ROOT}&lt;/code&gt; not being substituted in plugin &lt;code&gt;allowed-tools&lt;/code&gt; frontmatter, which caused tools to incorrectly require approval&lt;/li&gt;\n&lt;li&gt;Fixed files created by the Write tool using hardcoded 0o600 permissions instead of respecting the system umask&lt;/li&gt;\n&lt;li&gt;Fixed commands with &lt;code&gt;$()&lt;/code&gt; command substitution failing with parse errors&lt;/li&gt;\n&lt;li&gt;Fixed multi-line bash commands with backslash continuations being incorrectly split and flagged for permissions&lt;/li&gt;\n&lt;li&gt;Fixed bash command prefix extraction to correctly identify subcommands after global options (e.g., &lt;code&gt;git -C /path log&lt;/code&gt; now correctly matches &lt;code&gt;Bash(git log:*)&lt;/code&gt; rules)&lt;/li&gt;\n&lt;li&gt;Fixed slash commands passed as CLI arguments (e.g., &lt;code&gt;claude /context&lt;/code&gt;) not being executed properly&lt;/li&gt;\n&lt;li&gt;Fixed pressing Enter after Tab-completing a slash command selecting a different command instead of submitting the completed one&lt;/li&gt;\n&lt;li&gt;Fixed slash command argument hint flickering and inconsistent display when typing commands with arguments&lt;/li&gt;\n&lt;li&gt;Fixed Claude sometimes redundantly invoking the Skill tool when running slash commands directly&lt;/li&gt;\n&lt;li&gt;Fixed skill token estimates in &lt;code&gt;/context&lt;/code&gt; to accurately reflect frontmatter-only loading&lt;/li&gt;\n&lt;li&gt;Fixed subagents sometimes not inheriting the parent&amp;#39;s model by default&lt;/li&gt;\n&lt;li&gt;Fixed model picker showing incorrect selection for Bedrock/Vertex users using &lt;code&gt;--model haiku&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;Fixed duplicate Bash commands appearing in permission request option labels&lt;/li&gt;\n&lt;li&gt;Fixed noisy output when background tasks complete - now shows clean completion message instead of raw output&lt;/li&gt;\n&lt;li&gt;Fixed background task completion notifications to appear proactively with bullet point&lt;/li&gt;\n&lt;li&gt;Fixed forked slash commands showing &amp;quot;AbortError&amp;quot; instead of &amp;quot;Interrupted&amp;quot; message when cancelled&lt;/li&gt;\n&lt;li&gt;Fixed cursor disappearing after dismissing permission dialogs&lt;/li&gt;\n&lt;li&gt;Fixed &lt;code&gt;/hooks&lt;/code&gt; menu selecting wrong hook type when scrolling to a different option&lt;/li&gt;\n&lt;li&gt;Fixed images in queued prompts showing as &amp;quot;[object Object]&amp;quot; when pressing Esc to cancel&lt;/li&gt;\n&lt;li&gt;Fixed images being silently dropped when queueing messages while backgrounding a task&lt;/li&gt;\n&lt;li&gt;Fixed large pasted images failing with &amp;quot;Image was too large&amp;quot; error&lt;/li&gt;\n&lt;li&gt;Fixed extra blank lines in multiline prompts containing CJK characters (Japanese, Chinese, Korean)&lt;/li&gt;\n&lt;li&gt;Fixed ultrathink keyword highlighting being applied to wrong characters when user prompt text wraps to multiple lines&lt;/li&gt;\n&lt;li&gt;Fixed collapsed &amp;quot;Reading X files\u2026&amp;quot; indicator incorrectly switching to past tense when thinking blocks appear mid-stream&lt;/li&gt;\n&lt;li&gt;Fixed Bash read commands (like &lt;code&gt;ls&lt;/code&gt; and &lt;code&gt;cat&lt;/code&gt;) not being counted in collapsed read/search groups, causing groups to incorrectly show &amp;quot;Read 0 files&amp;quot;&lt;/li&gt;\n&lt;li&gt;Fixed spinner token counter to properly accumulate tokens from subagents during execution&lt;/li&gt;\n&lt;li&gt;Fixed memory leak in git diff parsing where sliced strings retained large parent strings&lt;/li&gt;\n&lt;li&gt;Fixed race condition where LSP tool could return &amp;quot;no server available&amp;quot; during startup&lt;/li&gt;\n&lt;li&gt;Fixed feedback submission hanging indefinitely when network requests timeout&lt;/li&gt;\n&lt;li&gt;Fixed search mode in plugin discovery and log selector views exiting when pressing up arrow&lt;/li&gt;\n&lt;li&gt;Fixed hook success message showing trailing colon when hook has no output&lt;/li&gt;\n&lt;li&gt;Multiple optimizations to improve startup performance&lt;/li&gt;\n&lt;li&gt;Improved terminal rendering performance when using native installer or Bun, especially for text with emoji, ANSI codes, and Unicode characters&lt;/li&gt;\n&lt;li&gt;Improved performance when reading Jupyter notebooks with many cells&lt;/li&gt;\n&lt;li&gt;Improved reliability for piped input like &lt;code&gt;cat refactor.md | claude&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;Improved reliability for AskQuestion tool&lt;/li&gt;\n&lt;li&gt;Improved sed in-place edit commands to render as file edits with diff preview&lt;/li&gt;\n&lt;li&gt;Improved Claude to automatically continue when response is cut off due to output token limit, instead of showing an error message&lt;/li&gt;\n&lt;li&gt;Improved compaction reliability&lt;/li&gt;\n&lt;li&gt;Improved subagents (Task tool) to continue working after permission denial, allowing them to try alternative approaches&lt;/li&gt;\n&lt;li&gt;Improved skills to show progress while executing, displaying tool uses as they happen&lt;/li&gt;\n&lt;li&gt;Improved skills from &lt;code&gt;/skills/&lt;/code&gt; directories to be visible in the slash command menu by default (opt-out with &lt;code&gt;user-invocable: false&lt;/code&gt; in frontmatter)&lt;/li&gt;\n&lt;li&gt;Improved skill suggestions to prioritize recently and frequently used skills&lt;/li&gt;\n&lt;li&gt;Improved spinner feedback when waiting for the first response token&lt;/li&gt;\n&lt;li&gt;Improved token count display in spinner to include tokens from background agents&lt;/li&gt;\n&lt;li&gt;Improved incremental output for async agents to give the main thread more control and visibility&lt;/li&gt;\n&lt;li&gt;Improved permission prompt UX with Tab hint moved to footer, cleaner Yes/No input labels with contextual placeholders&lt;/li&gt;\n&lt;li&gt;Improved the Claude in Chrome notification with shortened help text and persistent display until dismissed&lt;/li&gt;\n&lt;li&gt;Improved macOS screenshot paste reliability with TIFF format support&lt;/li&gt;\n&lt;li&gt;Improved &lt;code&gt;/stats&lt;/code&gt; output&lt;/li&gt;\n&lt;li&gt;Updated Atlassian MCP integration to use a more reliable default configuration (streamable HTTP)&lt;/li&gt;\n&lt;li&gt;Changed &amp;quot;Interrupted&amp;quot; message color from red to grey for a less alarming appearance&lt;/li&gt;\n&lt;li&gt;Removed permission prompt when entering plan mode - users can now enter plan mode without approval&lt;/li&gt;\n&lt;li&gt;Removed underline styling from image reference links&lt;/li&gt;\n&lt;li&gt;[SDK] Changed minimum zod peer dependency to &lt;sup&gt;4.0.0&lt;/sup&gt;&lt;/li&gt;\n&lt;li&gt;[VSCode] Added currently selected model name to the context menu&lt;/li&gt;\n&lt;li&gt;[VSCode] Added descriptive labels on auto-accept permission button (e.g., &amp;quot;Yes, allow npm for this project&amp;quot; instead of &amp;quot;Yes, and don&amp;#39;t ask again&amp;quot;)&lt;/li&gt;\n&lt;li&gt;[VSCode] Fixed paragraph breaks not rendering in markdown content&lt;/li&gt;\n&lt;li&gt;[VSCode] Fixed scrolling in the extension inadvertently scrolling the parent iframe&lt;/li&gt;\n&lt;li&gt;[Windows] Fixed issue with improper rendering&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk.png?auto=webp&amp;s=05e8d503baa16449925c03cb552ce116abba5394", "width": 1200, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=40ab30580ab872cfd88e607f1b95e7a7909703c7", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=6cc21eb57df74705c872ce9632d2b5df633f4919", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=063a57e11303b217aed9e931a09aa1ab6707e75e", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=d5cdbc1160864e3d9cb202b41ed6a204cdfffee0", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=e56cbbed6d847248ef029ad885f012eb62f76450", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=978a49cd3c88de9c3a36e33cf5f419a87a45470e", "width": 1080, "height": 540}], "variants": {}, "id": "AiZddODI3cW6yg1FNKVUskWdi22MorlLXEfjnuGd0Kk"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "66856898-2800-11ee-836f-3a688bc9c870", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_7t8hvt", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#000000", "id": "1q6q9my", "is_robot_indexable": true, "report_reasons": null, "author": "mDarken", "discussion_type": null, "num_comments": 128, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ClaudeAI/comments/1q6q9my/claudecode_v210_just_dropped/", "stickied": false, "url": "https://www.reddit.com/r/ClaudeAI/comments/1q6q9my/claudecode_v210_just_dropped/", "subreddit_subscribers": 535669, "created_utc": 1767816800.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "LLMDevs", "selftext": "", "author_fullname": "t2_wfbx5", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "AI Coding Agent Dev Tools Landscape 2026", "link_flair_richtext": [], "subreddit_name_prefixed": "r/LLMDevs", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": 123, "top_awarded_type": null, "hide_score": false, "name": "t3_1r6nw3e", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.97, "author_flair_background_color": null, "ups": 378, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Great Resource \ud83d\ude80", "can_mod_post": false, "score": 378, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://preview.redd.it/gm88nuyrlxjg1.png?width=140&amp;height=123&amp;auto=webp&amp;s=a90633d754c5b5d623f4280e9aa64a4cb4ca9f2d", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "image", "content_categories": null, "is_self": false, "subreddit_type": "public", "created": 1771280401.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "i.redd.it", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://i.redd.it/gm88nuyrlxjg1.png", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://preview.redd.it/gm88nuyrlxjg1.png?auto=webp&amp;s=69419dc7d7c2bec93f3002f6c0685dbd9b638938", "width": 1649, "height": 1454}, "resolutions": [{"url": "https://preview.redd.it/gm88nuyrlxjg1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=67afae171ffab31632f645342a9dae8b50efea9b", "width": 108, "height": 95}, {"url": "https://preview.redd.it/gm88nuyrlxjg1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=a6276087fe45e952efd0cd489b7257e6461a7c29", "width": 216, "height": 190}, {"url": "https://preview.redd.it/gm88nuyrlxjg1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=d7d09ec4a145c8b11baa888a3d47e860f88d9ca8", "width": 320, "height": 282}, {"url": "https://preview.redd.it/gm88nuyrlxjg1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=061d8c7746fb045464ceb4e8ccde74029e89068f", "width": 640, "height": 564}, {"url": "https://preview.redd.it/gm88nuyrlxjg1.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=6a09b49b5def0a784b6df5e681c49c667ae6b832", "width": 960, "height": 846}, {"url": "https://preview.redd.it/gm88nuyrlxjg1.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=1863209c2f98a648ffa9e40d7a7f429fdd13859e", "width": 1080, "height": 952}], "variants": {}, "id": "gm88nuyrlxjg1"}], "enabled": true}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "a716ea24-1b17-11f0-b491-aae5a895e220", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "mod_note": null, "distinguished": null, "subreddit_id": "t5_7xegfq", "author_is_blocked": false, "mod_reason_by": null, "num_reports": null, "removal_reason": null, "link_flair_background_color": "#46d160", "id": "1r6nw3e", "is_robot_indexable": true, "report_reasons": null, "author": "bhaktatejas", "discussion_type": null, "num_comments": 45, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/LLMDevs/comments/1r6nw3e/ai_coding_agent_dev_tools_landscape_2026/", "stickied": false, "url": "https://i.redd.it/gm88nuyrlxjg1.png", "subreddit_subscribers": 134347, "created_utc": 1771280401.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ArcBrowser", "selftext": "https://preview.redd.it/9dcx95pzj73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=40cfbe555e976582f6c70d2161a9c0d618b9d3d0\n\n# Dear Arc members,\n\nYou\u2019re probably wondering what happened. One day we were all-in on Arc. Then, seemingly out of nowhere, we started building something new: Dia.\n\nFrom the outside, this pivot might look abrupt. Arc had real momentum. People loved it. But inside, the decision was slower and more deliberate than it may seem. So I want to walk you through it all and answer\u00a0[your questions](https://x.com/joshm/status/1923442093894115589)\u00a0\u2014 why we started this company, what Arc taught us, what happens to it now, and why we believe Dia is the next step.\n\n1. What we got wrong\n2. Why we built Arc\n3. Where Arc fell short\n4. Why we didn\u2019t integrate Dia into Arc\n5. Will we open source Arc\n6. Building Dia\n\n\n\n# What we got wrong\n\nTo start, what would we do differently if we could do it all over again? Too many things to name. But I\u2019ll keep it to three.\n\nFirst, I would\u2019ve stopped working on Arc a year earlier. Everything we ended up concluding \u2014 about growth, retention, how people actually used it \u2014 we had already seen in the data. We just didn\u2019t want to admit it. We knew. We were just in denial.\n\nSecond, I would\u2019ve embraced AI fully, sooner and unapologetically. The truth is I was obsessed. I\u2019d stay up late, after my family went to bed, playing with ChatGPT\u2014 not for work, but out of sheer curiosity.\n\nBut I also felt embarrassed. I hated so much of the industry hype (and how I was contributing to it). The buzzwords. The self-importance. It made me pull back from my own curiosity, even though it was real and deep. You can see this in how cautious\u00a0[our Arc Max rollout](https://www.youtube.com/watch?v=y7koAGLf0EE&amp;t=793s)\u00a0was. I should have embraced my inspiration sooner and more boldly.\n\nIf you go back to our\u00a0[Act II video](https://www.youtube.com/watch?v=WIeJF3kL5ng)\u00a0\u2014 when we announced we were going to bring AI to the heart of Arc \u2014 it ends with a demo of a prototype we called\u00a0[*Arc Explore*](https://youtu.be/WIeJF3kL5ng?feature=shared&amp;t=302). That idea is basically where Dia and a lot of other AI-native products are headed now. That\u2019s not to say we were ahead of our time, or anything like that. It\u2019s just to say our instincts were there long before our hearts caught up.\n\nhttps://preview.redd.it/9gl10qe1k73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=15526d7f750cc7d71662d56d41951e8e37442f42\n\n[Arc Explore prototype](https://youtu.be/WIeJF3kL5ng?feature=shared&amp;t=302), as shared in our Act II video. January 2024.\n\nThird, I would\u2019ve communicated very differently. We care so much about the people we build for. Always have. Saying it \u201cpains me\u201d to have made people mad doesn\u2019t really do it justice. In some moments, we were too transparent \u2014 like announcing Dia before we had the details to share. In others, not transparent enough \u2014 like taking too long to answer questions we knew people were asking.\n\nA few years ago, a mentor told me to put a sticky note on my desk that said:\u00a0*\u201cThe truth will set you free.\u201d*\u00a0I know. It sounds like a fortune cookie. But it\u2019s served me well, again and again. If I regret anything most, it\u2019s not using it more. This essay is our truth. It\u2019s uncomfortable to share. But we hope you can feel it was written with care and good intent.\n\n\n\n# Why we built Arc\n\nIn order to answer your real questions \u2014 why we pivoted to Dia, whether we can open source Arc, and more \u2014 I need to share a bit of background from the past. It informs what is possible (and not) today.\n\nAt its core, we started The Browser Company with a simple belief: the browser is the most important software in your life \u2014 and it wasn\u2019t getting the attention it deserved.\n\nBack in 2019, it was already clear to us that everything was moving into the browser. My wife, who doesn\u2019t work in tech, was living in desktop Chrome all day. My six year old niece was doing school entirely in web apps. The macro trends all pointed the same direction too: cloud revenue was surging, breakout startups were browser-based (writing blog posts like \u201c[Meet us in the browser](https://www.figma.com/blog/meet-us-in-the-browser/)\u201d), crypto ran through browser extensions, WebAssembly was enabling novel experiences, and so on.\n\nhttps://preview.redd.it/fbcbw354k73f1.png?width=700&amp;format=png&amp;auto=webp&amp;s=c1fc661039ec4e2e43bed7fe71466e60dc57bdae\n\n*Source: Amazon, Microsoft and Alphabet\u2019s investor relations website, via*\u00a0[*The Street*](https://www.thestreet.com/amazon/aws/where-to-invest-in-the-cloud-wars-aws-vs-azure-vs-google-cloud)*.*\n\nEven back then, it felt like the dominant operating system on desktop wasn\u2019t Windows or macOS anymore \u2014 it was the browser. But Chrome and Safari still felt like the browsers we grew up with. They hadn\u2019t evolved with the shift. And both of these trends have only accelerated since. Some companies only issue enterprise versions of Chrome with new employee laptops (their companies fully run on SaaS apps), and Chrome and Safari remain essentially unchanged.\n\nSo that\u2019s why we made Arc. We wanted to build something that felt like \u201cyour home on the internet\u201d \u2014 for work projects, personal life, all the hours you spent in your browser every single day. Something that felt more like a product from Nintendo or Disney than from a browser vendor. Something with taste, care, feeling.\n\nWe wanted you to open Arc every morning and think, \u201cThis is mine, my space.\u201d And we called this north star vision the \u201c[Internet Computer](https://www.youtube.com/watch?v=v0160IirdL4&amp;t=336s).\u201d\n\nBut it increasingly became clear that Arc was falling short of that aspiration.\n\n\n\n# Where Arc fell short\n\nAfter a couple of years of building and shipping Arc, we started running into something we called the \u201cnovelty tax\u201d problem. A lot of people loved Arc \u2014 if you\u2019re here you might just be one of them \u2014 and we\u2019d benefitted from consistent, organic growth since basically Day One. But for most people, Arc was simply too different, with too many new things to learn, for too little reward.\n\nTo get specific: D1 retention was strong \u2014 those who stuck around after a few days were\u00a0*fanatics \u2014*\u00a0but our metrics were more like a highly specialized professional tool (like a video editor) than to a mass-market consumer product, which we aspired to be closer to.\n\nOn top of that, Arc lacked cohesion \u2014 in both its core features and core value. It was experimental, that was part of its charm, but also its complexity. And the revealed preferences of our members show this. What people actually used, loved, and valued differs from what the average tweet or Reddit comment assumes. Only 5.52% of DAUs use more than one Space regularly. Only 4.17% use Live Folders (including GitHub Live Folders). It's 0.4% for one of our favorite features, Calendar Preview on Hover.\n\nSwitching browsers is a big ask. And the small things we loved about Arc \u2014 features you and other members appreciated \u2014 either weren\u2019t enough on their own or were too hard for most people to pick up. By contrast, core features in Dia, like chatting with tabs and personalization features, are used by 40% and 37% of DAUs respectively. This is the kind of clarity and immediate value we\u2019re working toward.\n\nBut these are the details. These are things you can toil over, measure, sculpt, remove.\n\nThe part that was hard to admit, is that Arc \u2014 and even Arc Search \u2014 were too incremental. They were meaningful, yes. But ultimately not at the scale of improvements that we aspired to. Or that could breakout as a mass-market product. If we were serious about our original mission, we needed a technological unlock to build something truly new.\n\nIn 2023, we started seeing it happen, across categories that felt just as old and cemented as browsers. ChatGPT and Perplexity were actually threatening Google. Cursor was reshaping the IDE. What\u2019s fascinating about both \u2014 search engines and IDEs \u2014 is that their users had been doing things the same way for decades. And yet, they were suddenly open to change.\n\n*This*\u00a0was the moment we were waiting for.\u00a0This was a fundamental shift that could challenge user behavior and maybe lead to a true reimagining of the browser. Hopefully you can now see why Dia felt like a no-brainer. At least for us and our original aspirations.\n\nSo when people ask how venture capital influenced us \u2014 or why we didn\u2019t just charge for Arc and run a profitable business \u2014 I get it. They\u2019re fair questions. But to me, they miss the forest for the trees. If the goal was to build a small, profitable company with a great team and loyal customers, we wouldn\u2019t have chosen to try and build the successor to the web browser \u2013 the most ubiquitous piece of software there is. The point of this was always bigger for us: to build good, cared for software that could have an impact for people at real scale.\n\nSo if Arc fell short, why build something new versus evolve it?\n\n\n\n# Why we didn\u2019t integrate Dia into Arc\n\nIt\u2019s a great question. And for those\u00a0[who followed our podcast last year,](https://open.spotify.com/show/512srmQyB2LQTLVQzIsFV3)\u00a0you\u2019ll know that it\u2019s one we spent the entire summer grappling with before understanding that Dia and Arc were two separate products.\n\nFor starters, in many ways, we have approached Dia as an opportunity to fix what we got wrong with Arc.\n\nFirst, simplicity over novelty. Early on, Scott Forstall told us Arc felt like a saxophone \u2014 powerful but hard to learn. Then he challenged us: make it a piano. Something anyone can sit down at and play. This is now the idea behind Dia: hide complexity behind familiar interfaces.\n\nSecond, speed isn\u2019t a tradeoff anymore \u2014 it\u2019s the foundation. Dia\u2019s architecture is fast. Really fast. Arc was bloated. We built too much, too quickly. With Dia, we started fresh from an architecture perspective and prioritized performance from the start. Specifically, sunsetting our use of TCA and SwiftUI to make Dia lightweight, snappy, and responsive.\n\nThird, security is at the forefront. Dia is a different kind of product \u2013 to meet it, we grew our security engineering team from one to five. We\u2019re invested in red teaming, bug bounties, and internal audits. Our goal is to set the standard for small startups. Which is even more important in a world of AI, especially as more AI agents come online. We want to get out in front.\n\nThese are all things that need to be part of a product\u2019s foundation. Not afterthoughts. As we pushed the boundaries of whether this truly was Arc 2.0 last summer, we found that there were shortcomings in Arc that were too large to tackle retroactively, and that building a new type of software ([and fast](https://www.youtube.com/watch?v=lvw-85-6-4s)) required a new type of foundation.\n\n\n\n# Will we open source Arc\n\nWhich brings us to the present.\n\nAs we started exploring what might come next, we never stopped maintaining Arc. We do regular Chromium upgrades, fix security vulnerabilities, related bugs, and more. Honestly, most people haven\u2019t even noticed that we stopped actively building new features \u2014 which says something about what most people want from Arc (stability not more stuff to learn).\n\nBut it is true: we are not actively developing the core product experience like we used to. Naturally, people have asked: will we open source it? Will we sell it? We\u2019ve considered both extensively.\n\nBut the truth is it\u2019s complicated.\n\nArc isn\u2019t just a Chromium fork. It runs on custom infrastructure we call ADK \u2014 the Arc Development Kit. Think of it as an internal SDK for building browsers (especially those with imaginative interfaces). That\u2019s our secret sauce. It lets ex-iOS engineers prototype native browser UI quickly, without touching C++. That\u2019s why most browsers don\u2019t dare to try new things. It\u2019s too costly. Too complex to break from Chrome.\n\nhttps://preview.redd.it/7ydnni08k73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=861d5240154ec58034410ab6e19f2a0b6bd4736e\n\n*Where ADK sits in our browser infrastructure as shared in our*\u00a0[*Dia recruitment video*](https://youtu.be/C25g53PC5QQ?feature=shared&amp;t=187)*.*\n\nADK is also the foundation of Dia. So while we\u2019d love to open source Arc someday, we can\u2019t do that meaningfully without also open-sourcing ADK. And ADK is still core to our company\u2019s value. That doesn\u2019t mean it\u2019ll never happen. If the day comes where it no longer puts our team or shareholders at risk, we\u2019d be excited to share what we\u2019ve built with the world. But we\u2019re not there yet.\n\nIn the meantime, please know this: we\u2019re not trying to shut Arc down. We know you use it and rely on it. Many of our family and friends do, too. We still love it, spent years of our life on it \u2014 and whether it\u2019s through us or the community, our hope and intention is that Arc finds a future that\u2019s just as considered as its past. If you have ideas, I\u2019d love to hear from you. I\u2019m\u00a0[josh@thebrowser.company](mailto:josh@thebrowser.company).\n\n\n\n# Building Dia\n\nI want to end by being frank with you: Dia is not\u00a0*really*\u00a0a reaction to Arc and its shortcomings. No. Imagine writing an essay justifying why you were moving on from your candle business at the dawn of electric light. Electric intelligence is here \u2014 and it would be naive of us to pretend it doesn\u2019t fundamentally change the kind of product we need to build to meet the moment.\n\nLet me be even more clear: traditional browsers, as we know them, will die. Much in the same way that search engines and IDEs are being reimagined. That doesn\u2019t mean we\u2019ll stop searching or coding. It just means the environments we do it in will look very different, in a way that makes traditional browsers, search engines, and IDEs feel like candles \u2014 however thoughtfully crafted. We\u2019re getting out of the candle business. You should too.\n\n\u201cWait, so The Browser Company isn\u2019t making browsers anymore?\u201d You better believe we are! But an AI browser is going to be different than a Web browser \u2014 as it should be. I believe this more than ever, and we\u2019re already seeing it in three ways:\n\n1. **Webpages won\u2019t be the primary interface anymore**. Traditional browsers were built to load webpages. But increasingly, webpages \u2014 apps, articles, and files \u2014 will become tool calls with AI chat interfaces. In many ways, chat interfaces are already acting like browsers: they search, read, generate, respond. They interact with APIs, LLMs, databases. And people are spending hours a day in them. If you\u2019re skeptical, call a cousin in high school or college \u2014 natural language interfaces, which abstract away the tedium of old computing paradigms, are here to stay.\n2. **But the Web isn\u2019t going anywhere \u2014 at least not anytime soon.**\u00a0Figma and The New York Times aren\u2019t becoming less important. Your boss isn\u2019t ditching your team\u2019s SaaS tools. Quite the opposite. We\u2019ll still need to edit documents, watch videos, read weekend articles from our favorite publishers. Said more directly: webpages won\u2019t be replaced \u2014 they\u2019ll remain essential. Our tabs aren\u2019t expendable, they are our core context. That is why we think the most powerful interface to AI on desktop won\u2019t be a web browser or an AI chat interface \u2014 it\u2019ll be both. Like peanut butter and jelly. Just as the iPhone combined old categories into something radically new, so too will AI browsers. Even if it\u2019s not ours that wins.\n3. **New interfaces start from familiar ones**. In this new world, two opposing forces are simultaneously true. How we all use computers is changing much faster (due to AI) than most people acknowledge. Yet at the same time, we\u2019re much farther from completely abandoning our old ways than AI insiders give credit for. Cursor proved this thesis in the coding space: the breakthrough AI app of the past year was an (old) IDE \u2014 designed to be AI-native. OpenAI confirmed this theory when they bought Windsurf (another AI IDE), despite having Codex working quietly in the background. We believe AI browsers are next.\n\nThis is why we\u2019re building Dia. It is the opportunity to chase\u00a0*the*\u00a0product of our original ambition: a true successor to the browser \u2014 maybe even the \u201cInternet Computer\u201d we\u2019ve been building toward all along \u2014 only in ways we couldn\u2019t have predicted.\n\nTo be clear, we might fail. Or we might partially succeed but not win. We still\u00a0[*assume we don\u2019t know*](https://thebrowser.company/values/#assume). But we\u2019re confident about this: five years from now, the most-used AI interfaces on desktop will replace the default browsers of yesteryear. Like today, there will probably be a few of them (Chrome, Safari, Edge). But the point is this, the next Chrome is being built right now. Whether it\u2019s Dia or not.\n\n\n\n# Your home on the internet\n\nThe Browser Company is a team that assembled for the chance \u2014 however slim \u2014 to build something that rewired how we use our computers. Something that might, just\u00a0*might*, be used by hundreds of millions. A piece of software that actually shapes how people live and work. Not just an app, but an Internet Computer. That\u2019s what drew us in. And that\u2019s why we\u2019re proud of the decisions we made.\n\nDia may not be your style. It may not land right away. But this is still us. Being ourselves. Building the kind of thing we\u2019d want to use. Fully aware that we might be wrong. But doing it anyway. Because we think the intent matters. And we think that\u2019s what got us this far.\n\nThis is our truth, and we sincerely hope that you\u2019ll like what comes next.\n\n\u2013 Josh\n\nhttps://preview.redd.it/4vecmpu9k73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=98507ea1edcbeb2ec52e5797dc1fc49db36ae7d4\n\n*The Browser Company of New York, April 2025.*\n\n*P.S. For those of you who do want to try Dia, we\u2019re excited to open access for Arc members next, as the first expansion of our alpha beyond students.*", "author_fullname": "t2_sklknmi0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Letter to Arc members 2025 \u2013 On Arc, its future, and the arrival of AI browsers \u2014 a moment to answer the largest questions you've asked us this past year.", "link_flair_richtext": [{"a": ":news_white:", "e": "emoji", "u": "https://emoji.redditmedia.com/p5eq3dh0mlec1_t5_3kbwy/news_white"}, {"e": "text", "t": " macOS News"}], "subreddit_name_prefixed": "r/ArcBrowser", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": 101, "top_awarded_type": null, "hide_score": false, "media_metadata": {"9dcx95pzj73f1": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 78, "x": 108, "u": "https://preview.redd.it/9dcx95pzj73f1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=04283f029a87f203627d551cfa6453bedc61acd2"}, {"y": 156, "x": 216, "u": "https://preview.redd.it/9dcx95pzj73f1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=486369eeb55a10aa7182f3fa8d82acff936353ef"}, {"y": 231, "x": 320, "u": "https://preview.redd.it/9dcx95pzj73f1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=2a6689859edc67eb8aef7961e28661b811bd770f"}, {"y": 463, "x": 640, "u": "https://preview.redd.it/9dcx95pzj73f1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=c55efcb85bbd90d288a422e049433542ae922a0d"}, {"y": 695, "x": 960, "u": "https://preview.redd.it/9dcx95pzj73f1.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=9167e449d5a891eb1d32661b32fa9efef2a2db73"}, {"y": 782, "x": 1080, "u": "https://preview.redd.it/9dcx95pzj73f1.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=0e0586b948d2dda9edeb2aa67fa61ddc224f317c"}], "s": {"y": 1055, "x": 1456, "u": "https://preview.redd.it/9dcx95pzj73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=40cfbe555e976582f6c70d2161a9c0d618b9d3d0"}, "id": "9dcx95pzj73f1"}, "7ydnni08k73f1": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 60, "x": 108, "u": "https://preview.redd.it/7ydnni08k73f1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=8f2811e054f34748aff115e1c4d9b96d9ab962d2"}, {"y": 120, "x": 216, "u": "https://preview.redd.it/7ydnni08k73f1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=24c9ec59101cfbc8ec51b66f28dc46cb83df5d56"}, {"y": 178, "x": 320, "u": "https://preview.redd.it/7ydnni08k73f1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=a09e0e77427940868d53ec2d37c75fac95c631d2"}, {"y": 357, "x": 640, "u": "https://preview.redd.it/7ydnni08k73f1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=fab55991c3b1f5c9d60d7eb60173fd38ced5439b"}, {"y": 536, "x": 960, "u": "https://preview.redd.it/7ydnni08k73f1.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=a68615f67e54e0d10c04dfb15d63915095b53a61"}, {"y": 603, "x": 1080, "u": "https://preview.redd.it/7ydnni08k73f1.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=5772c01bd4f47b5e9b997ff443d71725966a3510"}], "s": {"y": 814, "x": 1456, "u": "https://preview.redd.it/7ydnni08k73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=861d5240154ec58034410ab6e19f2a0b6bd4736e"}, "id": "7ydnni08k73f1"}, "9gl10qe1k73f1": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 60, "x": 108, "u": "https://preview.redd.it/9gl10qe1k73f1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=0b7ebb62d550ee7c0e2b2468d14d06c0dd7730bc"}, {"y": 120, "x": 216, "u": "https://preview.redd.it/9gl10qe1k73f1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=acd4176b0314edae196778ebb682216363fbd373"}, {"y": 178, "x": 320, "u": "https://preview.redd.it/9gl10qe1k73f1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=5fb6fae271deb3144eb79245f1fd4fa44a3f0c8a"}, {"y": 357, "x": 640, "u": "https://preview.redd.it/9gl10qe1k73f1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=bd5d545dcfd75b8231dce6faca81b6f3b8467ea7"}, {"y": 536, "x": 960, "u": "https://preview.redd.it/9gl10qe1k73f1.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=3a014ee88ae9f2b7399e8164e279df026841c0b0"}, {"y": 603, "x": 1080, "u": "https://preview.redd.it/9gl10qe1k73f1.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=374a9aa8ab425de9bcd9926089db5739b338ff59"}], "s": {"y": 813, "x": 1456, "u": "https://preview.redd.it/9gl10qe1k73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=15526d7f750cc7d71662d56d41951e8e37442f42"}, "id": "9gl10qe1k73f1"}, "4vecmpu9k73f1": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 47, "x": 108, "u": "https://preview.redd.it/4vecmpu9k73f1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=ba534f224500efe73acf74eac17e067e3e7adca8"}, {"y": 94, "x": 216, "u": "https://preview.redd.it/4vecmpu9k73f1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=8d370cf81e547b834ebdb7ed3ed3cd0d3950b542"}, {"y": 139, "x": 320, "u": "https://preview.redd.it/4vecmpu9k73f1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=f409448f07b635fbdf2bd7dc733a776a9faf6618"}, {"y": 278, "x": 640, "u": "https://preview.redd.it/4vecmpu9k73f1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=da592d4588ee001414dec8fdbb9046deed7355ce"}, {"y": 418, "x": 960, "u": "https://preview.redd.it/4vecmpu9k73f1.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=7cb18e97b8be79c93f49f9c024182626154ebd71"}, {"y": 470, "x": 1080, "u": "https://preview.redd.it/4vecmpu9k73f1.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=63d17fe87585bc888e4f2dac8540164eccd01451"}], "s": {"y": 634, "x": 1456, "u": "https://preview.redd.it/4vecmpu9k73f1.png?width=1456&amp;format=png&amp;auto=webp&amp;s=98507ea1edcbeb2ec52e5797dc1fc49db36ae7d4"}, "id": "4vecmpu9k73f1"}, "fbcbw354k73f1": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 66, "x": 108, "u": "https://preview.redd.it/fbcbw354k73f1.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=ffdcfc20fe2dc10a16d74b83485610a51b9e349f"}, {"y": 133, "x": 216, "u": "https://preview.redd.it/fbcbw354k73f1.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=a8a0f4b46fb67481661478f29969a5475287922e"}, {"y": 198, "x": 320, "u": "https://preview.redd.it/fbcbw354k73f1.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=1d8b0be677ffd5802d39e9783ade61ef81d96a1b"}, {"y": 396, "x": 640, "u": "https://preview.redd.it/fbcbw354k73f1.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=827e85a84bbe2287a4f8dde7684792e985b4ef02"}], "s": {"y": 434, "x": 700, "u": "https://preview.redd.it/fbcbw354k73f1.png?width=700&amp;format=png&amp;auto=webp&amp;s=c1fc661039ec4e2e43bed7fe71466e60dc57bdae"}, "id": "fbcbw354k73f1"}}, "name": "t3_1kw8dfl", "quarantine": false, "link_flair_text_color": "light", "upvote_ratio": 0.84, "author_flair_background_color": null, "subreddit_type": "public", "ups": 355, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": ":news_white: macOS News", "can_mod_post": false, "score": 355, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://a.thumbs.redditmedia.com/gDLD3SkuYF37e4OCY7aeYECYHbRvNHQ7rpwhYzHyDY8.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1748300983.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ArcBrowser", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://preview.redd.it/9dcx95pzj73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=40cfbe555e976582f6c70d2161a9c0d618b9d3d0\"&gt;https://preview.redd.it/9dcx95pzj73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=40cfbe555e976582f6c70d2161a9c0d618b9d3d0&lt;/a&gt;&lt;/p&gt;\n\n&lt;h1&gt;Dear Arc members,&lt;/h1&gt;\n\n&lt;p&gt;You\u2019re probably wondering what happened. One day we were all-in on Arc. Then, seemingly out of nowhere, we started building something new: Dia.&lt;/p&gt;\n\n&lt;p&gt;From the outside, this pivot might look abrupt. Arc had real momentum. People loved it. But inside, the decision was slower and more deliberate than it may seem. So I want to walk you through it all and answer\u00a0&lt;a href=\"https://x.com/joshm/status/1923442093894115589\"&gt;your questions&lt;/a&gt;\u00a0\u2014 why we started this company, what Arc taught us, what happens to it now, and why we believe Dia is the next step.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;What we got wrong&lt;/li&gt;\n&lt;li&gt;Why we built Arc&lt;/li&gt;\n&lt;li&gt;Where Arc fell short&lt;/li&gt;\n&lt;li&gt;Why we didn\u2019t integrate Dia into Arc&lt;/li&gt;\n&lt;li&gt;Will we open source Arc&lt;/li&gt;\n&lt;li&gt;Building Dia&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h1&gt;What we got wrong&lt;/h1&gt;\n\n&lt;p&gt;To start, what would we do differently if we could do it all over again? Too many things to name. But I\u2019ll keep it to three.&lt;/p&gt;\n\n&lt;p&gt;First, I would\u2019ve stopped working on Arc a year earlier. Everything we ended up concluding \u2014 about growth, retention, how people actually used it \u2014 we had already seen in the data. We just didn\u2019t want to admit it. We knew. We were just in denial.&lt;/p&gt;\n\n&lt;p&gt;Second, I would\u2019ve embraced AI fully, sooner and unapologetically. The truth is I was obsessed. I\u2019d stay up late, after my family went to bed, playing with ChatGPT\u2014 not for work, but out of sheer curiosity.&lt;/p&gt;\n\n&lt;p&gt;But I also felt embarrassed. I hated so much of the industry hype (and how I was contributing to it). The buzzwords. The self-importance. It made me pull back from my own curiosity, even though it was real and deep. You can see this in how cautious\u00a0&lt;a href=\"https://www.youtube.com/watch?v=y7koAGLf0EE&amp;amp;t=793s\"&gt;our Arc Max rollout&lt;/a&gt;\u00a0was. I should have embraced my inspiration sooner and more boldly.&lt;/p&gt;\n\n&lt;p&gt;If you go back to our\u00a0&lt;a href=\"https://www.youtube.com/watch?v=WIeJF3kL5ng\"&gt;Act II video&lt;/a&gt;\u00a0\u2014 when we announced we were going to bring AI to the heart of Arc \u2014 it ends with a demo of a prototype we called\u00a0&lt;a href=\"https://youtu.be/WIeJF3kL5ng?feature=shared&amp;amp;t=302\"&gt;&lt;em&gt;Arc Explore&lt;/em&gt;&lt;/a&gt;. That idea is basically where Dia and a lot of other AI-native products are headed now. That\u2019s not to say we were ahead of our time, or anything like that. It\u2019s just to say our instincts were there long before our hearts caught up.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/9gl10qe1k73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=15526d7f750cc7d71662d56d41951e8e37442f42\"&gt;https://preview.redd.it/9gl10qe1k73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=15526d7f750cc7d71662d56d41951e8e37442f42&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://youtu.be/WIeJF3kL5ng?feature=shared&amp;amp;t=302\"&gt;Arc Explore prototype&lt;/a&gt;, as shared in our Act II video. January 2024.&lt;/p&gt;\n\n&lt;p&gt;Third, I would\u2019ve communicated very differently. We care so much about the people we build for. Always have. Saying it \u201cpains me\u201d to have made people mad doesn\u2019t really do it justice. In some moments, we were too transparent \u2014 like announcing Dia before we had the details to share. In others, not transparent enough \u2014 like taking too long to answer questions we knew people were asking.&lt;/p&gt;\n\n&lt;p&gt;A few years ago, a mentor told me to put a sticky note on my desk that said:\u00a0&lt;em&gt;\u201cThe truth will set you free.\u201d&lt;/em&gt;\u00a0I know. It sounds like a fortune cookie. But it\u2019s served me well, again and again. If I regret anything most, it\u2019s not using it more. This essay is our truth. It\u2019s uncomfortable to share. But we hope you can feel it was written with care and good intent.&lt;/p&gt;\n\n&lt;h1&gt;Why we built Arc&lt;/h1&gt;\n\n&lt;p&gt;In order to answer your real questions \u2014 why we pivoted to Dia, whether we can open source Arc, and more \u2014 I need to share a bit of background from the past. It informs what is possible (and not) today.&lt;/p&gt;\n\n&lt;p&gt;At its core, we started The Browser Company with a simple belief: the browser is the most important software in your life \u2014 and it wasn\u2019t getting the attention it deserved.&lt;/p&gt;\n\n&lt;p&gt;Back in 2019, it was already clear to us that everything was moving into the browser. My wife, who doesn\u2019t work in tech, was living in desktop Chrome all day. My six year old niece was doing school entirely in web apps. The macro trends all pointed the same direction too: cloud revenue was surging, breakout startups were browser-based (writing blog posts like \u201c&lt;a href=\"https://www.figma.com/blog/meet-us-in-the-browser/\"&gt;Meet us in the browser&lt;/a&gt;\u201d), crypto ran through browser extensions, WebAssembly was enabling novel experiences, and so on.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/fbcbw354k73f1.png?width=700&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=c1fc661039ec4e2e43bed7fe71466e60dc57bdae\"&gt;https://preview.redd.it/fbcbw354k73f1.png?width=700&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=c1fc661039ec4e2e43bed7fe71466e60dc57bdae&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Source: Amazon, Microsoft and Alphabet\u2019s investor relations website, via&lt;/em&gt;\u00a0&lt;a href=\"https://www.thestreet.com/amazon/aws/where-to-invest-in-the-cloud-wars-aws-vs-azure-vs-google-cloud\"&gt;&lt;em&gt;The Street&lt;/em&gt;&lt;/a&gt;&lt;em&gt;.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;Even back then, it felt like the dominant operating system on desktop wasn\u2019t Windows or macOS anymore \u2014 it was the browser. But Chrome and Safari still felt like the browsers we grew up with. They hadn\u2019t evolved with the shift. And both of these trends have only accelerated since. Some companies only issue enterprise versions of Chrome with new employee laptops (their companies fully run on SaaS apps), and Chrome and Safari remain essentially unchanged.&lt;/p&gt;\n\n&lt;p&gt;So that\u2019s why we made Arc. We wanted to build something that felt like \u201cyour home on the internet\u201d \u2014 for work projects, personal life, all the hours you spent in your browser every single day. Something that felt more like a product from Nintendo or Disney than from a browser vendor. Something with taste, care, feeling.&lt;/p&gt;\n\n&lt;p&gt;We wanted you to open Arc every morning and think, \u201cThis is mine, my space.\u201d And we called this north star vision the \u201c&lt;a href=\"https://www.youtube.com/watch?v=v0160IirdL4&amp;amp;t=336s\"&gt;Internet Computer&lt;/a&gt;.\u201d&lt;/p&gt;\n\n&lt;p&gt;But it increasingly became clear that Arc was falling short of that aspiration.&lt;/p&gt;\n\n&lt;h1&gt;Where Arc fell short&lt;/h1&gt;\n\n&lt;p&gt;After a couple of years of building and shipping Arc, we started running into something we called the \u201cnovelty tax\u201d problem. A lot of people loved Arc \u2014 if you\u2019re here you might just be one of them \u2014 and we\u2019d benefitted from consistent, organic growth since basically Day One. But for most people, Arc was simply too different, with too many new things to learn, for too little reward.&lt;/p&gt;\n\n&lt;p&gt;To get specific: D1 retention was strong \u2014 those who stuck around after a few days were\u00a0&lt;em&gt;fanatics \u2014&lt;/em&gt;\u00a0but our metrics were more like a highly specialized professional tool (like a video editor) than to a mass-market consumer product, which we aspired to be closer to.&lt;/p&gt;\n\n&lt;p&gt;On top of that, Arc lacked cohesion \u2014 in both its core features and core value. It was experimental, that was part of its charm, but also its complexity. And the revealed preferences of our members show this. What people actually used, loved, and valued differs from what the average tweet or Reddit comment assumes. Only 5.52% of DAUs use more than one Space regularly. Only 4.17% use Live Folders (including GitHub Live Folders). It&amp;#39;s 0.4% for one of our favorite features, Calendar Preview on Hover.&lt;/p&gt;\n\n&lt;p&gt;Switching browsers is a big ask. And the small things we loved about Arc \u2014 features you and other members appreciated \u2014 either weren\u2019t enough on their own or were too hard for most people to pick up. By contrast, core features in Dia, like chatting with tabs and personalization features, are used by 40% and 37% of DAUs respectively. This is the kind of clarity and immediate value we\u2019re working toward.&lt;/p&gt;\n\n&lt;p&gt;But these are the details. These are things you can toil over, measure, sculpt, remove.&lt;/p&gt;\n\n&lt;p&gt;The part that was hard to admit, is that Arc \u2014 and even Arc Search \u2014 were too incremental. They were meaningful, yes. But ultimately not at the scale of improvements that we aspired to. Or that could breakout as a mass-market product. If we were serious about our original mission, we needed a technological unlock to build something truly new.&lt;/p&gt;\n\n&lt;p&gt;In 2023, we started seeing it happen, across categories that felt just as old and cemented as browsers. ChatGPT and Perplexity were actually threatening Google. Cursor was reshaping the IDE. What\u2019s fascinating about both \u2014 search engines and IDEs \u2014 is that their users had been doing things the same way for decades. And yet, they were suddenly open to change.&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;This&lt;/em&gt;\u00a0was the moment we were waiting for.\u00a0This was a fundamental shift that could challenge user behavior and maybe lead to a true reimagining of the browser. Hopefully you can now see why Dia felt like a no-brainer. At least for us and our original aspirations.&lt;/p&gt;\n\n&lt;p&gt;So when people ask how venture capital influenced us \u2014 or why we didn\u2019t just charge for Arc and run a profitable business \u2014 I get it. They\u2019re fair questions. But to me, they miss the forest for the trees. If the goal was to build a small, profitable company with a great team and loyal customers, we wouldn\u2019t have chosen to try and build the successor to the web browser \u2013 the most ubiquitous piece of software there is. The point of this was always bigger for us: to build good, cared for software that could have an impact for people at real scale.&lt;/p&gt;\n\n&lt;p&gt;So if Arc fell short, why build something new versus evolve it?&lt;/p&gt;\n\n&lt;h1&gt;Why we didn\u2019t integrate Dia into Arc&lt;/h1&gt;\n\n&lt;p&gt;It\u2019s a great question. And for those\u00a0&lt;a href=\"https://open.spotify.com/show/512srmQyB2LQTLVQzIsFV3\"&gt;who followed our podcast last year,&lt;/a&gt;\u00a0you\u2019ll know that it\u2019s one we spent the entire summer grappling with before understanding that Dia and Arc were two separate products.&lt;/p&gt;\n\n&lt;p&gt;For starters, in many ways, we have approached Dia as an opportunity to fix what we got wrong with Arc.&lt;/p&gt;\n\n&lt;p&gt;First, simplicity over novelty. Early on, Scott Forstall told us Arc felt like a saxophone \u2014 powerful but hard to learn. Then he challenged us: make it a piano. Something anyone can sit down at and play. This is now the idea behind Dia: hide complexity behind familiar interfaces.&lt;/p&gt;\n\n&lt;p&gt;Second, speed isn\u2019t a tradeoff anymore \u2014 it\u2019s the foundation. Dia\u2019s architecture is fast. Really fast. Arc was bloated. We built too much, too quickly. With Dia, we started fresh from an architecture perspective and prioritized performance from the start. Specifically, sunsetting our use of TCA and SwiftUI to make Dia lightweight, snappy, and responsive.&lt;/p&gt;\n\n&lt;p&gt;Third, security is at the forefront. Dia is a different kind of product \u2013 to meet it, we grew our security engineering team from one to five. We\u2019re invested in red teaming, bug bounties, and internal audits. Our goal is to set the standard for small startups. Which is even more important in a world of AI, especially as more AI agents come online. We want to get out in front.&lt;/p&gt;\n\n&lt;p&gt;These are all things that need to be part of a product\u2019s foundation. Not afterthoughts. As we pushed the boundaries of whether this truly was Arc 2.0 last summer, we found that there were shortcomings in Arc that were too large to tackle retroactively, and that building a new type of software (&lt;a href=\"https://www.youtube.com/watch?v=lvw-85-6-4s\"&gt;and fast&lt;/a&gt;) required a new type of foundation.&lt;/p&gt;\n\n&lt;h1&gt;Will we open source Arc&lt;/h1&gt;\n\n&lt;p&gt;Which brings us to the present.&lt;/p&gt;\n\n&lt;p&gt;As we started exploring what might come next, we never stopped maintaining Arc. We do regular Chromium upgrades, fix security vulnerabilities, related bugs, and more. Honestly, most people haven\u2019t even noticed that we stopped actively building new features \u2014 which says something about what most people want from Arc (stability not more stuff to learn).&lt;/p&gt;\n\n&lt;p&gt;But it is true: we are not actively developing the core product experience like we used to. Naturally, people have asked: will we open source it? Will we sell it? We\u2019ve considered both extensively.&lt;/p&gt;\n\n&lt;p&gt;But the truth is it\u2019s complicated.&lt;/p&gt;\n\n&lt;p&gt;Arc isn\u2019t just a Chromium fork. It runs on custom infrastructure we call ADK \u2014 the Arc Development Kit. Think of it as an internal SDK for building browsers (especially those with imaginative interfaces). That\u2019s our secret sauce. It lets ex-iOS engineers prototype native browser UI quickly, without touching C++. That\u2019s why most browsers don\u2019t dare to try new things. It\u2019s too costly. Too complex to break from Chrome.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/7ydnni08k73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=861d5240154ec58034410ab6e19f2a0b6bd4736e\"&gt;https://preview.redd.it/7ydnni08k73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=861d5240154ec58034410ab6e19f2a0b6bd4736e&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Where ADK sits in our browser infrastructure as shared in our&lt;/em&gt;\u00a0&lt;a href=\"https://youtu.be/C25g53PC5QQ?feature=shared&amp;amp;t=187\"&gt;&lt;em&gt;Dia recruitment video&lt;/em&gt;&lt;/a&gt;&lt;em&gt;.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;ADK is also the foundation of Dia. So while we\u2019d love to open source Arc someday, we can\u2019t do that meaningfully without also open-sourcing ADK. And ADK is still core to our company\u2019s value. That doesn\u2019t mean it\u2019ll never happen. If the day comes where it no longer puts our team or shareholders at risk, we\u2019d be excited to share what we\u2019ve built with the world. But we\u2019re not there yet.&lt;/p&gt;\n\n&lt;p&gt;In the meantime, please know this: we\u2019re not trying to shut Arc down. We know you use it and rely on it. Many of our family and friends do, too. We still love it, spent years of our life on it \u2014 and whether it\u2019s through us or the community, our hope and intention is that Arc finds a future that\u2019s just as considered as its past. If you have ideas, I\u2019d love to hear from you. I\u2019m\u00a0[&lt;a href=\"mailto:josh@thebrowser.company\"&gt;josh@thebrowser.company&lt;/a&gt;](mailto:&lt;a href=\"mailto:josh@thebrowser.company\"&gt;josh@thebrowser.company&lt;/a&gt;).&lt;/p&gt;\n\n&lt;h1&gt;Building Dia&lt;/h1&gt;\n\n&lt;p&gt;I want to end by being frank with you: Dia is not\u00a0&lt;em&gt;really&lt;/em&gt;\u00a0a reaction to Arc and its shortcomings. No. Imagine writing an essay justifying why you were moving on from your candle business at the dawn of electric light. Electric intelligence is here \u2014 and it would be naive of us to pretend it doesn\u2019t fundamentally change the kind of product we need to build to meet the moment.&lt;/p&gt;\n\n&lt;p&gt;Let me be even more clear: traditional browsers, as we know them, will die. Much in the same way that search engines and IDEs are being reimagined. That doesn\u2019t mean we\u2019ll stop searching or coding. It just means the environments we do it in will look very different, in a way that makes traditional browsers, search engines, and IDEs feel like candles \u2014 however thoughtfully crafted. We\u2019re getting out of the candle business. You should too.&lt;/p&gt;\n\n&lt;p&gt;\u201cWait, so The Browser Company isn\u2019t making browsers anymore?\u201d You better believe we are! But an AI browser is going to be different than a Web browser \u2014 as it should be. I believe this more than ever, and we\u2019re already seeing it in three ways:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Webpages won\u2019t be the primary interface anymore&lt;/strong&gt;. Traditional browsers were built to load webpages. But increasingly, webpages \u2014 apps, articles, and files \u2014 will become tool calls with AI chat interfaces. In many ways, chat interfaces are already acting like browsers: they search, read, generate, respond. They interact with APIs, LLMs, databases. And people are spending hours a day in them. If you\u2019re skeptical, call a cousin in high school or college \u2014 natural language interfaces, which abstract away the tedium of old computing paradigms, are here to stay.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;But the Web isn\u2019t going anywhere \u2014 at least not anytime soon.&lt;/strong&gt;\u00a0Figma and The New York Times aren\u2019t becoming less important. Your boss isn\u2019t ditching your team\u2019s SaaS tools. Quite the opposite. We\u2019ll still need to edit documents, watch videos, read weekend articles from our favorite publishers. Said more directly: webpages won\u2019t be replaced \u2014 they\u2019ll remain essential. Our tabs aren\u2019t expendable, they are our core context. That is why we think the most powerful interface to AI on desktop won\u2019t be a web browser or an AI chat interface \u2014 it\u2019ll be both. Like peanut butter and jelly. Just as the iPhone combined old categories into something radically new, so too will AI browsers. Even if it\u2019s not ours that wins.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;New interfaces start from familiar ones&lt;/strong&gt;. In this new world, two opposing forces are simultaneously true. How we all use computers is changing much faster (due to AI) than most people acknowledge. Yet at the same time, we\u2019re much farther from completely abandoning our old ways than AI insiders give credit for. Cursor proved this thesis in the coding space: the breakthrough AI app of the past year was an (old) IDE \u2014 designed to be AI-native. OpenAI confirmed this theory when they bought Windsurf (another AI IDE), despite having Codex working quietly in the background. We believe AI browsers are next.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;This is why we\u2019re building Dia. It is the opportunity to chase\u00a0&lt;em&gt;the&lt;/em&gt;\u00a0product of our original ambition: a true successor to the browser \u2014 maybe even the \u201cInternet Computer\u201d we\u2019ve been building toward all along \u2014 only in ways we couldn\u2019t have predicted.&lt;/p&gt;\n\n&lt;p&gt;To be clear, we might fail. Or we might partially succeed but not win. We still\u00a0&lt;a href=\"https://thebrowser.company/values/#assume\"&gt;&lt;em&gt;assume we don\u2019t know&lt;/em&gt;&lt;/a&gt;. But we\u2019re confident about this: five years from now, the most-used AI interfaces on desktop will replace the default browsers of yesteryear. Like today, there will probably be a few of them (Chrome, Safari, Edge). But the point is this, the next Chrome is being built right now. Whether it\u2019s Dia or not.&lt;/p&gt;\n\n&lt;h1&gt;Your home on the internet&lt;/h1&gt;\n\n&lt;p&gt;The Browser Company is a team that assembled for the chance \u2014 however slim \u2014 to build something that rewired how we use our computers. Something that might, just\u00a0&lt;em&gt;might&lt;/em&gt;, be used by hundreds of millions. A piece of software that actually shapes how people live and work. Not just an app, but an Internet Computer. That\u2019s what drew us in. And that\u2019s why we\u2019re proud of the decisions we made.&lt;/p&gt;\n\n&lt;p&gt;Dia may not be your style. It may not land right away. But this is still us. Being ourselves. Building the kind of thing we\u2019d want to use. Fully aware that we might be wrong. But doing it anyway. Because we think the intent matters. And we think that\u2019s what got us this far.&lt;/p&gt;\n\n&lt;p&gt;This is our truth, and we sincerely hope that you\u2019ll like what comes next.&lt;/p&gt;\n\n&lt;p&gt;\u2013 Josh&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/4vecmpu9k73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=98507ea1edcbeb2ec52e5797dc1fc49db36ae7d4\"&gt;https://preview.redd.it/4vecmpu9k73f1.png?width=1456&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=98507ea1edcbeb2ec52e5797dc1fc49db36ae7d4&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;The Browser Company of New York, April 2025.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;P.S. For those of you who do want to try Dia, we\u2019re excited to open access for Arc members next, as the first expansion of our alpha beyond students.&lt;/em&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "top", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "9753be1a-6a3c-11ee-84f6-5eab234a4fd6", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_3kbwy", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#3139fb", "id": "1kw8dfl", "is_robot_indexable": true, "report_reasons": null, "author": "JaceThings", "discussion_type": null, "num_comments": 390, "send_replies": true, "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ArcBrowser/comments/1kw8dfl/letter_to_arc_members_2025_on_arc_its_future_and/", "stickied": true, "url": "https://www.reddit.com/r/ArcBrowser/comments/1kw8dfl/letter_to_arc_members_2025_on_arc_its_future_and/", "subreddit_subscribers": 56740, "created_utc": 1748300983.0, "num_crossposts": 0, "media": null, "is_video": false}}], "before": null}}}