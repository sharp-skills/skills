{"d": [{"url": "https://api.github.com/repos/typesense/typesense/issues/210", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/210/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/210/events", "html_url": "https://github.com/typesense/typesense/issues/210", "id": 797755219, "node_id": "MDU6SXNzdWU3OTc3NTUyMTk=", "number": 210, "title": "Range filter works incorrectly (URL encoding issue)", "user": {"login": "v-byte-cpu", "id": 65545655, "node_id": "MDQ6VXNlcjY1NTQ1NjU1", "avatar_url": "https://avatars.githubusercontent.com/u/65545655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-byte-cpu", "html_url": "https://github.com/v-byte-cpu", "followers_url": "https://api.github.com/users/v-byte-cpu/followers", "following_url": "https://api.github.com/users/v-byte-cpu/following{/other_user}", "gists_url": "https://api.github.com/users/v-byte-cpu/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-byte-cpu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-byte-cpu/subscriptions", "organizations_url": "https://api.github.com/users/v-byte-cpu/orgs", "repos_url": "https://api.github.com/users/v-byte-cpu/repos", "events_url": "https://api.github.com/users/v-byte-cpu/events{/privacy}", "received_events_url": "https://api.github.com/users/v-byte-cpu/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 31, "created_at": "2021-01-31T16:48:12Z", "updated_at": "2021-07-22T03:07:57Z", "closed_at": "2021-04-28T02:46:48Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nI tried to filter documents by **duration** int32 field using the following filter expression:\r\n\r\n```\r\nduration:<=1200\r\n```\r\n\r\nit returned 506 pages\r\n\r\nthen I appended another condition:\r\n\r\n```\r\nduration:>=600 && duration:<=1200\r\n```\r\n\r\nobviously it should return less or equal to 506 pages, but it returns 1185 pages\r\n\r\nP.S. filter `duration:>=600` also returns 1185 pages\r\n\r\nI tried other combinations like `duration: [>=600, <=1200]` without success.\r\n\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/210/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/1002", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/1002/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/1002/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/1002/events", "html_url": "https://github.com/typesense/typesense/issues/1002", "id": 1698768738, "node_id": "I_kwDOBLpIx85lQSdi", "number": 1002, "title": "Typesense crashes when locale of the field is ja (Japanese) in Ubuntu 22.04 ARM64 Docker", "user": {"login": "despenser08", "id": 50207925, "node_id": "MDQ6VXNlcjUwMjA3OTI1", "avatar_url": "https://avatars.githubusercontent.com/u/50207925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/despenser08", "html_url": "https://github.com/despenser08", "followers_url": "https://api.github.com/users/despenser08/followers", "following_url": "https://api.github.com/users/despenser08/following{/other_user}", "gists_url": "https://api.github.com/users/despenser08/gists{/gist_id}", "starred_url": "https://api.github.com/users/despenser08/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/despenser08/subscriptions", "organizations_url": "https://api.github.com/users/despenser08/orgs", "repos_url": "https://api.github.com/users/despenser08/repos", "events_url": "https://api.github.com/users/despenser08/events{/privacy}", "received_events_url": "https://api.github.com/users/despenser08/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 5613608096, "node_id": "LA_kwDOBLpIx88AAAABTpjcoA", "url": "https://api.github.com/repos/typesense/typesense/labels/locale", "name": "locale", "color": "68EC87", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 30, "created_at": "2023-05-06T20:32:59Z", "updated_at": "2023-08-19T12:01:49Z", "closed_at": "2023-08-19T12:01:49Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nTypesense crashes if client tries to import Japanese in `locale: \"ja\"` field.\r\n\r\n## Steps to reproduce\r\n\r\n1. Create a collection that contains `locale: \"ja\"` field. I used the code using Node.js with `typesense@1.5.3`:\r\n\r\n```ts\r\nawait typesense.collections().create({ name: \"test\", fields: [{ name: \"japanese\", type: \"string\", locale: \"ja\" }] });\r\n```\r\n\r\n2. Then, import the document to the collection created.\r\n\r\n```ts\r\nawait typesense\r\n      .collections(\"test\")\r\n      .documents()\r\n      .import([{ japanese: \"\u3053\u3093\u306b\u3061\u306f\" }, { japanese: \"\u307e\u305f\u306d\" }], { action: \"upsert\" });\r\n```\r\n\r\n## Expected Behavior\r\n\r\nTypesense should not crash when importing documents in Japanese.\r\n\r\n## Actual Behavior\r\n\r\n```\r\nE20230506 20:16:24.619741    12 backward.hpp:4199] Stack trace (most recent call last) in thread 12:\r\nE20230506 20:16:24.619771    12 backward.hpp:4199] #16   Object \"/usr/lib/aarch64-linux-gnu/ld-linux-aarch64.so.1\", at 0xffffffffffffffff, in \r\nE20230506 20:16:24.619776    12 backward.hpp:4199] #15   Object \"/usr/lib/aarch64-linux-gnu/libc.so.6\", at 0xffffa5e75d1b, in \r\nE20230506 20:16:24.619777    12 backward.hpp:4199] #14   Object \"/usr/lib/aarch64-linux-gnu/libc.so.6\", at 0xffffa5e0d5c7, in \r\nE20230506 20:16:24.619781    12 backward.hpp:4199] #13   Object \"/opt/typesense-server\", at 0x1367cbb, in execute_native_thread_routine\r\nE20230506 20:16:24.619782    12 backward.hpp:4199] #12 | Source \"/usr/local/include/c++/10.3.0/thread\", line 215, in operator()\r\nE20230506 20:16:24.619784    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/thread\", line 271, in _M_invoke<0>\r\nE20230506 20:16:24.619791    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/thread\", line 264, in __invoke<ThreadPool::ThreadPool(size_t)::<lambda()> >\r\nE20230506 20:16:24.619793    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 95, in __invoke_impl<void, ThreadPool::ThreadPool(size_t)::<lambda()> >\r\nE20230506 20:16:24.619796    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 60, in operator()\r\nE20230506 20:16:24.619799    12 backward.hpp:4199]     | Source \"/typesense/include/threadpool.h\", line 57, in operator()\r\nE20230506 20:16:24.619801    12 backward.hpp:4199]       Source \"/usr/local/include/c++/10.3.0/future\", line 1568, in _M_run [0x49c403]\r\nE20230506 20:16:24.619803    12 backward.hpp:4199] #11 | Source \"/usr/local/include/c++/10.3.0/future\", line 1435, in _M_set_result\r\nE20230506 20:16:24.619807    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/future\", line 412, in call_once<void (std::__future_base::_State_baseV2::*)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>()>*, bool*), std::__future_base::_State_baseV2*, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>()>*, bool*>\r\nE20230506 20:16:24.619808    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/mutex\", line 729, in __gthread_once\r\nE20230506 20:16:24.619810    12 backward.hpp:4199]       Source \"/usr/local/include/c++/10.3.0/aarch64-linux-gnu/bits/gthr-default.h\", line 700, in _M_run [0x574a1b]\r\nE20230506 20:16:24.619812    12 backward.hpp:4199] #10   Object \"/usr/lib/aarch64-linux-gnu/libc.so.6\", at 0xffffa5e125d3, in \r\nE20230506 20:16:24.619815    12 backward.hpp:4199] #9  | Source \"/usr/local/include/c++/10.3.0/future\", line 572, in operator()\r\nE20230506 20:16:24.619817    12 backward.hpp:4199]       Source \"/usr/local/include/c++/10.3.0/bits/std_function.h\", line 622, in _M_do_set [0x499f9b]\r\nE20230506 20:16:24.619820    12 backward.hpp:4199] #8  | Source \"/usr/local/include/c++/10.3.0/bits/std_function.h\", line 292, in __invoke_r<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>, std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, std::__future_base::_Task_state<_Fn, _Alloc, _Res(_Args ...)>::_M_run<std::_Bind<Index::batch_memory_index(Index*, std::vector<index_record>&, const string&, const tsl::htrie_map<char, field>&, const string&, const std::vector<char, std::allocator<char> >&, const std::vector<char, std::allocator<char> >&, bool)::<lambda()>()>, std::allocator<int>, void, {}>::<lambda()>, void>&>\r\nE20230506 20:16:24.619823    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 115, in __invoke_impl<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, std::__future_base::_Task_state<_Fn, _Alloc, _Res(_Args ...)>::_M_run<std::_Bind<Index::batch_memory_index(Index*, std::vector<index_record>&, const string&, const tsl::htrie_map<char, field>&, const string&, const std::vector<char, std::allocator<char> >&, const std::vector<char, std::allocator<char> >&, bool)::<lambda()>()>, std::allocator<int>, void, {}>::<lambda()>, void>&>\r\nE20230506 20:16:24.619827    12 backward.hpp:4199]       Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 60, in _M_invoke [0x5a4147]\r\nE20230506 20:16:24.619828    12 backward.hpp:4199] #7  | Source \"/usr/local/include/c++/10.3.0/future\", line 1373, in operator()\r\nE20230506 20:16:24.619830    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/future\", line 1432, in __invoke_r<void, std::_Bind<Index::batch_memory_index(Index*, std::vector<index_record>&, const string&, const tsl::htrie_map<char, field>&, const string&, const std::vector<char, std::allocator<char> >&, const std::vector<char, std::allocator<char> >&, bool)::<lambda()>()>&>\r\nE20230506 20:16:24.620000    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 110, in __invoke_impl<void, std::_Bind<Index::batch_memory_index(Index*, std::vector<index_record>&, const string&, const tsl::htrie_map<char, field>&, const string&, const std::vector<char, std::allocator<char> >&, const std::vector<char, std::allocator<char> >&, bool)::<lambda()>()>&>\r\nE20230506 20:16:24.620012    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 60, in operator()<>\r\nE20230506 20:16:24.620016    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/functional\", line 499, in __call<void>\r\nE20230506 20:16:24.620018    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/functional\", line 416, in __invoke<Index::batch_memory_index(Index*, std::vector<index_record>&, const string&, const tsl::htrie_map<char, field>&, const string&, const std::vector<char, std::allocator<char> >&, const std::vector<char, std::allocator<char> >&, bool)::<lambda()>&>\r\nE20230506 20:16:24.620021    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 95, in __invoke_impl<void, Index::batch_memory_index(Index*, std::vector<index_record>&, const string&, const tsl::htrie_map<char, field>&, const string&, const std::vector<char, std::allocator<char> >&, const std::vector<char, std::allocator<char> >&, bool)::<lambda()>&>\r\nE20230506 20:16:24.620023    12 backward.hpp:4199]     | Source \"/usr/local/include/c++/10.3.0/bits/invoke.h\", line 60, in operator()\r\nE20230506 20:16:24.620025    12 backward.hpp:4199]       Source \"/typesense/src/index.cpp\", line 699, in operator() [0x5a4043]\r\nE20230506 20:16:24.620028    12 backward.hpp:4199] #6    Source \"/typesense/src/index.cpp\", line 635, in validate_and_preprocess [0x5a383f]\r\nE20230506 20:16:24.620029    12 backward.hpp:4199] #5    Source \"/typesense/src/index.cpp\", line 312, in compute_token_offsets_facets [0x5a2ce3]\r\nE20230506 20:16:24.620033    12 backward.hpp:4199] #4    Source \"/typesense/src/index.cpp\", line 1153, in tokenize_string_with_facets [0x5a1f33]\r\nE20230506 20:16:24.620034    12 backward.hpp:4199] #3    Source \"/typesense/src/tokenizer.cpp\", line 30, in Tokenizer [0x63726b]\r\nE20230506 20:16:24.620036    12 backward.hpp:4199] #2    Source \"/typesense/src/tokenizer.cpp\", line 63, in init [0x636f0f]\r\nE20230506 20:16:24.620039    12 backward.hpp:4199] #1    Source \"/typesense/external-Linux/kakasi-9e0825a02c7ea5605e968f6208f769f7c49d6860/lib/libkakasi.c\", line 744, in kakasi_do [0x65bea3]\r\nE20230506 20:16:24.620041    12 backward.hpp:4199] #0    Source \"/typesense/external-Linux/kakasi-9e0825a02c7ea5605e968f6208f769f7c49d6860/lib/libkanjiio.c\", line 211, in getpbstr [0x65c624]\r\nSegmentation fault (Address not mapped to object [0x10])\r\nI20230506 20:16:25.094942    12 batched_indexer.cpp:367] Saving currently applying index: 3\r\nE20230506 20:16:25.095103    12 typesense_server.cpp:102] Typesense 0.24.1 is terminating abruptly.\r\n```\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 0.24.1\r\n\r\n**OS**:\r\n```\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 22.04.2 LTS\r\nRelease:        22.04\r\nCodename:       jammy\r\n```\r\n```\r\nServer: Docker Engine - Community\r\n Engine:\r\n  Version:          23.0.5\r\n  API version:      1.42 (minimum version 1.12)\r\n  Go version:       go1.19.8\r\n  Git commit:       94d3ad6\r\n  Built:            Wed Apr 26 16:19:26 2023\r\n  OS/Arch:          linux/arm64\r\n  Experimental:     false\r\n containerd:\r\n  Version:          1.6.20\r\n  GitCommit:        2806fc1057397dbaeefbea0e4e17bddfbd388f38\r\n runc:\r\n  Version:          1.1.5\r\n  GitCommit:        v1.1.5-0-gf19387a\r\n docker-init:\r\n  Version:          0.19.0\r\n  GitCommit:        de40ad0\r\n```\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/1002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/1002/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/1067", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/1067/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/1067/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/1067/events", "html_url": "https://github.com/typesense/typesense/issues/1067", "id": 1768812714, "node_id": "I_kwDOBLpIx85pbfCq", "number": 1067, "title": "OOM for collection export", "user": {"login": "Bug-Reaper", "id": 31227781, "node_id": "MDQ6VXNlcjMxMjI3Nzgx", "avatar_url": "https://avatars.githubusercontent.com/u/31227781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bug-Reaper", "html_url": "https://github.com/Bug-Reaper", "followers_url": "https://api.github.com/users/Bug-Reaper/followers", "following_url": "https://api.github.com/users/Bug-Reaper/following{/other_user}", "gists_url": "https://api.github.com/users/Bug-Reaper/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bug-Reaper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bug-Reaper/subscriptions", "organizations_url": "https://api.github.com/users/Bug-Reaper/orgs", "repos_url": "https://api.github.com/users/Bug-Reaper/repos", "events_url": "https://api.github.com/users/Bug-Reaper/events{/privacy}", "received_events_url": "https://api.github.com/users/Bug-Reaper/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 26, "created_at": "2023-06-22T02:14:43Z", "updated_at": "2023-08-19T11:59:59Z", "closed_at": "2023-08-19T11:59:58Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nCan't export a large collection, it maxes out memory usage, hangs, then crashes. Our database is primarily one large collection (approx 4.5million documents) and the `typesense-server` binary sits at around 26Gib memory usage while idle and total system memory is 64Gib.\r\n\r\nWe thought maybe with upgrade from `0.24.0` to `0.24.1` this may not be an issue. As per patch note:\r\n> [New in v0.24.1] Improved memory footprint of export API.\r\n\r\nHowever in practice, export failed the same way for both versions. When we previously only had ~3 million records we were still able to export without issue.\r\n\r\n## Steps to reproduce\r\n\r\n1. Export a very large collection via `collections/<CollectionName>/export` endpoint.\r\n2. Memory maxes out and `typesense-server` crashes fatally.\r\n\r\n## Expected Behavior\r\n\r\n1. Make export request.\r\n2. Memory usage increases some.\r\n3. As request is processed and the data is sent, some of the already sent data is periodically free-ed from memory.\r\n4. Exported ljson file is successfully downloaded.\r\n\r\nWe'd also accept a slower export if it meant larger collections could be exported gracefully. Ideally nice if the database does not crash if OOM occurs but understand this may not be possible.\r\n\r\n## Actual Behavior\r\n\r\n1. `wget 'http://<ServerIP>:80/collections/<LargeCollection>/documents/export?x-typesense-api-key=...'`\r\n2. Memory usage increases linearly\r\n3. Memory usage maxed complete 64Gib system capacity.\r\n4. In total `wget` received around 34 Gib of collection data. Observed download rate plummeted to ~200kilobytes from ~250mbs when memory maxed out at the end. \r\n6. Incomplete collection data download and `typesense-server` crashed about a minute after memory usage was maxed out.\r\n7. Downtime of over an hour while `typesense-server` initializes and caches database back into memory.\r\n\r\n<img width=\"1606\" alt=\"Screenshot 2023-06-22 at 3 30 56 AM\" src=\"https://github.com/typesense/typesense/assets/31227781/5aff78e8-8c4d-47bd-a6ad-cdce9bc6861a\">\r\n<img width=\"120\" alt=\"Screenshot 2023-06-22 at 3 28 25 AM\" src=\"https://github.com/typesense/typesense/assets/31227781/09d8d664-e976-4a74-a905-65b9eeae9363\">\r\n\r\n**Typesense Version**:\r\n0.24.1\r\n\r\n**OS**:\r\nArch Linux (Amd-64 exec)", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/1067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/1067/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/244", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/244/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/244/events", "html_url": "https://github.com/typesense/typesense/issues/244", "id": 832723124, "node_id": "MDU6SXNzdWU4MzI3MjMxMjQ=", "number": 244, "title": "Creating a specific key", "user": {"login": "fbergroth", "id": 1211003, "node_id": "MDQ6VXNlcjEyMTEwMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1211003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fbergroth", "html_url": "https://github.com/fbergroth", "followers_url": "https://api.github.com/users/fbergroth/followers", "following_url": "https://api.github.com/users/fbergroth/following{/other_user}", "gists_url": "https://api.github.com/users/fbergroth/gists{/gist_id}", "starred_url": "https://api.github.com/users/fbergroth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fbergroth/subscriptions", "organizations_url": "https://api.github.com/users/fbergroth/orgs", "repos_url": "https://api.github.com/users/fbergroth/repos", "events_url": "https://api.github.com/users/fbergroth/events{/privacy}", "received_events_url": "https://api.github.com/users/fbergroth/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 520789521, "node_id": "MDU6TGFiZWw1MjA3ODk1MjE=", "url": "https://api.github.com/repos/typesense/typesense/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 23, "created_at": "2021-03-16T11:58:00Z", "updated_at": "2022-01-24T08:17:46Z", "closed_at": "2021-05-03T03:26:36Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nI would like to be able to specify a specific key for searching, like `--search-only-api-key`, but it's been marked deprecated and doesn't seem to work either. It seems keys created via the key management endpoint are always randomly generated.\r\n\r\nI'm using typesense for read-only data, and sometimes I reload the data with another snapshot. Instead of mutating the existing collection, I would like to simply start from scratch, create the collection, fill it with data, and re-create the same key for searching.\r\n\r\nIs there any way to do this?\r\n\r\nCheers!", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/244/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/1254", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/1254/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/1254/events", "html_url": "https://github.com/typesense/typesense/issues/1254", "id": 1913849319, "node_id": "I_kwDOBLpIx85yEwXn", "number": 1254, "title": "Use Auto Embedding for querying but not for indexing", "user": {"login": "alihassan0", "id": 10929015, "node_id": "MDQ6VXNlcjEwOTI5MDE1", "avatar_url": "https://avatars.githubusercontent.com/u/10929015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alihassan0", "html_url": "https://github.com/alihassan0", "followers_url": "https://api.github.com/users/alihassan0/followers", "following_url": "https://api.github.com/users/alihassan0/following{/other_user}", "gists_url": "https://api.github.com/users/alihassan0/gists{/gist_id}", "starred_url": "https://api.github.com/users/alihassan0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alihassan0/subscriptions", "organizations_url": "https://api.github.com/users/alihassan0/orgs", "repos_url": "https://api.github.com/users/alihassan0/repos", "events_url": "https://api.github.com/users/alihassan0/events{/privacy}", "received_events_url": "https://api.github.com/users/alihassan0/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}, {"id": 5871111891, "node_id": "LA_kwDOBLpIx88AAAABXfIO0w", "url": "https://api.github.com/repos/typesense/typesense/labels/feature:vectorsearch", "name": "feature:vectorsearch", "color": "4B0244", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 19, "created_at": "2023-09-26T16:06:50Z", "updated_at": "2024-10-29T21:25:04Z", "closed_at": "2024-01-16T10:02:01Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nwe were trying auto embedding on a new collection but it was using way too much of the server resources and eventually caused the server to crash. \r\n\r\nI was thinking to use the same model for embedding the data before indexing. and then typesense will only need to generate embeddings for the query on runtime. \r\n\r\nI tried multiple solutions to do this yet there doesn't seem to be a way to have the schema use an already generated embeddings and internally generate embeddings for the query. \r\n\r\n## Steps to reproduce\r\n\r\n- clone https://github.com/typesense/typesense-instantsearch-semantic-search-demo\r\n- update the schema to auto embed the vectors db. just remove the from field for example.  \r\n\r\n## Expected Behavior\r\n\r\nyou are able to query the collection normally with auto generated embedded for the query. \r\n\r\n## Actual Behavior\r\n\r\nthe schema will not be accepted and will still need to generate embedding automatically on the server\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 0.25.1\r\n\r\n**OS**: ubunto\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/1254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/1254/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/125", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/125/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/125/events", "html_url": "https://github.com/typesense/typesense/issues/125", "id": 684206607, "node_id": "MDU6SXNzdWU2ODQyMDY2MDc=", "number": 125, "title": "Unexpected partial matches on facetted field", "user": {"login": "fabien", "id": 2749, "node_id": "MDQ6VXNlcjI3NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabien", "html_url": "https://github.com/fabien", "followers_url": "https://api.github.com/users/fabien/followers", "following_url": "https://api.github.com/users/fabien/following{/other_user}", "gists_url": "https://api.github.com/users/fabien/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabien/subscriptions", "organizations_url": "https://api.github.com/users/fabien/orgs", "repos_url": "https://api.github.com/users/fabien/repos", "events_url": "https://api.github.com/users/fabien/events{/privacy}", "received_events_url": "https://api.github.com/users/fabien/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-08-23T15:44:50Z", "updated_at": "2020-09-19T05:07:28Z", "closed_at": "2020-09-19T05:07:28Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nFrom what I understand, facetted fields are used verbatim, and `filter_by` queries on such fields would not return hits on partially matched terms. As an example (which is similar to what I was experiencing in my app, using hierarchical facets, lvl0, lvl1, lvl2), I'm using this dataset:\r\n\r\nhttps://github.com/typesense/typesense-instantsearch-adapter/blob/master/test/support/populateTypesenseIndex.js\r\n\r\n## Steps to reproduce\r\n\r\nrun populateTypesenseIndex.js\r\n\r\n`http://localhost:8108/collections/products/documents/search?q=*&filter_by=categories.lvl2:Phone`\r\n\r\n## Expected Behavior\r\n\r\nI would expect nothing to be returned, because there are no `categories.lvl2` entries that equal just `Phone`, but for example: `Cell Phones > Cell Phone Accessories > Data Cables` - this causes many irrelevant hits, it seems.\r\n\r\n## Actual Behavior\r\n\r\nI get many results, for any `categories.lvl2` entry that just **contains** the term `Phone`.\r\n\r\nIn reality, I would filter by full hierarchical terms, like: \r\n\r\n`Cell Phones > Cell Phone Accessories > Data Cables`\r\n\r\nIn my app, when I filter by `Clothing > Men` I get matches for items that actually have `Clothing > Women` assigned, which defeats the purpose of course.\r\n\r\n## Metadata\r\n\r\n**Typsense Version**: 0.14\r\n\r\n**OS**: Docker\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/125/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/871", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/871/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/871/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/871/events", "html_url": "https://github.com/typesense/typesense/issues/871", "id": 1565778091, "node_id": "I_kwDOBLpIx85dU-Cr", "number": 871, "title": "Exhaustive Search Not returning results", "user": {"login": "e-lobo", "id": 41537985, "node_id": "MDQ6VXNlcjQxNTM3OTg1", "avatar_url": "https://avatars.githubusercontent.com/u/41537985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-lobo", "html_url": "https://github.com/e-lobo", "followers_url": "https://api.github.com/users/e-lobo/followers", "following_url": "https://api.github.com/users/e-lobo/following{/other_user}", "gists_url": "https://api.github.com/users/e-lobo/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-lobo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-lobo/subscriptions", "organizations_url": "https://api.github.com/users/e-lobo/orgs", "repos_url": "https://api.github.com/users/e-lobo/repos", "events_url": "https://api.github.com/users/e-lobo/events{/privacy}", "received_events_url": "https://api.github.com/users/e-lobo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2023-02-01T09:43:12Z", "updated_at": "2023-05-11T08:56:31Z", "closed_at": "2023-04-10T09:11:03Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nExhaustive Search is not working as expected as it used to in version 0.23\r\n\r\n## Steps to reproduce\r\n\r\nNotice the screenshots:\r\n\r\nScreenshot 1\r\n<img width=\"1202\" alt=\"image\" src=\"https://user-images.githubusercontent.com/41537985/216006348-b3a86696-d165-4af0-ae02-1bac67719c86.png\">\r\n\r\nScreentshot 2\r\n<img width=\"1058\" alt=\"image\" src=\"https://user-images.githubusercontent.com/41537985/216006511-7d3a8f29-920e-4da7-a8cf-ea06b9b7c7e4.png\">\r\n\r\n\r\n## Expected Behavior\r\n\r\nwe expect to see the products seen in screenshot 1 when querying the second time in screenshot 2\r\n\r\n## Actual Behavior\r\n\r\nwe cannot see all the products which are seen in screenshot 1 in screenshot 2\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 0.24\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/871/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/871/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/217", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/217/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/217/events", "html_url": "https://github.com/typesense/typesense/issues/217", "id": 805800865, "node_id": "MDU6SXNzdWU4MDU4MDA4NjU=", "number": 217, "title": "Multi-Search does not work with API key", "user": {"login": "Nick-Mazuk", "id": 5659171, "node_id": "MDQ6VXNlcjU2NTkxNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5659171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nick-Mazuk", "html_url": "https://github.com/Nick-Mazuk", "followers_url": "https://api.github.com/users/Nick-Mazuk/followers", "following_url": "https://api.github.com/users/Nick-Mazuk/following{/other_user}", "gists_url": "https://api.github.com/users/Nick-Mazuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nick-Mazuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nick-Mazuk/subscriptions", "organizations_url": "https://api.github.com/users/Nick-Mazuk/orgs", "repos_url": "https://api.github.com/users/Nick-Mazuk/repos", "events_url": "https://api.github.com/users/Nick-Mazuk/events{/privacy}", "received_events_url": "https://api.github.com/users/Nick-Mazuk/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-02-10T19:25:17Z", "updated_at": "2022-10-06T16:35:44Z", "closed_at": "2021-02-16T19:15:09Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nWhen using the `/multi_search` endpoint with a restricted API key, it returns a 401 error.\r\n\r\n```json\r\n{\r\n    \"message\": \"Forbidden - a valid `x-typesense-api-key` header must be sent.\"\r\n}\r\n```\r\n\r\nThis is likely an issue with the API key since doing the same query with the master API key succeeds. This may be because I created the API key incorrectly, but I don't think so.\r\n\r\n## Steps to reproduce\r\n\r\nI created an API key with the JS client.\r\n\r\n```js\r\nconst response = await client.keys().create({\r\n  actions: ['documents:search'],\r\n  collections: ['music'],\r\n  description: 'Front-end search'\r\n})\r\n\r\nconsole.log(response)\r\n// {\r\n//   actions: [ 'documents:search' ],\r\n//   collections: [ 'music' ],\r\n//   description: 'Front-end search',\r\n//   expires_at: 64723363199,\r\n//   id: 0,\r\n//   value: 'restricted_api_key'\r\n// }\r\n```\r\n\r\nNext, try searching\r\n\r\n```bash\r\ncurl --request POST \\\r\n  --url 'https://example.com/multi_search \\\r\n  --header 'Content-Type: text/plain' \\\r\n  --header 'X-Typesense-API-Key: restricted_api_key' \\\r\n  --data '{\r\n    \"searches\": [\r\n      {\r\n        \"q\": \"John\",\r\n        \"query_by\": \"title\",\r\n        \"collection\": \"music\"\r\n      }\r\n      ]\r\n    }'\r\n```\r\n\r\n## Expected Behavior\r\n\r\nThe same response as using the master API key:\r\n\r\n```json\r\n{\r\n    \"results\": [\r\n        {\r\n            \"facet_counts\": [],\r\n            \"found\": 0,\r\n            \"hits\": [],\r\n            \"out_of\": 0,\r\n            \"page\": 1,\r\n            \"request_params\": {\r\n                \"per_page\": 10,\r\n                \"q\": \"John\"\r\n            },\r\n            \"search_time_ms\": 0\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n## Actual Behavior\r\n\r\nThe 401 unauthorized response.\r\n\r\n## Metadata\r\n\r\n**Typsense Version**: 0.19.0.rc17\r\n\r\n**OS**: Ubuntu 20.04 (LTS) x64\r\n", "closed_by": {"login": "jasonbosco", "id": 458383, "node_id": "MDQ6VXNlcjQ1ODM4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/458383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonbosco", "html_url": "https://github.com/jasonbosco", "followers_url": "https://api.github.com/users/jasonbosco/followers", "following_url": "https://api.github.com/users/jasonbosco/following{/other_user}", "gists_url": "https://api.github.com/users/jasonbosco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonbosco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonbosco/subscriptions", "organizations_url": "https://api.github.com/users/jasonbosco/orgs", "repos_url": "https://api.github.com/users/jasonbosco/repos", "events_url": "https://api.github.com/users/jasonbosco/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonbosco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/217/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/254", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/254/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/254/events", "html_url": "https://github.com/typesense/typesense/issues/254", "id": 853479310, "node_id": "MDU6SXNzdWU4NTM0NzkzMTA=", "number": 254, "title": "Exact filter_by queries return results in unexpected order, numbers", "user": {"login": "ctorgalson", "id": 1063424, "node_id": "MDQ6VXNlcjEwNjM0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1063424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctorgalson", "html_url": "https://github.com/ctorgalson", "followers_url": "https://api.github.com/users/ctorgalson/followers", "following_url": "https://api.github.com/users/ctorgalson/following{/other_user}", "gists_url": "https://api.github.com/users/ctorgalson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctorgalson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctorgalson/subscriptions", "organizations_url": "https://api.github.com/users/ctorgalson/orgs", "repos_url": "https://api.github.com/users/ctorgalson/repos", "events_url": "https://api.github.com/users/ctorgalson/events{/privacy}", "received_events_url": "https://api.github.com/users/ctorgalson/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-04-08T13:33:16Z", "updated_at": "2021-04-12T16:53:09Z", "closed_at": "2021-04-10T03:17:01Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nI think an issue like that described in #191 exists with `filter_by` queries as well. @kishorenc and I talked about it briefly in #249, and referred me to #242, but I realized after I should have been talking about filter searches, and not keyword searches.\r\n\r\nI've read and experimented with everything that seems relevant from the [Search arguments](https://typesense.org/docs/0.19.0/api/documents.html#arguments) in the docs, but haven't been able to solve this one.\r\n\r\nI can provide multiple examples, but the ones below (queried directly from the server on a stripped-down collection with a Drupal-ized wrapper around `typesense/typesense-php`) are pretty representative of the thing we're seeing.\r\n\r\n## Steps to reproduce\r\n\r\n<details>\r\n<summary><code>prius alpha</code>: exact match is 26th of 78 results</summary>\r\n\r\n### Query\r\n\r\n    drush sapi-ts 'sapi_ts_index' '*' 'field_vehicle_model__name' \\\r\n      --filter-by 'field_vehicle_model__name:=[prius alpha]' \\\r\n      --exclude-fields 'id,field_vehicle_make__name,field_vehicle_year,field_vehicle_price' \\\r\n      --per-page 25 \\\r\n      --page 2\r\n\r\n### Results\r\n\r\n![image](https://user-images.githubusercontent.com/1063424/114035217-2e4d0480-987f-11eb-836b-6ae22d8771ef.png)\r\n\r\n</details>\r\n\r\n<details>\r\n<summary><code>focus st</code>: exact match is 324th of 412 results</summary>\r\n\r\n### Query\r\n\r\n    drush sapi-ts 'sapi_ts_index' '*' 'field_vehicle_model__name' \\\r\n      --filter-by 'field_vehicle_model__name:=[ford focus st]' \\\r\n      --exclude-fields 'id,field_vehicle_make__name,field_vehicle_year,field_vehicle_price' \\\r\n      --per-page 25 \\\r\n      --page 13\r\n\r\n### Results\r\n\r\n![image](https://user-images.githubusercontent.com/1063424/114035274-3f961100-987f-11eb-885a-226100b0b851.png)\r\n\r\n</details>\r\n\r\n## Expected Behavior\r\n\r\nIn general, we'd expect two things:\r\n\r\n1. Exact matches at top of unsorted results,\r\n2. Exact matches _only_ (this is what we're trying for, but I don't know if it's _actually_ the expected behaviour).\r\n\r\n## Actual Behavior\r\n\r\nSee screenshots/queries/results in **Steps to reproduce**, above.\r\n\r\n## Metadata\r\n\r\n**Typsense Version**: 0.19.0, 0.20.0.rc28.\r\n\r\n**OS**: Ubuntu 20.04/linux/macOS", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/254/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/2140", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/2140/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/2140/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/2140/events", "html_url": "https://github.com/typesense/typesense/issues/2140", "id": 2778214800, "node_id": "I_kwDOBLpIx86lmDGQ", "number": 2140, "title": "Typesense filters on old results when using emplace", "user": {"login": "kolaente", "id": 13721712, "node_id": "MDQ6VXNlcjEzNzIxNzEy", "avatar_url": "https://avatars.githubusercontent.com/u/13721712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kolaente", "html_url": "https://github.com/kolaente", "followers_url": "https://api.github.com/users/kolaente/followers", "following_url": "https://api.github.com/users/kolaente/following{/other_user}", "gists_url": "https://api.github.com/users/kolaente/gists{/gist_id}", "starred_url": "https://api.github.com/users/kolaente/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kolaente/subscriptions", "organizations_url": "https://api.github.com/users/kolaente/orgs", "repos_url": "https://api.github.com/users/kolaente/repos", "events_url": "https://api.github.com/users/kolaente/events{/privacy}", "received_events_url": "https://api.github.com/users/kolaente/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2025-01-09T16:02:10Z", "updated_at": "2025-06-12T15:47:49Z", "closed_at": "2025-06-12T15:47:48Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nI have a document like this in a typesense collection:\r\n\r\n```json\r\n{\r\n        \"assignees\": [\r\n          {\r\n            \"created\": \"2024-09-20T12:39:47Z\",\r\n            \"id\": 1,\r\n            \"name\": \"\",\r\n            \"updated\": \"2024-12-11T17:26:20Z\",\r\n            \"username\": \"test\"\r\n          }\r\n        ],\r\n        \"done\": false,\r\n        \"id\": \"18\",\r\n        \"title\": \"assigned to me\"\r\n      }\r\n```\r\n\r\n(removed some entries for brevity)\r\n\r\nWhen I filter my collection for `assignees.username:[test]`, I get the expected results.\r\n\r\nThen, I remove the `assignees` data completely from the document (using `emplace`), resulting in this data stored in Typesense:\r\n\r\n```json\r\n{\r\n        \"done\": false,\r\n        \"id\": \"18\",\r\n        \"title\": \"assigned to me\"\r\n      }\r\n```\r\n\r\nWhen I run the filter query again, I get the document back, even though it does not even contain assignees. When I change the value to search for another user, I don't get any results back (which is expected).\r\n\r\n## Expected Behavior\r\n\r\nAfter removing the nested json data from typesense, filtering for that data should not return any documents.\r\n\r\n## Actual Behavior\r\n\r\nDocuments are returned based on old data.\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 27.1\r\n\r\n**OS**: Official Docker image\r\n", "closed_by": {"login": "alangmartini", "id": 77518055, "node_id": "MDQ6VXNlcjc3NTE4MDU1", "avatar_url": "https://avatars.githubusercontent.com/u/77518055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alangmartini", "html_url": "https://github.com/alangmartini", "followers_url": "https://api.github.com/users/alangmartini/followers", "following_url": "https://api.github.com/users/alangmartini/following{/other_user}", "gists_url": "https://api.github.com/users/alangmartini/gists{/gist_id}", "starred_url": "https://api.github.com/users/alangmartini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alangmartini/subscriptions", "organizations_url": "https://api.github.com/users/alangmartini/orgs", "repos_url": "https://api.github.com/users/alangmartini/repos", "events_url": "https://api.github.com/users/alangmartini/events{/privacy}", "received_events_url": "https://api.github.com/users/alangmartini/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/2140/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/2140/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/887", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/887/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/887/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/887/events", "html_url": "https://github.com/typesense/typesense/issues/887", "id": 1572059477, "node_id": "I_kwDOBLpIx85ds7lV", "number": 887, "title": "Support for German Umlaute \u00e4\u00f6\u00fc", "user": {"login": "sbleh", "id": 44573600, "node_id": "MDQ6VXNlcjQ0NTczNjAw", "avatar_url": "https://avatars.githubusercontent.com/u/44573600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbleh", "html_url": "https://github.com/sbleh", "followers_url": "https://api.github.com/users/sbleh/followers", "following_url": "https://api.github.com/users/sbleh/following{/other_user}", "gists_url": "https://api.github.com/users/sbleh/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbleh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbleh/subscriptions", "organizations_url": "https://api.github.com/users/sbleh/orgs", "repos_url": "https://api.github.com/users/sbleh/repos", "events_url": "https://api.github.com/users/sbleh/events{/privacy}", "received_events_url": "https://api.github.com/users/sbleh/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-02-06T07:25:01Z", "updated_at": "2024-04-02T21:15:17Z", "closed_at": "2024-04-02T21:15:16Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nTypesense treats German Umlaute \"\u00c4\u00d6\u00dc\" like \"AOU\", so it does not distinguish between them.\r\n\r\n![cd8619e97406993c4e26f6e5c972b3a7](https://user-images.githubusercontent.com/44573600/216909204-f0223627-b60f-496b-9c07-cfd3a2502f41.png)\r\n\r\n## Expected Behavior\r\n\r\nTreat them as distinct characters, so \u00fc !== u. If I type \"B\u00fcch\" I'd like to see \"B\u00fccher\" higher than \"Buch\".\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 0.23.1\r\n\r\n**OS**: Linux", "closed_by": {"login": "jasonbosco", "id": 458383, "node_id": "MDQ6VXNlcjQ1ODM4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/458383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonbosco", "html_url": "https://github.com/jasonbosco", "followers_url": "https://api.github.com/users/jasonbosco/followers", "following_url": "https://api.github.com/users/jasonbosco/following{/other_user}", "gists_url": "https://api.github.com/users/jasonbosco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonbosco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonbosco/subscriptions", "organizations_url": "https://api.github.com/users/jasonbosco/orgs", "repos_url": "https://api.github.com/users/jasonbosco/repos", "events_url": "https://api.github.com/users/jasonbosco/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonbosco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/887/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/887/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/171", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/171/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/171/events", "html_url": "https://github.com/typesense/typesense/issues/171", "id": 768580238, "node_id": "MDU6SXNzdWU3Njg1ODAyMzg=", "number": 171, "title": "Pagination returning the same results for every page", "user": {"login": "nonapod", "id": 2868307, "node_id": "MDQ6VXNlcjI4NjgzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2868307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nonapod", "html_url": "https://github.com/nonapod", "followers_url": "https://api.github.com/users/nonapod/followers", "following_url": "https://api.github.com/users/nonapod/following{/other_user}", "gists_url": "https://api.github.com/users/nonapod/gists{/gist_id}", "starred_url": "https://api.github.com/users/nonapod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nonapod/subscriptions", "organizations_url": "https://api.github.com/users/nonapod/orgs", "repos_url": "https://api.github.com/users/nonapod/repos", "events_url": "https://api.github.com/users/nonapod/events{/privacy}", "received_events_url": "https://api.github.com/users/nonapod/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-12-16T08:29:42Z", "updated_at": "2020-12-29T04:24:47Z", "closed_at": "2020-12-29T04:24:47Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nEvery page in pagination results is the same when filtering by a facet and using grouped results.\r\n\r\n## Steps to reproduce\r\n\r\nThe following is an example of a query on product pages, each product has a **sku** and a **group**, multiple skus are grouped together in a **group** and displayed on a product listing page.\r\n`http://192.168.1.68:8108/collections/product_pages/documents/search?group_by=group&q=*&page=1&group_limit=1&filter_by=Color:Brown&per_page=24`\r\n\r\nEvery page returned, out of 3470 grouped results, is the same except for the last few pages.\r\n\r\n## Expected Behavior\r\n\r\nExpecting to see products grouped by their **group** field value, limited to 1 product per group, with different results for each page i.e. the first page of results will differ from the second and third page of results.\r\n\r\n## Actual Behavior\r\n\r\nEvery single returned page result is the same.\r\n\r\n## Metadata\r\n\r\n**Typsense Version**:\r\nv0.17.0\r\n\r\n**OS**:\r\n Ubuntu 19.10\r\n", "closed_by": {"login": "jasonbosco", "id": 458383, "node_id": "MDQ6VXNlcjQ1ODM4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/458383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonbosco", "html_url": "https://github.com/jasonbosco", "followers_url": "https://api.github.com/users/jasonbosco/followers", "following_url": "https://api.github.com/users/jasonbosco/following{/other_user}", "gists_url": "https://api.github.com/users/jasonbosco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonbosco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonbosco/subscriptions", "organizations_url": "https://api.github.com/users/jasonbosco/orgs", "repos_url": "https://api.github.com/users/jasonbosco/repos", "events_url": "https://api.github.com/users/jasonbosco/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonbosco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/171/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/171/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/1494", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/1494/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/1494/events", "html_url": "https://github.com/typesense/typesense/issues/1494", "id": 2087162437, "node_id": "I_kwDOBLpIx858Z5JF", "number": 1494, "title": "Extra new line shows up in the Import API response, which affects JSONL parsing in client libraries", "user": {"login": "jasonbosco", "id": 458383, "node_id": "MDQ6VXNlcjQ1ODM4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/458383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonbosco", "html_url": "https://github.com/jasonbosco", "followers_url": "https://api.github.com/users/jasonbosco/followers", "following_url": "https://api.github.com/users/jasonbosco/following{/other_user}", "gists_url": "https://api.github.com/users/jasonbosco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonbosco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonbosco/subscriptions", "organizations_url": "https://api.github.com/users/jasonbosco/orgs", "repos_url": "https://api.github.com/users/jasonbosco/repos", "events_url": "https://api.github.com/users/jasonbosco/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonbosco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2024-01-17T23:09:27Z", "updated_at": "2024-04-03T19:12:10Z", "closed_at": "2024-04-02T21:16:25Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "```javascript\r\nclient\r\n  .collections(collectionName)\r\n  .documents()\r\n  .import(formattedDocs, { action: 'upsert' });\r\n```\r\n\r\n```bash\r\n/node_modules/typesense/src/Typesense/Documents.ts:346\r\n        .map((r) => JSON.parse(r)) as ImportResponse[];\r\n         ^\r\nSyntaxError: Unexpected end of JSON input\r\n    at JSON.parse (<anonymous>)\r\n    at /node_modules/typesense/src/Typesense/Documents.ts:346:26\r\n    at Array.map (<anonymous>)\r\n    at Documents.<anonymous> (/node_modules/typesense/src/Typesense/Documents.ts:346:10)\r\n    at step (/node_modules/typesense/lib/Typesense/Documents.js:48:23)\r\n    at Object.next /node_modules/typesense/lib/Typesense/Documents.js:29:53)\r\n    at fulfilled (/node_modules/typesense/lib/Typesense/Documents.js:20:58)\r\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n```\r\n\r\nTypesense Response (notice the extra new line at the end): [parsing-error.txt](https://github.com/typesense/typesense/files/13969763/parsing-error.txt)\r\n\r\nContext in Slack Discussion:\r\n\r\nhttps://threads.typesense.org/2Kb80b\r\n\r\nhttps://typesense-community.slack.com/archives/C01P749MET0/p1705508838665499\r\n\r\n<img width=\"1399\" alt=\"Screenshot 2024-01-17 at 5 10 17 PM\" src=\"https://github.com/typesense/typesense/assets/458383/e23c260c-a748-44f6-aa21-12c0eb73f5db\">\r\n\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 0.26.0.rc40\r\n\r\n**OS**: Typesense Cloud\r\n", "closed_by": {"login": "jasonbosco", "id": 458383, "node_id": "MDQ6VXNlcjQ1ODM4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/458383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonbosco", "html_url": "https://github.com/jasonbosco", "followers_url": "https://api.github.com/users/jasonbosco/followers", "following_url": "https://api.github.com/users/jasonbosco/following{/other_user}", "gists_url": "https://api.github.com/users/jasonbosco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonbosco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonbosco/subscriptions", "organizations_url": "https://api.github.com/users/jasonbosco/orgs", "repos_url": "https://api.github.com/users/jasonbosco/repos", "events_url": "https://api.github.com/users/jasonbosco/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonbosco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/1494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/1494/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/1257", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/1257/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/1257/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/1257/events", "html_url": "https://github.com/typesense/typesense/issues/1257", "id": 1916407954, "node_id": "I_kwDOBLpIx85yOhCS", "number": 1257, "title": "Numeric faceting does not return min, max, avg, etc stats in 0.26.0.rc", "user": {"login": "iamarora", "id": 23430671, "node_id": "MDQ6VXNlcjIzNDMwNjcx", "avatar_url": "https://avatars.githubusercontent.com/u/23430671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamarora", "html_url": "https://github.com/iamarora", "followers_url": "https://api.github.com/users/iamarora/followers", "following_url": "https://api.github.com/users/iamarora/following{/other_user}", "gists_url": "https://api.github.com/users/iamarora/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamarora/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamarora/subscriptions", "organizations_url": "https://api.github.com/users/iamarora/orgs", "repos_url": "https://api.github.com/users/iamarora/repos", "events_url": "https://api.github.com/users/iamarora/events{/privacy}", "received_events_url": "https://api.github.com/users/iamarora/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-09-21T14:39:04Z", "updated_at": "2023-09-29T15:14:27Z", "closed_at": "2023-09-29T15:14:27Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nmin, max range from the RangeFilter from InstantSearch always returns 0 for both.\r\nThis is happening in `0.26.0.rc16` it worked as expected in `0.26.0.rc1`\r\n\r\n## Steps to reproduce\r\nSample schema\r\n```\r\n{\r\n  \"name\": \"test_int64\",\r\n  \"fields\": [\r\n    {\r\n      \"name\": \"_id\",\r\n      \"type\": \"string\",\r\n      \"facet\": false,\r\n      \"optional\": true,\r\n      \"index\": true,\r\n      \"sort\": false,\r\n      \"infix\": false,\r\n      \"locale\": \"\"\r\n    },\r\n    {\r\n      \"name\": \"timestamp_int64\",\r\n      \"type\": \"int64\",\r\n      \"facet\": true,\r\n      \"optional\": true,\r\n      \"index\": true,\r\n      \"sort\": false,\r\n      \"infix\": false,\r\n      \"locale\": \"\"\r\n    }\r\n  ],\r\n  \"default_sorting_field\": \"\",\r\n  \"enable_nested_fields\": false,\r\n  \"symbols_to_index\": [],\r\n  \"token_separators\": []\r\n}\r\n```\r\nSample data\r\n```\r\n[\r\n  {\r\n    \"_id\": \"1\",\r\n    \"timestamp_int64\": 0\r\n  },\r\n  {\r\n    \"_id\": \"2\",\r\n    \"timestamp_int64\": 1695306256\r\n  }\r\n]\r\n```\r\n\r\n## Expected Behavior\r\n\r\nThe min, max values should return as per the int64 data.\r\n\r\n## Actual Behavior\r\n\r\nmin, max is always returning 0.\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 0.26.0.rc16\r\n\r\n**OS**: Ubuntu\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/1257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/1257/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/1161", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/1161/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/1161/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/1161/events", "html_url": "https://github.com/typesense/typesense/issues/1161", "id": 1854765840, "node_id": "I_kwDOBLpIx85ujXsQ", "number": 1161, "title": "\"Only one embedding field is allowed in the query\" always thrown for schemas with 2+ embedding fields", "user": {"login": "garth", "id": 4643, "node_id": "MDQ6VXNlcjQ2NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garth", "html_url": "https://github.com/garth", "followers_url": "https://api.github.com/users/garth/followers", "following_url": "https://api.github.com/users/garth/following{/other_user}", "gists_url": "https://api.github.com/users/garth/gists{/gist_id}", "starred_url": "https://api.github.com/users/garth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garth/subscriptions", "organizations_url": "https://api.github.com/users/garth/orgs", "repos_url": "https://api.github.com/users/garth/repos", "events_url": "https://api.github.com/users/garth/events{/privacy}", "received_events_url": "https://api.github.com/users/garth/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-08-17T10:56:27Z", "updated_at": "2024-01-16T10:07:15Z", "closed_at": "2024-01-16T10:07:15Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\n<!--- Describe the issue here -->\r\n\r\nWhen a schema defines multiple embedding fields the following error is always returned, even when passing a single embedding field in the query.\r\n\r\n`Only one embedding field is allowed in the query`\r\n\r\n## Steps to reproduce\r\n\r\n<!--- Include screenshots, curl commands (please use the -sv flags for curl and also post the output), etc -->\r\n\r\ndefine a scheme with 2 or more embedding fields:\r\n\r\n```ts\r\n    {\r\n      name: 'embedding_arabic',\r\n      type: 'float[]',\r\n      optional: true,\r\n      embed: {\r\n        from: ['content_arabic'],\r\n        model_config: {\r\n          model_name: 'ts/all-MiniLM-L12-v2',\r\n        },\r\n      },\r\n    },\r\n    {\r\n      name: 'embedding_chinese',\r\n      type: 'float[]',\r\n      optional: true,\r\n      embed: {\r\n        from: ['content_chinese'],\r\n        model_config: {\r\n          model_name: 'ts/all-MiniLM-L12-v2',\r\n        },\r\n      },\r\n    },\r\n```\r\n\r\nre-indexing content completes without error.\r\n\r\n## Expected Behavior\r\n\r\n<!--- When you do the steps above, what is the expected behavior? -->\r\n\r\nRunning a query should return results:\r\n\r\n```json\r\n{\r\n  \"q\": \"test\",\r\n  \"query_by\": [\r\n    \"content_arabic\",\r\n    \"embedding_arabic\"\r\n  ],\r\n  \"infix\": [\r\n    \"off\",\r\n    \"off\"\r\n  ],\r\n  \"exclude_fields\": [\r\n    \"content_arabic\",\r\n    \"content_chinese\"\r\n  ],\r\n  \"highlight_fields\": [\r\n    \"content_arabic\"\r\n  ],\r\n  \"per_page\": 10,\r\n  \"page\": 1\r\n}\r\n```\r\n\r\n## Actual Behavior\r\n\r\n<!--- When you do the steps above, what is the actual behavior you see? -->\r\n\r\n```\r\nERR RequestMalformed: Request failed with HTTP code 400 | Server said: Only one embedding field is allowed in the query.\r\n```\r\n\r\n## Metadata\r\n\r\n**Typesense Version**: 0.25.0\r\n\r\n**OS**: Docker on MacOS\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/1161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/1161/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/149", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/149/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/149/events", "html_url": "https://github.com/typesense/typesense/issues/149", "id": 736333114, "node_id": "MDU6SXNzdWU3MzYzMzMxMTQ=", "number": 149, "title": "'filter_by' value not accepting colons(:)", "user": {"login": "axionos", "id": 47922404, "node_id": "MDQ6VXNlcjQ3OTIyNDA0", "avatar_url": "https://avatars.githubusercontent.com/u/47922404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/axionos", "html_url": "https://github.com/axionos", "followers_url": "https://api.github.com/users/axionos/followers", "following_url": "https://api.github.com/users/axionos/following{/other_user}", "gists_url": "https://api.github.com/users/axionos/gists{/gist_id}", "starred_url": "https://api.github.com/users/axionos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/axionos/subscriptions", "organizations_url": "https://api.github.com/users/axionos/orgs", "repos_url": "https://api.github.com/users/axionos/repos", "events_url": "https://api.github.com/users/axionos/events{/privacy}", "received_events_url": "https://api.github.com/users/axionos/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-11-04T18:29:05Z", "updated_at": "2020-12-15T13:17:48Z", "closed_at": "2020-11-12T15:59:54Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nI want to filter my data by something like \"http://type\", but the filter doesn't accept a colon.\r\nIs there a way a colon(:) can be included in values that are faceted and searched?\r\n\r\n## Steps to reproduce\r\n\r\nSend below searchParameters to search and filter the data. The first one doesn't work but the second one does.\r\n\r\n`let searchParameters = {\r\n      q: '*',\r\n      query_by: 'name',\r\n      filter_by: 'type:=http://type/ontology/WholesaleBroker'\r\n};`\r\n\r\n`let searchParameters = {\r\n      q: '*',\r\n      query_by: 'name',\r\n      filter_by: 'type:=http//type/ontology/WholesaleBroker'\r\n};`\r\n\r\n## Expected Behavior\r\n\r\nTypesense returns data with type 'http://type/ontology/WholesaleBroker'.\r\n\r\n## Actual Behavior\r\n\r\nIf the first searchParameters is being sent, an error is returned:\r\nError: Request failed with HTTP code 400 | Server said: Could not parse the filter query.\r\n\r\nSecond searchParemeters returns the expected data, but it's not including the colon(:).\r\n\r\n\r\n## Metadata\r\n\r\n**Typsense Version**: 0.8.0\r\n\r\n**OS**: Mac\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/149/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/146", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/146/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/146/events", "html_url": "https://github.com/typesense/typesense/issues/146", "id": 734102961, "node_id": "MDU6SXNzdWU3MzQxMDI5NjE=", "number": 146, "title": "Crash during facet population", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-11-02T00:36:38Z", "updated_at": "2020-11-05T15:19:05Z", "closed_at": "2020-11-05T15:18:51Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "\r\nHi, \r\nAfter upgrade from 0.15 to 0.16 Typesense keeps crashing. Log file is too complicated for me :) Screenshot:\r\n<img width=\"1210\" alt=\"Ekran Resmi 2020-11-02 03 21 02\" src=\"https://user-images.githubusercontent.com/72962877/97819836-1c59ab00-1cbc-11eb-870d-6be7bad60a4a.png\">\r\n\r\n\r\n## Metadata\r\n\r\n**Typsense Version**: 0.16\r\n\r\n**OS**:Centos 7\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/1275", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/1275/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/1275/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/1275/events", "html_url": "https://github.com/typesense/typesense/issues/1275", "id": 1924880690, "node_id": "I_kwDOBLpIx85yu1ky", "number": 1275, "title": "Cannot update/drop field", "user": {"login": "MeikelLP", "id": 11669846, "node_id": "MDQ6VXNlcjExNjY5ODQ2", "avatar_url": "https://avatars.githubusercontent.com/u/11669846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeikelLP", "html_url": "https://github.com/MeikelLP", "followers_url": "https://api.github.com/users/MeikelLP/followers", "following_url": "https://api.github.com/users/MeikelLP/following{/other_user}", "gists_url": "https://api.github.com/users/MeikelLP/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeikelLP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeikelLP/subscriptions", "organizations_url": "https://api.github.com/users/MeikelLP/orgs", "repos_url": "https://api.github.com/users/MeikelLP/repos", "events_url": "https://api.github.com/users/MeikelLP/events{/privacy}", "received_events_url": "https://api.github.com/users/MeikelLP/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-10-03T20:20:27Z", "updated_at": "2024-01-16T10:03:30Z", "closed_at": "2024-01-16T10:03:30Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nI'm trying to update (an automatically created) field in my collection:\r\n\r\n```json\r\n    {\r\n      \"name\": \"shops.is_available\",\r\n      \"type\": \"bool[]\",\r\n      \"facet\": false,\r\n      \"optional\": true,\r\n      \"index\": false,\r\n      \"sort\": false,\r\n      \"infix\": false,\r\n      \"locale\": \"\"\r\n    }\r\n```\r\nto be indexed. From what I understand and what the library allows me I have to drop this field first and then re-add it with the `index: true` value. Sadly the drop does not drop the field (maybe because it's added automatically?). So the second call (to re-add it) fails.\r\n\r\nI tried to manually define every field in the schema first before adding documents. Sadly I didn't know how sub fields worked so I never knew these actually added fields automatically.\r\n\r\n## Steps to reproduce\r\n\r\nI'm using the [C# client](https://github.com/DAXGRID/typesense-dotnet) of typesense.\r\n\r\nThis is my code\r\n```cs\r\n        await _typesenseClient.UpdateCollection(ItemDocument.COLLECTION_NAME, new UpdateSchema(new []\r\n        {\r\n            new UpdateSchemaField(\"shops.is_available\", FieldType.BoolArray, drop: true)\r\n        }));\r\n        await _typesenseClient.UpdateCollection(ItemDocument.COLLECTION_NAME, new UpdateSchema(new []\r\n        {\r\n            new UpdateSchemaField(\"shops.is_available\", FieldType.BoolArray, facet: null, optional: false, index: true, sort: false)\r\n        }));\r\n```\r\n\r\nThis code does exactly what it says it does. The library isn't faulty.\r\n\r\n## Expected Behavior\r\n\r\nDropping works so I can re-add the field with updated `index: true`\r\n\r\n## Actual Behavior\r\n\r\nDropping fails. Field cannot be re-added\r\n```json\r\n {\"message\": \"Field `shops.is_available` is already part of the schema: To change this field, drop it first before adding it back to the schema.\"}\r\n```\r\n\r\n## Workaround\r\n\r\n* Dropping the whole collection\r\n* Recreateing the whole collection\r\n* Reindexing all documents\r\n\r\nYes this is the worst but it's the only way to workaround this currently.\r\n## Metadata\r\n\r\n**Typesense Version**: `0.25.1`\r\n\r\n**OS**: `typesense/typesense:0.25.1` in Docker (on Windows)\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/1275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/1275/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/888", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/888/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/888/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/888/events", "html_url": "https://github.com/typesense/typesense/issues/888", "id": 1572408365, "node_id": "I_kwDOBLpIx85duQwt", "number": 888, "title": "Can't import collection with geopoint inside nested object", "user": {"login": "aponski", "id": 6552146, "node_id": "MDQ6VXNlcjY1NTIxNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/6552146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aponski", "html_url": "https://github.com/aponski", "followers_url": "https://api.github.com/users/aponski/followers", "following_url": "https://api.github.com/users/aponski/following{/other_user}", "gists_url": "https://api.github.com/users/aponski/gists{/gist_id}", "starred_url": "https://api.github.com/users/aponski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aponski/subscriptions", "organizations_url": "https://api.github.com/users/aponski/orgs", "repos_url": "https://api.github.com/users/aponski/repos", "events_url": "https://api.github.com/users/aponski/events{/privacy}", "received_events_url": "https://api.github.com/users/aponski/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-02-06T11:34:57Z", "updated_at": "2023-08-16T12:37:09Z", "closed_at": "2023-08-16T12:37:09Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "## Description\r\n\r\nHi, I cant import collection with geopoint inside nested object. \r\n\r\n<!--- Describe the issue here -->\r\n\r\n## Steps to reproduce\r\n\r\n**My collection schema in typesense:** \r\n\r\n{\r\n  \"created_at\": 1675682248,\r\n  \"default_sorting_field\": \"\",\r\n  \"enable_nested_fields\": true,\r\n  \"fields\": [\r\n    {\r\n      \"facet\": false,\r\n      \"index\": true,\r\n      \"infix\": false,\r\n      \"locale\": \"\",\r\n      \"name\": \"addresses\",\r\n      \"optional\": false,\r\n      \"sort\": false,\r\n      \"type\": \"object[]\"\r\n    },\r\n    {\r\n      \"facet\": false,\r\n      \"index\": true,\r\n      \"infix\": false,\r\n      \"locale\": \"\",\r\n      \"name\": \"addresses.zipCode\",\r\n      \"optional\": true,\r\n      \"sort\": false,\r\n      \"type\": \"string[]\"\r\n    },\r\n    {\r\n      \"facet\": false,\r\n      \"index\": true,\r\n      \"infix\": false,\r\n      \"locale\": \"\",\r\n      \"name\": \"addresses.website\",\r\n      \"optional\": true,\r\n      \"sort\": false,\r\n      \"type\": \"string[]\"\r\n    },\r\n    {\r\n      \"facet\": false,\r\n      \"index\": true,\r\n      \"infix\": false,\r\n      \"locale\": \"\",\r\n      \"name\": \"addresses.geoPoint\",\r\n      \"optional\": true,\r\n      \"sort\": true,\r\n      \"type\": \"geopoint[]\"\r\n    },\r\n    {\r\n      \"facet\": true,\r\n      \"index\": true,\r\n      \"infix\": true,\r\n      \"locale\": \"\",\r\n      \"name\": \"addresses.city\",\r\n      \"optional\": true,\r\n      \"sort\": false,\r\n      \"type\": \"string[]\"\r\n    },\r\n    {\r\n      \"facet\": false,\r\n      \"index\": true,\r\n      \"infix\": true,\r\n      \"locale\": \"\",\r\n      \"name\": \"addresses.name\",\r\n      \"optional\": true,\r\n      \"sort\": false,\r\n      \"type\": \"string[]\"\r\n    },\r\n    {\r\n      \"facet\": false,\r\n      \"index\": true,\r\n      \"infix\": true,\r\n      \"locale\": \"\",\r\n      \"name\": \"addresses.street\",\r\n      \"optional\": true,\r\n      \"sort\": false,\r\n      \"type\": \"string[]\"\r\n    }\r\n  ],\r\n  \"name\": \"queues_v4\",\r\n  \"num_documents\": 0,\r\n  \"symbols_to_index\": [],\r\n  \"token_separators\": []\r\n}\r\n\r\n**Document data that I'm trying to import** \r\n\r\n{\r\n\t\"id\": \"udpuV5uNOsD1GNzaCHgt\",\r\n\t\"addresses\": [{\r\n\t\t\"name\": \"Name 1\",\r\n\t\t\"street\": \"Street 1\",\r\n\t\t\"zipCode\": \"01-000\",\r\n\t\t\"city\": \"City 1\",\r\n\t\t\"geoPoint\": [51.26506, 22.58299],\r\n\t\t\"website\": \"\"\r\n\t}, {\r\n\t\t\"name\": \"Name 2\",\r\n\t\t\"street\": \"Street 1\",\r\n\t\t\"zipCode\": \"02-000\",\r\n\t\t\"city\": \"City 2\",\r\n\t\t\"geoPoint\": [51.7400062410712, 19.620644614931905],\r\n\t\t\"website\": \"\"\r\n\t}]\r\n}\r\n\r\n## Expected Behavior\r\n\r\nDocument should be imported into Typesense. \r\n\r\n## Actual Behavior\r\n\r\nI'm getting error \r\n\r\n` error: 'Field `addresses.geoPoint` must contain 2 element arrays: [ [lat, lng],... ].'`\r\n## Metadata\r\n\r\n**Typesense Version**:\r\n\r\nTypesense Cloud v0.24\r\n", "closed_by": {"login": "kishorenc", "id": 782073, "node_id": "MDQ6VXNlcjc4MjA3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kishorenc", "html_url": "https://github.com/kishorenc", "followers_url": "https://api.github.com/users/kishorenc/followers", "following_url": "https://api.github.com/users/kishorenc/following{/other_user}", "gists_url": "https://api.github.com/users/kishorenc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kishorenc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kishorenc/subscriptions", "organizations_url": "https://api.github.com/users/kishorenc/orgs", "repos_url": "https://api.github.com/users/kishorenc/repos", "events_url": "https://api.github.com/users/kishorenc/events{/privacy}", "received_events_url": "https://api.github.com/users/kishorenc/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/888/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/888/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}, {"url": "https://api.github.com/repos/typesense/typesense/issues/159", "repository_url": "https://api.github.com/repos/typesense/typesense", "labels_url": "https://api.github.com/repos/typesense/typesense/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/typesense/typesense/issues/159/comments", "events_url": "https://api.github.com/repos/typesense/typesense/issues/159/events", "html_url": "https://github.com/typesense/typesense/issues/159", "id": 751361430, "node_id": "MDU6SXNzdWU3NTEzNjE0MzA=", "number": 159, "title": "Problem encoding character", "user": {"login": "nathan-cuvellier", "id": 25644340, "node_id": "MDQ6VXNlcjI1NjQ0MzQw", "avatar_url": "https://avatars.githubusercontent.com/u/25644340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathan-cuvellier", "html_url": "https://github.com/nathan-cuvellier", "followers_url": "https://api.github.com/users/nathan-cuvellier/followers", "following_url": "https://api.github.com/users/nathan-cuvellier/following{/other_user}", "gists_url": "https://api.github.com/users/nathan-cuvellier/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathan-cuvellier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathan-cuvellier/subscriptions", "organizations_url": "https://api.github.com/users/nathan-cuvellier/orgs", "repos_url": "https://api.github.com/users/nathan-cuvellier/repos", "events_url": "https://api.github.com/users/nathan-cuvellier/events{/privacy}", "received_events_url": "https://api.github.com/users/nathan-cuvellier/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 520789519, "node_id": "MDU6TGFiZWw1MjA3ODk1MTk=", "url": "https://api.github.com/repos/typesense/typesense/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2132772261, "node_id": "MDU6TGFiZWwyMTMyNzcyMjYx", "url": "https://api.github.com/repos/typesense/typesense/labels/fix-available", "name": "fix-available", "color": "293d8e", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-11-26T07:39:20Z", "updated_at": "2020-12-29T04:26:16Z", "closed_at": "2020-12-29T04:26:15Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hello,\r\nI have a problem with encoding character, as you can see in the photo below.\r\nIs it possible to specify something like UTF8?\r\n\r\n![problem](https://user-images.githubusercontent.com/25644340/100321021-5b7cd280-2fc2-11eb-9b79-c21e781388f6.png)\r\n\r\nversion typesense: 0.17\r\n\r\nThanks !", "closed_by": {"login": "jasonbosco", "id": 458383, "node_id": "MDQ6VXNlcjQ1ODM4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/458383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonbosco", "html_url": "https://github.com/jasonbosco", "followers_url": "https://api.github.com/users/jasonbosco/followers", "following_url": "https://api.github.com/users/jasonbosco/following{/other_user}", "gists_url": "https://api.github.com/users/jasonbosco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonbosco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonbosco/subscriptions", "organizations_url": "https://api.github.com/users/jasonbosco/orgs", "repos_url": "https://api.github.com/users/jasonbosco/repos", "events_url": "https://api.github.com/users/jasonbosco/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonbosco/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/typesense/typesense/issues/159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/typesense/typesense/issues/159/timeline", "performed_via_github_app": null, "state_reason": "completed", "pinned_comment": null}]}