{"d": [{"url": "https://api.github.com/repos/reduxjs/redux/issues/1240", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/1240/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/1240/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/1240/events", "html_url": "https://github.com/reduxjs/redux/issues/1240", "id": 126782875, "node_id": "MDU6SXNzdWUxMjY3ODI4NzU=", "number": 1240, "title": "Dispatching in a middleware before applyMiddleware completes", "user": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": {"url": "https://api.github.com/repos/reduxjs/redux/milestones/3", "html_url": "https://github.com/reduxjs/redux/milestone/3", "labels_url": "https://api.github.com/repos/reduxjs/redux/milestones/3/labels", "id": 1681623, "node_id": "MDk6TWlsZXN0b25lMTY4MTYyMw==", "number": 3, "title": "4.0", "description": "", "creator": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "open", "created_at": "2016-04-04T11:24:11Z", "updated_at": "2019-10-29T04:11:15Z", "due_on": null, "closed_at": null}, "comments": 24, "created_at": "2016-01-15T00:49:06Z", "updated_at": "2018-05-12T19:50:26Z", "closed_at": "2017-10-23T00:32:07Z", "assignee": null, "author_association": "MEMBER", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Preface: This may or may not be a bug in Redux.\r\n\r\nSay you have a middleware that intercepts actions and emits async events to dispatch later on. We do something like this in `redux-simple-router`:\r\n\r\n``` js\r\nfunction middleware(store) {\r\n  history.listen(location => { store.dispatch(updateLocation(location)) })\r\n\r\n  return next => action => {\r\n      if (action.type !== TRANSITION) {\r\n        return next(action)\r\n      }\r\n      const { method, arg } = action\r\n      history[method](arg)\r\n    }\r\n}\r\n```\r\n\r\nThe key bit is the history listener at the top. The middleware intercepts actions of type `TRANSITION` and runs a history command (`push`, for example). That comes back to us via the listener and we dispatch an `updateLocation` action to update the store with the current location. \r\n\r\nNow, let's say you have a little bit of analytics middleware that watches for updateLocation events and tells your analytics service there's a new page view. This works A-OK because `store.dispatch` above has had the middleware applied to it and will include the analytics middleware in the dispatch.\r\n\r\nHere's the problem: That listener fires when you're applying the middleware, so calling `store.dispatch` is [calling the un-middlewared `dispatch`](https://github.com/reactjs/redux/blob/c5d9a8a11897ea558c348e02eaf76038563d57b9/src/applyMiddleware.js#L27) and our analytics middleware won't see any event.\r\n\r\nShould Redux handle this? It might be better handled by the history middleware, or by the analytics middleware, or by a non-middleware approach. But it certainly does end up creating some confusion for users when code operates differently the first time you run it.\r\n", "closed_by": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/1240/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/1240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/830", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/830/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/830/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/830/events", "html_url": "https://github.com/reduxjs/redux/issues/830", "id": 109359949, "node_id": "MDU6SXNzdWUxMDkzNTk5NDk=", "number": 830, "title": "Issue with isPlainObject and many global contexts.", "user": {"login": "ALF-er", "id": 2158067, "node_id": "MDQ6VXNlcjIxNTgwNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/2158067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ALF-er", "html_url": "https://github.com/ALF-er", "followers_url": "https://api.github.com/users/ALF-er/followers", "following_url": "https://api.github.com/users/ALF-er/following{/other_user}", "gists_url": "https://api.github.com/users/ALF-er/gists{/gist_id}", "starred_url": "https://api.github.com/users/ALF-er/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ALF-er/subscriptions", "organizations_url": "https://api.github.com/users/ALF-er/orgs", "repos_url": "https://api.github.com/users/ALF-er/repos", "events_url": "https://api.github.com/users/ALF-er/events{/privacy}", "received_events_url": "https://api.github.com/users/ALF-er/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 20, "created_at": "2015-10-01T18:48:32Z", "updated_at": "2018-05-12T19:50:09Z", "closed_at": "2015-10-03T18:00:20Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hello, \n\nI'm writing one application which uses Electron and Redux.\nIn Electron there is Main Process and many Renderer Processes. I've created single Store in Main Process and want to use it across whole application. But, when I dispatch action (which is plain object) from Renderer process I get `Uncaught Error: Actions must be plain objects. Use custom middleware for async actions.`\nI found out that it happens cuz of this check https://github.com/rackt/redux/blob/master/src/utils/isPlainObject.js#L21\n`instanceof` return false if constructors from different globals (in my case one from Main Process, another one from Renderer Process) [mdn](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof) \n\nMaybe we can use different realization of isPlainObject? For example like [this](https://github.com/jquery/jquery/blob/master/src/core.js#L220) :smirk:\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/830/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/208", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/208/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/208/events", "html_url": "https://github.com/reduxjs/redux/issues/208", "id": 92815826, "node_id": "MDU6SXNzdWU5MjgxNTgyNg==", "number": 208, "title": "Sync dispatch in componentDidMount() does not update component", "user": {"login": "roadhump", "id": 234692, "node_id": "MDQ6VXNlcjIzNDY5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/234692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roadhump", "html_url": "https://github.com/roadhump", "followers_url": "https://api.github.com/users/roadhump/followers", "following_url": "https://api.github.com/users/roadhump/following{/other_user}", "gists_url": "https://api.github.com/users/roadhump/gists{/gist_id}", "starred_url": "https://api.github.com/users/roadhump/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roadhump/subscriptions", "organizations_url": "https://api.github.com/users/roadhump/orgs", "repos_url": "https://api.github.com/users/roadhump/repos", "events_url": "https://api.github.com/users/roadhump/events{/privacy}", "received_events_url": "https://api.github.com/users/roadhump/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [{"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2015-07-03T07:50:06Z", "updated_at": "2015-07-09T01:31:14Z", "closed_at": "2015-07-09T01:31:14Z", "assignee": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I've tried v1.0.0-alpha and noticed that this small app https://gist.github.com/roadhump/f40483704e8527f11b07 will not work if I immediately dispatch action result from `componentDidUpdate` but it works if dispatch async (set const `async` to true). It worked both ways in version 0.12. \n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/208/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/465", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/465/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/465/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/465/events", "html_url": "https://github.com/reduxjs/redux/issues/465", "id": 100432290, "node_id": "MDU6SXNzdWUxMDA0MzIyOTA=", "number": 465, "title": "Middleware not dispatched through on init", "user": {"login": "phated", "id": 992373, "node_id": "MDQ6VXNlcjk5MjM3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/992373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phated", "html_url": "https://github.com/phated", "followers_url": "https://api.github.com/users/phated/followers", "following_url": "https://api.github.com/users/phated/following{/other_user}", "gists_url": "https://api.github.com/users/phated/gists{/gist_id}", "starred_url": "https://api.github.com/users/phated/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phated/subscriptions", "organizations_url": "https://api.github.com/users/phated/orgs", "repos_url": "https://api.github.com/users/phated/repos", "events_url": "https://api.github.com/users/phated/events{/privacy}", "received_events_url": "https://api.github.com/users/phated/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 225483567, "node_id": "MDU6TGFiZWwyMjU0ODM1Njc=", "url": "https://api.github.com/repos/reduxjs/redux/labels/discussion", "name": "discussion", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 19, "created_at": "2015-08-11T23:15:49Z", "updated_at": "2018-05-12T19:49:55Z", "closed_at": "2017-10-23T00:44:23Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I'm not sure if this has been discussed before (quick search got me no where), but I am noticing that no middleware is executed when redux does its `init` actions.  Is this on purpose or just something that has come out of the functional composition nature of redux?  I would like to use middleware to ensure payload objects on each of my actions, but the `init` actions cause things to explode due to not passing through middleware.\n", "closed_by": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/465/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/465/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/1346", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/1346/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/1346/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/1346/events", "html_url": "https://github.com/reduxjs/redux/issues/1346", "id": 130497200, "node_id": "MDU6SXNzdWUxMzA0OTcyMDA=", "number": 1346, "title": "3.2.0 Global not defined with in isPlainObject", "user": {"login": "jaidetree", "id": 590297, "node_id": "MDQ6VXNlcjU5MDI5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/590297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaidetree", "html_url": "https://github.com/jaidetree", "followers_url": "https://api.github.com/users/jaidetree/followers", "following_url": "https://api.github.com/users/jaidetree/following{/other_user}", "gists_url": "https://api.github.com/users/jaidetree/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaidetree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaidetree/subscriptions", "organizations_url": "https://api.github.com/users/jaidetree/orgs", "repos_url": "https://api.github.com/users/jaidetree/repos", "events_url": "https://api.github.com/users/jaidetree/events{/privacy}", "received_events_url": "https://api.github.com/users/jaidetree/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 16, "created_at": "2016-02-01T21:57:53Z", "updated_at": "2018-05-12T19:50:30Z", "closed_at": "2016-02-02T10:38:38Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "![screen shot 2016-02-01 at 4 55 12 pm](https://cloud.githubusercontent.com/assets/590297/12732647/95dd906a-c904-11e5-9fbd-0411bc7192ce.png)\n\nI'm building our app files with browserify, babel 6.4, envify, react-redux, react 0.14 and the bundles are throwing this error that global is not defined. I take it envify or loose envify is not factoring out the globals?\n\nFor now I have reverted to 3.1.7 of redux and 4.1.2 of react-redux but of course it would be nice to see a real fix.\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/1346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/1346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/128", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/128/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/128/events", "html_url": "https://github.com/reduxjs/redux/issues/128", "id": 89036014, "node_id": "MDU6SXNzdWU4OTAzNjAxNA==", "number": 128, "title": "Hot reload of components failing on some edge cases", "user": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-06-17T14:40:01Z", "updated_at": "2018-05-12T19:49:41Z", "closed_at": "2015-06-17T15:39:18Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I can't pinpoint _exactly_ what is needed for this to happen (I have a pretty complicated setup at the moment), but in some cases I'm getting \u201cThis probably means the DOM was unexpectedly mutated\u201d invariant violation on hot reload.\n\nIt seems related to hot reloading calling `forceUpdate`, which in turn causes `Provider#componentWillReceiveProps`, dispatcher replacing, and `setState` on the `Connector` components below in the tree that receive a new `select` prop.\n\nThe simple fix is to put a `setTimeout` when receiving a new dispatcher in `Provider`:\n\n``` js\n        if (redux !== nextRedux) {\n          setTimeout(() => {\n            const nextDispatcher = nextRedux.getDispatcher();\n            redux.replaceDispatcher(nextDispatcher);\n          });\n        }\n```\n\nI'm not a fan of this solution so I'll just leave this here for posterity and try to figure out the root issue later. Might be a React bug after all.\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/2244", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/2244/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/2244/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/2244/events", "html_url": "https://github.com/reduxjs/redux/issues/2244", "id": 208087614, "node_id": "MDU6SXNzdWUyMDgwODc2MTQ=", "number": 2244, "title": "DEV code is now in production bundle in master", "user": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [{"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-02-16T10:56:31Z", "updated_at": "2017-06-26T03:12:03Z", "closed_at": "2017-06-26T03:12:03Z", "assignee": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "This PR broke Uglify's dead code elimination for DEV: https://github.com/reactjs/redux/pull/2030.\r\n\r\nUglify is not smart enough to understand that if a literal is assigned to a variable, and later that variable gets compared, it's the same as literal. As a result, DEV-only code ends up in the production bundle:\r\n\r\n```js\r\n{var c=t[r];\"production\"!==p&&void 0===e[c]&&(0,l[\"default\"])('No reducer provided for key \"'+c+'\"'),\"function\"==typeof e[c\r\n```\r\n\r\nI suggest reverting #2030, at least in the current form.", "closed_by": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/2244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/2244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/3173", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/3173/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/3173/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/3173/events", "html_url": "https://github.com/reduxjs/redux/issues/3173", "id": 369737879, "node_id": "MDU6SXNzdWUzNjk3Mzc4Nzk=", "number": 3173, "title": "\"Refactoring Reducers\" recipe shouldn't promote over-abstraction", "user": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 225483610, "node_id": "MDU6TGFiZWwyMjU0ODM2MTA=", "url": "https://api.github.com/repos/reduxjs/redux/labels/docs", "name": "docs", "color": "316cbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-12T23:07:30Z", "updated_at": "2019-10-29T16:36:43Z", "closed_at": "2019-10-29T16:36:43Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "From https://redux.js.org/recipes/structuringreducers/refactoringreducersexample:\r\n\r\n>Now it's *very* clear what's happening in each case. We can also start to see some patterns emerging.\r\n\r\nI'd argue the original code is clearest of all examples, and every next iteration makes it more complex due to giving names to every intermediate concept that doesn't really deserve a name. That's how people come to thinking Redux is complex.\r\n\r\nI understand where the writer is coming from. But I don't think code like this should look like a recommendation. Maybe a less extreme version of this could be helpful but I think this form is giving the wrong impression.", "closed_by": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/3173/reactions", "total_count": 5, "+1": 4, "-1": 1, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/3173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/795", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/795/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/795/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/795/events", "html_url": "https://github.com/reduxjs/redux/pull/795", "id": 108143934, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU5MDQ3MjU=", "number": 795, "title": "Fix bug caused by inconsistent Todo state across components in the Basic chapter of the Docs", "user": {"login": "tylerhellner", "id": 7918530, "node_id": "MDQ6VXNlcjc5MTg1MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/7918530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tylerhellner", "html_url": "https://github.com/tylerhellner", "followers_url": "https://api.github.com/users/tylerhellner/followers", "following_url": "https://api.github.com/users/tylerhellner/following{/other_user}", "gists_url": "https://api.github.com/users/tylerhellner/gists{/gist_id}", "starred_url": "https://api.github.com/users/tylerhellner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tylerhellner/subscriptions", "organizations_url": "https://api.github.com/users/tylerhellner/orgs", "repos_url": "https://api.github.com/users/tylerhellner/repos", "events_url": "https://api.github.com/users/tylerhellner/events{/privacy}", "received_events_url": "https://api.github.com/users/tylerhellner/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 225483610, "node_id": "MDU6TGFiZWwyMjU0ODM2MTA=", "url": "https://api.github.com/repos/reduxjs/redux/labels/docs", "name": "docs", "color": "316cbf", "default": false, "description": ""}, {"id": 259215933, "node_id": "MDU6TGFiZWwyNTkyMTU5MzM=", "url": "https://api.github.com/repos/reduxjs/redux/labels/examples", "name": "examples", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-09-24T14:36:49Z", "updated_at": "2018-05-12T19:50:08Z", "closed_at": "2015-12-12T18:28:25Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/reduxjs/redux/pulls/795", "html_url": "https://github.com/reduxjs/redux/pull/795", "diff_url": "https://github.com/reduxjs/redux/pull/795.diff", "patch_url": "https://github.com/reduxjs/redux/pull/795.patch", "merged_at": null}, "body": "The tutorial for the TodoMVC app in documentation, the visibleTodos prop is passed to TodoList, which is mapped into a new array -- which I will call visibleTodos -- and rendered into Todo components. Upon doing so, the visibleTodos array now is at risk of becoming unlinked with the state.todos array as soon as a single item is completed. \n\nBecause the completeTodo reducer relies on parity between the indexes of the visibleTodos array and the state.todos array, bugs can occur when in trying to dispatch a completeTodo action in SHOW_ACTIVE view mode. The bug occurs because the visibleTodos array can be shorter than the state.todos array, and any index in the list can be filtered out once completed. \n\nIn the screen shot below, \"third\" has already been completed. When clicking on \"fourth\" todo  -- the fourth item in the state.todos array and third item in the visibleTodos array, the payload informs the app that it should complete the third item in the array, so nothing happens. \n![screen shot 2015-09-24 at 10 20 41 am](https://cloud.githubusercontent.com/assets/7918530/10075840/095aecec-62a6-11e5-86b5-dae69eb5a56b.png)\n\nLikewise, when clicking on the \"fifth\" todo --- fifth in state.todos but fourth in visibleTodos, it completes the \"fourth\" item by dispatching a payload targeting the index: 3.\n![screen shot 2015-09-24 at 10 21 03 am](https://cloud.githubusercontent.com/assets/7918530/10075901/5e758ba6-62a6-11e5-993f-8bd71a0447ff.png)\n\nI have crafted two solutions. The first is to map a uuid to each todo and have the completeTodo action splice the array using the index returned by Array.prototype.findIndex(todo.id) instead of the current position of the Todo in the visibleTodos array. This solution fixes the inaccuracies of the reducer, but it also requires actions and the reducer to be rewritten and another module to be installed.  I'm not a fan.\n\nInstead, why not pass the filtering mechanisms themselves to TodoList component via props by altering the selectTodos helper to return functions instead of filtered arrays? Now we are free to pass the entire state.todos array to TodoList and simply not render any todo within it that doesn't return true when passed to the filtering function. This keeps our state consistent across components without altering any reducers or actions. I believe this to be the elegant solution. It is included in this PR. \n\nMy apologies for such a big switch.\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/795/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/304", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/304/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/304/events", "html_url": "https://github.com/reduxjs/redux/issues/304", "id": 96810713, "node_id": "MDU6SXNzdWU5NjgxMDcxMw==", "number": 304, "title": "Dispatching action from iframe to store defined in parent window always throws", "user": {"login": "michalkvasnicak", "id": 174716, "node_id": "MDQ6VXNlcjE3NDcxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/174716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michalkvasnicak", "html_url": "https://github.com/michalkvasnicak", "followers_url": "https://api.github.com/users/michalkvasnicak/followers", "following_url": "https://api.github.com/users/michalkvasnicak/following{/other_user}", "gists_url": "https://api.github.com/users/michalkvasnicak/gists{/gist_id}", "starred_url": "https://api.github.com/users/michalkvasnicak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michalkvasnicak/subscriptions", "organizations_url": "https://api.github.com/users/michalkvasnicak/orgs", "repos_url": "https://api.github.com/users/michalkvasnicak/repos", "events_url": "https://api.github.com/users/michalkvasnicak/events{/privacy}", "received_events_url": "https://api.github.com/users/michalkvasnicak/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-07-23T13:13:06Z", "updated_at": "2018-05-12T19:49:48Z", "closed_at": "2015-07-23T15:22:22Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Dispatching an action from an iframe to store defined in a parent window always throws `Invariant Violation: Actions must be plain objects. Use custom middleware for async actions.`\n\nIt fails on the check `Object.getPrototypeOf(obj) === Object.prototype` in `isPlainObject`.\n\nOnly way to fix this is to expose actions in the parent window.\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/304/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/1129", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/1129/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/1129/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/1129/events", "html_url": "https://github.com/reduxjs/redux/issues/1129", "id": 121870719, "node_id": "MDU6SXNzdWUxMjE4NzA3MTk=", "number": 1129, "title": "Todos example in the docs (and todos-with-undo) should use IDs instead of indexes", "user": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 259215933, "node_id": "MDU6TGFiZWwyNTkyMTU5MzM=", "url": "https://api.github.com/repos/reduxjs/redux/labels/examples", "name": "examples", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-12T18:27:29Z", "updated_at": "2018-05-12T19:50:22Z", "closed_at": "2015-12-15T01:03:18Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "The problem is well described here: https://github.com/rackt/redux/pull/795.\n\nI didn't want that particular fix, so I closed the PR.\nThe fix I want is to use IDs instead of indexes, just like I do in [Egghead series](https://egghead.io/series/getting-started-with-redux).\n\nI'd happily merge a PR doing that.\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/1129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/1129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/461", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/461/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/461/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/461/events", "html_url": "https://github.com/reduxjs/redux/issues/461", "id": 100298057, "node_id": "MDU6SXNzdWUxMDAyOTgwNTc=", "number": 461, "title": "Unsubscribe a listener inside a listener has side-effects on other listeners", "user": {"login": "arian", "id": 109243, "node_id": "MDQ6VXNlcjEwOTI0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/109243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arian", "html_url": "https://github.com/arian", "followers_url": "https://api.github.com/users/arian/followers", "following_url": "https://api.github.com/users/arian/following{/other_user}", "gists_url": "https://api.github.com/users/arian/gists{/gist_id}", "starred_url": "https://api.github.com/users/arian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arian/subscriptions", "organizations_url": "https://api.github.com/users/arian/orgs", "repos_url": "https://api.github.com/users/arian/repos", "events_url": "https://api.github.com/users/arian/events{/privacy}", "received_events_url": "https://api.github.com/users/arian/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-08-11T12:10:13Z", "updated_at": "2018-05-12T19:49:55Z", "closed_at": "2015-08-11T18:14:22Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Unsubscribing a listener inside a listener, will splice the `listeners` array in the store of `createStore`, while looping over that array using `forEach` in `dispatch`.\n\nFor example the following program fails:\n\n``` js\nimport assert from 'assert';\nimport {createStore} from 'redux';\n\nvar store = createStore(() => []);\n\nvar countA = 0;\nvar countB = 0;\nvar countC = 0;\n\nvar unsubA = store.subscribe(() => {\n    countA++;\n});\n\nvar unsubB = store.subscribe(() => {\n    countB++;\n    unsubB();\n});\n\nvar unsubC = store.subscribe(() => {\n    countC++;\n});\n\nstore.dispatch({type: 'X'});\nstore.dispatch({type: 'Y'});\n\nconsole.log(countA, countB, countC);\n\nassert.equal(countA, 2, 'countA');\nassert.equal(countB, 1, 'countB');\nassert.equal(countC, 2, 'countC');\n```\n\n`countC` is **1**, but it should be **2**.\n\nA fix for this problem would be to copy the array before doing the `forEach` in the `dispatch` function, for example:\n\n``` js\nlisteners.slice().forEach(listener => listener());\n```\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/461/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/461/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/3562", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/3562/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/3562/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/3562/events", "html_url": "https://github.com/reduxjs/redux/issues/3562", "id": 488741382, "node_id": "MDU6SXNzdWU0ODg3NDEzODI=", "number": 3562, "title": "Broken link in the docs, section 'Learning resources'", "user": {"login": "AlbertVilaCalvo", "id": 4823860, "node_id": "MDQ6VXNlcjQ4MjM4NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/4823860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlbertVilaCalvo", "html_url": "https://github.com/AlbertVilaCalvo", "followers_url": "https://api.github.com/users/AlbertVilaCalvo/followers", "following_url": "https://api.github.com/users/AlbertVilaCalvo/following{/other_user}", "gists_url": "https://api.github.com/users/AlbertVilaCalvo/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlbertVilaCalvo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlbertVilaCalvo/subscriptions", "organizations_url": "https://api.github.com/users/AlbertVilaCalvo/orgs", "repos_url": "https://api.github.com/users/AlbertVilaCalvo/repos", "events_url": "https://api.github.com/users/AlbertVilaCalvo/events{/privacy}", "received_events_url": "https://api.github.com/users/AlbertVilaCalvo/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 225483610, "node_id": "MDU6TGFiZWwyMjU0ODM2MTA=", "url": "https://api.github.com/repos/reduxjs/redux/labels/docs", "name": "docs", "color": "316cbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-03T17:52:44Z", "updated_at": "2019-10-29T20:36:39Z", "closed_at": "2019-10-29T20:36:39Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "There's a broken link in this page of the docs: https://redux.js.org/introduction/learning-resources\r\n\r\nThe broken link is: https://www.pshrmn.com/tutorials/react/redux/\r\n\r\nI don't see any tutorial now in https://www.pshrmn.com (otherwise I'd open a pull request)\r\n", "closed_by": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/3562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/3562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/1748", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/1748/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/1748/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/1748/events", "html_url": "https://github.com/reduxjs/redux/issues/1748", "id": 155838923, "node_id": "MDU6SXNzdWUxNTU4Mzg5MjM=", "number": 1748, "title": "combineReducers does not remove unexpected keys when reducers have no changes", "user": {"login": "gwwar", "id": 1270189, "node_id": "MDQ6VXNlcjEyNzAxODk=", "avatar_url": "https://avatars.githubusercontent.com/u/1270189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gwwar", "html_url": "https://github.com/gwwar", "followers_url": "https://api.github.com/users/gwwar/followers", "following_url": "https://api.github.com/users/gwwar/following{/other_user}", "gists_url": "https://api.github.com/users/gwwar/gists{/gist_id}", "starred_url": "https://api.github.com/users/gwwar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gwwar/subscriptions", "organizations_url": "https://api.github.com/users/gwwar/orgs", "repos_url": "https://api.github.com/users/gwwar/repos", "events_url": "https://api.github.com/users/gwwar/events{/privacy}", "received_events_url": "https://api.github.com/users/gwwar/received_events", "type": "User", "user_view_type": "public", "site_admin": true}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-05-19T21:25:39Z", "updated_at": "2018-05-12T19:50:47Z", "closed_at": "2016-06-23T00:13:05Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "For example in the following, I would expect `newState` to equal `{ id: 1234, name: 'hello' }` but it instead returns `currentState`.\n\n``` javascript\nconst currentState = { id: 1234, name: 'hello', unexpected: 4567 };\nconst reducer = combineReducers( { id, name } );\nconst newState = reducer( currentState, {} );\n```\n\nThe additional key is harmless in code, but it is annoying since an error warning may be printed to console repeatedly. This case is pretty easy to run into if the redux tree is persisted and the data shape changes.\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/1748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/1748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/524", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/524/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/524/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/524/events", "html_url": "https://github.com/reduxjs/redux/issues/524", "id": 101132565, "node_id": "MDU6SXNzdWUxMDExMzI1NjU=", "number": 524, "title": "Error in count of TodoMVC example", "user": {"login": "imjared", "id": 525011, "node_id": "MDQ6VXNlcjUyNTAxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/525011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imjared", "html_url": "https://github.com/imjared", "followers_url": "https://api.github.com/users/imjared/followers", "following_url": "https://api.github.com/users/imjared/following{/other_user}", "gists_url": "https://api.github.com/users/imjared/gists{/gist_id}", "starred_url": "https://api.github.com/users/imjared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imjared/subscriptions", "organizations_url": "https://api.github.com/users/imjared/orgs", "repos_url": "https://api.github.com/users/imjared/repos", "events_url": "https://api.github.com/users/imjared/events{/privacy}", "received_events_url": "https://api.github.com/users/imjared/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-08-15T02:33:59Z", "updated_at": "2018-05-12T19:49:57Z", "closed_at": "2015-08-15T10:17:19Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I'd love to send a PR for this one since I'm just getting my feet wet but it might take me a bit so I'll defer to people smarter :)\n\nTo reproduce:\n1. Load TodoMVC example\n2. Add a few items to your todo list. Note that the counter properly increments (mine is at 4)\n3. Mark one item as complete. Note that the counter properly decrements (mine is at 3)\n4. Toggle the view to show only completed tasks. Note the counter still correctly shows the number of items left on your list. (mine is at 3)\n5. Click \"clear completed.\" You should still have the correct number of items displaying. (mine is at 3)\n6. Go back to the \"all\" view. Add a new item to the list.\n\nExpected result:\n1. The list should grow in length with the item I just added at the top. The counter of \"items left\" should increment by one\n\nActual result\n1. My item is added to the top but the last item on the list disappears. The counter of \"items left\" has incremented by one but only three items are visible. ![image](https://cloud.githubusercontent.com/assets/525011/9287112/15902fa0-42d4-11e5-8f2b-48c006de3689.png)\n2. Adding new items after this will grow the list as expected but the Todo that disappeared will remain gone. The counter of \"items left\" still accounts for the missing Todo.\n\nThere's some additional funk on the counter that occurs if you remove an item from the list while it's in this incremented state. I can file more of a bug report if needed but I have a hunch that resolving this problem will resolve the latter issue.\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/524/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/364", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/364/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/364/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/364/events", "html_url": "https://github.com/reduxjs/redux/issues/364", "id": 98198338, "node_id": "MDU6SXNzdWU5ODE5ODMzOA==", "number": 364, "title": "Strange state behavior when calling an actionCreator in a redux subscriber", "user": {"login": "happypoulp", "id": 100044, "node_id": "MDQ6VXNlcjEwMDA0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/100044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/happypoulp", "html_url": "https://github.com/happypoulp", "followers_url": "https://api.github.com/users/happypoulp/followers", "following_url": "https://api.github.com/users/happypoulp/following{/other_user}", "gists_url": "https://api.github.com/users/happypoulp/gists{/gist_id}", "starred_url": "https://api.github.com/users/happypoulp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/happypoulp/subscriptions", "organizations_url": "https://api.github.com/users/happypoulp/orgs", "repos_url": "https://api.github.com/users/happypoulp/repos", "events_url": "https://api.github.com/users/happypoulp/events{/privacy}", "received_events_url": "https://api.github.com/users/happypoulp/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-30T15:33:23Z", "updated_at": "2018-05-12T19:49:51Z", "closed_at": "2015-07-30T19:10:12Z", "assignee": null, "author_association": "NONE", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Hi,\n\nI came across a strange state behavior using redux 0.12 and I don't know if it's a bug or a misuse. The code above does not reflect my real code but is the best minimal example I could came up with that highlight the \"bug\".\n\n``` javascript\n// test.js\nimport { createRedux } from 'redux'\n\nvar stores = {\n    connectStore(state = {}, action) {\n      console.log('store.connectStore(), action received: state', state, 'action', action)\n      switch (action.type) {\n        case 'CONNECT':\n          return {\n            ...state,\n            logged: true\n          }\n        default: return state\n      }\n    },\n    profileStore (state = {}, action) {\n      console.log('store.profileStore(), action received: state', state, 'action', action)\n      switch (action.type) {\n        case 'PROFILE':\n          return {\n            ...state,\n            description: 'test desc'\n          }\n        default: return state\n      }\n    }\n}\n\nvar actionCreators = {\n    connect() {\n      console.log(\"\\n\", 'actionCreators.connect()', \"\\n\")\n      return { type: 'CONNECT' }\n    },\n    getProfileData() {\n      console.log(\"\\n\", 'actionCreators.getProfileData()', \"\\n\")\n      return { type: 'PROFILE' }\n    },\n    aLastAction() {\n      console.log(\"\\n\", 'actionCreators.aLastAction()', \"\\n\")\n      return { type: 'ANOTHER_ACTION' }\n    }\n}\n\nvar redux = createRedux(stores)\nvar fetchedProfileData = false\n\nredux.subscribe(() => {\n  console.log('SIMPLE REDUX SUBSCRIBER - connectStore:', redux.getState().connectStore)\n  if (redux.getState().connectStore.logged) {\n    if (!fetchedProfileData) {\n      redux.dispatch(actionCreators.getProfileData())\n      fetchedProfileData = true\n    }\n  }\n})\n\nredux.dispatch(actionCreators.connect())\n\nsetTimeout(() => { redux.dispatch(actionCreators.aLastAction()) }, 500)\n```\n\nRunning this script using `babel-node --stage=0 test.js` produce the following output:\n\n<pre>\nstore.connectStore(), action received: state {} action { type: '@@INIT' }\nstore.profileStore(), action received: state {} action { type: '@@INIT' }\n\n actionCreators.connect()\n\nstore.connectStore(), action received: state {} action { type: 'CONNECT' }\nstore.profileStore(), action received: state {} action { type: 'CONNECT' }\nSIMPLE REDUX SUBSCRIBER - connectStore: { logged: true }\n\n actionCreators.getProfileData()\n\nstore.connectStore(), action received: state {} action { type: 'PROFILE' }\nstore.profileStore(), action received: state {} action { type: 'PROFILE' }\nSIMPLE REDUX SUBSCRIBER - connectStore: {}\n\n actionCreators.aLastAction()\n\nstore.connectStore(), action received: state { logged: true } action { type: 'ANOTHER_ACTION' }\nstore.profileStore(), action received: state {} action { type: 'ANOTHER_ACTION' }\nSIMPLE REDUX SUBSCRIBER - connectStore: { logged: true }\n</pre>\n\n\nWhat I interpret as a bug are the connectStore value being `{}` just after calling actionCreators.getProfileData().\n\n<pre>\n...\nSIMPLE REDUX SUBSCRIBER - connectStore: { logged: true }\n\n actionCreators.getProfileData()\n\nstore.connectStore(), action received: state {} action { type: 'PROFILE' }\nstore.profileStore(), action received: state {} action { type: 'PROFILE' }\nSIMPLE REDUX SUBSCRIBER - connectStore: {}\n\n...\n</pre>\n\n\nMy understanding of redux was that after having filled the connectStore with `{logged: true}`, a new action triggered should be applied on this new store value. But unfortunately I get an empty connectStore when calling  `actionCreators.getProfileData()`...\n\nI was expecting to have:\n\n<pre>\n...\nSIMPLE REDUX SUBSCRIBER - connectStore: { logged: true }\n\n actionCreators.getProfileData()\n\nstore.connectStore(), action received: state { logged: true } action { type: 'PROFILE' }\nstore.profileStore(), action received: state {} action { type: 'PROFILE' }\nSIMPLE REDUX SUBSCRIBER - connectStore: {}\n\n...\n</pre>\n\n\nAfter some console.log in redux I found out that this behavior seems to be due to the state being kept in 2 different places:\n1) in `createDispatcher.js` via a closure on `dispatch`\n2) in `Redux.js` via this.state\n\nso when calling `dispatch(action)` (in `createDispatcher.js`), if another action is triggered in a redux listener (in `Redux.js`), the second action does not benefit from the update that the first action triggered (because it was not written yet in closured `state` in `createDispatcher.js`). Here is some redux code above to explain what I mean.\n\n``` javascript\n    // createDispatcher.js\n    var state = setState(store(initialState, INIT_ACTION)); // the closure state variable\n    function dispatch(action) {\n      // state = ... is only effective AFTER all listeners in Redux.setState have been called\n      state = setState(store(state, action)); \n      return action;\n    }\n\n  // REDUX.js\n  Redux.prototype.setState = function setState(nextState) {\n    this.state = nextState; // the state property of Redux\n    this.listeners.forEach(function (listener) {\n      // if another action is called in 'listener', we'll end up with Redux.state != createDispatcher.state\n      return listener();\n    });\n    return nextState;\n  };\n```\n\nMaybe this is the normal behavior but I don't feel like calling an action from a listener is a wrong since it is pretty common when you realize that the listener may call a React component lifecycle method (thanks to `@connect` decorator).\n\nThanks!\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/3172", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/3172/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/3172/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/3172/events", "html_url": "https://github.com/reduxjs/redux/issues/3172", "id": 369736650, "node_id": "MDU6SXNzdWUzNjk3MzY2NTA=", "number": 3172, "title": "Change docs examples to always use two spaces", "user": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 225483610, "node_id": "MDU6TGFiZWwyMjU0ODM2MTA=", "url": "https://api.github.com/repos/reduxjs/redux/labels/docs", "name": "docs", "color": "316cbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-12T23:01:31Z", "updated_at": "2018-10-24T11:41:26Z", "closed_at": "2018-10-24T11:41:26Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "Noticed that some of the docs in the recipes section appear to be using four spaces. This is inconsistent with both the rest of the docs and with prevalent JS style in general.", "closed_by": {"login": "timdorr", "id": 17882, "node_id": "MDQ6VXNlcjE3ODgy", "avatar_url": "https://avatars.githubusercontent.com/u/17882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timdorr", "html_url": "https://github.com/timdorr", "followers_url": "https://api.github.com/users/timdorr/followers", "following_url": "https://api.github.com/users/timdorr/following{/other_user}", "gists_url": "https://api.github.com/users/timdorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/timdorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timdorr/subscriptions", "organizations_url": "https://api.github.com/users/timdorr/orgs", "repos_url": "https://api.github.com/users/timdorr/repos", "events_url": "https://api.github.com/users/timdorr/events{/privacy}", "received_events_url": "https://api.github.com/users/timdorr/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/3172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/3172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/reduxjs/redux/issues/938", "repository_url": "https://api.github.com/repos/reduxjs/redux", "labels_url": "https://api.github.com/repos/reduxjs/redux/issues/938/labels{/name}", "comments_url": "https://api.github.com/repos/reduxjs/redux/issues/938/comments", "events_url": "https://api.github.com/repos/reduxjs/redux/issues/938/events", "html_url": "https://github.com/reduxjs/redux/issues/938", "id": 112961907, "node_id": "MDU6SXNzdWUxMTI5NjE5MDc=", "number": 938, "title": "Call unsubscribe many times will remove other listeners", "user": {"login": "jzlxiaohei", "id": 1884248, "node_id": "MDQ6VXNlcjE4ODQyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1884248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jzlxiaohei", "html_url": "https://github.com/jzlxiaohei", "followers_url": "https://api.github.com/users/jzlxiaohei/followers", "following_url": "https://api.github.com/users/jzlxiaohei/following{/other_user}", "gists_url": "https://api.github.com/users/jzlxiaohei/gists{/gist_id}", "starred_url": "https://api.github.com/users/jzlxiaohei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jzlxiaohei/subscriptions", "organizations_url": "https://api.github.com/users/jzlxiaohei/orgs", "repos_url": "https://api.github.com/users/jzlxiaohei/repos", "events_url": "https://api.github.com/users/jzlxiaohei/events{/privacy}", "received_events_url": "https://api.github.com/users/jzlxiaohei/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "labels": [{"id": 218057855, "node_id": "MDU6TGFiZWwyMTgwNTc4NTU=", "url": "https://api.github.com/repos/reduxjs/redux/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-23T06:29:35Z", "updated_at": "2018-05-12T19:50:14Z", "closed_at": "2015-10-23T11:50:48Z", "assignee": null, "author_association": "CONTRIBUTOR", "type": null, "active_lock_reason": null, "sub_issues_summary": {"total": 0, "completed": 0, "percent_completed": 0}, "issue_dependencies_summary": {"blocked_by": 0, "total_blocked_by": 0, "blocking": 0, "total_blocking": 0}, "body": "I write a test\n\n```\nconst store = createStore(reducers.todos);\nconst listenerA = expect.createSpy(() => {});\nconst listenerB = expect.createSpy(() => {});\n\nlet unsubscribeA = store.subscribe(listenerA);\nstore.subscribe(listenerB);\n\nunsubscribeA();\nunsubscribeA();//invoke two times\n\nstore.dispatch(unknownAction());\nexpect(listenerA.calls.length).toBe(0);\nexpect(listenerB.calls.length).toBe(1); // failed\n```\n\nreason:\n\n   `arr.splice(-1,1)` still remove the item of the arr.\n\n//createStore.js  \n\n```\nfunction subscribe(listener) {\n    listeners.push(listener);\n\n    return function unsubscribe() {\n      var index = listeners.indexOf(listener);\n      // if index ===1 ,should return\n      listeners.splice(index, 1);\n    };\n```\n\n  }\n", "closed_by": {"login": "gaearon", "id": 810438, "node_id": "MDQ6VXNlcjgxMDQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/810438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaearon", "html_url": "https://github.com/gaearon", "followers_url": "https://api.github.com/users/gaearon/followers", "following_url": "https://api.github.com/users/gaearon/following{/other_user}", "gists_url": "https://api.github.com/users/gaearon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaearon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaearon/subscriptions", "organizations_url": "https://api.github.com/users/gaearon/orgs", "repos_url": "https://api.github.com/users/gaearon/repos", "events_url": "https://api.github.com/users/gaearon/events{/privacy}", "received_events_url": "https://api.github.com/users/gaearon/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/reduxjs/redux/issues/938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/reduxjs/redux/issues/938/timeline", "performed_via_github_app": null, "state_reason": "completed"}]}